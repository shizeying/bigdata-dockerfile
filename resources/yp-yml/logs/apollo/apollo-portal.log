
2023-02-21 20:16:08.656  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 244 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:16:08.669  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:16:10.345  INFO 244 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:16:10.792  INFO 244 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:16:11.282  INFO 244 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:16:11.367  WARN 244 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:16:11.424  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.451 seconds (JVM running for 4.475)
2023-02-21 20:16:11.433  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:16:11.562  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:16:12.729  INFO 244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:16:12.735  INFO 244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:16:13.041  INFO 244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 292 ms. Found 14 JPA repository interfaces.
2023-02-21 20:16:13.257  INFO 244 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:16:14.029  INFO 244 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:16:14.054  INFO 244 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:16:14.058  INFO 244 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:16:14.190  INFO 244 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:16:14.192  INFO 244 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2621 ms
2023-02-21 20:16:14.409  INFO 244 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:16:14.819  INFO 244 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:16:15.730  INFO 244 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:16:15.842  INFO 244 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:16:16.003  INFO 244 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:16:16.450  INFO 244 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:16:16.878  INFO 244 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:16:17.052  WARN 244 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:16:18.538  INFO 244 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:16:18.556  INFO 244 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:16:19.624  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:16:19.627  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:16:19.629  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:16:19.630  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:16:19.633  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:16:19.634  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:16:19.635  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:16:19.637  INFO 244 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:16:20.053  INFO 244 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:16:20.058  INFO 244 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:16:20.456  INFO 244 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:16:20.910  WARN 244 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:16:21.161  INFO 244 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:16:21.300 ERROR 244 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:16:21.305 ERROR 244 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:16:21.461  INFO 244 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:16:21.937  INFO 244 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:16:21.967  WARN 244 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:16:21.978  INFO 244 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:16:22.097  INFO 244 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:16:22.117  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.677 seconds (JVM running for 15.169)
2023-02-21 20:16:22.167  INFO 244 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:16:27.098  INFO 244 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:16:27.101  INFO 244 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:16:27.107  INFO 244 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:16:55.429  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:16:55.435  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:16:57.045  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:16:57.753  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:16:58.605  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:16:58.724  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:16:58.808  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.99 seconds (JVM running for 5.033)
2023-02-21 20:16:58.821  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:16:58.961  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:17:00.432  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:17:00.438  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:17:00.739  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 14 JPA repository interfaces.
2023-02-21 20:17:00.905  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:17:01.545  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:17:01.563  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:17:01.567  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:17:01.695  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:17:01.697  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2725 ms
2023-02-21 20:17:01.873  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:17:02.021  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:17:02.727  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:17:02.881  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:17:03.046  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:17:03.396  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:17:03.644  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:17:03.808  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:17:05.272  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:17:05.295  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:17:06.787  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:17:06.790  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:17:06.794  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:17:06.796  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:17:06.799  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:17:06.800  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:17:06.802  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:17:06.803  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:17:07.325  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:17:07.331  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:17:07.794  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:17:08.199  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:17:08.462  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:17:08.602 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:17:08.606 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:17:08.799  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:17:09.244  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:17:09.283  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:17:09.300  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:17:09.441  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:17:09.463  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.632 seconds (JVM running for 15.687)
2023-02-21 20:17:09.515  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:17:13.921  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:17:13.925  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:17:13.931  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:17:43.257  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:17:43.266  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:17:45.240  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:17:46.125  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:17:46.881  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:17:46.976  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:17:47.078  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.749 seconds (JVM running for 6.422)
2023-02-21 20:17:47.094  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:17:47.228  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:17:49.018  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:17:49.032  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:17:49.671  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 613 ms. Found 14 JPA repository interfaces.
2023-02-21 20:17:50.131  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:17:51.443  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:17:51.470  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:17:51.474  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:17:51.634  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:17:51.637  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4398 ms
2023-02-21 20:17:51.874  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:17:52.192  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:17:53.048  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:17:53.221  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:17:53.434  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:17:54.412  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:17:55.085  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:17:55.316  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:17:57.003  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:17:57.027  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:17:58.323  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:17:58.328  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:17:58.331  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:17:58.333  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:17:58.337  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:17:58.338  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:17:58.340  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:17:58.342  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:17:58.833  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:17:58.840  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:17:59.342  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:17:59.856  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:18:00.118 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:18:00.123 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:18:00.233  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:18:00.646  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:18:01.072  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:18:01.106  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:18:01.122  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:18:01.511  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:18:01.549  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 14.444 seconds (JVM running for 20.892)
2023-02-21 20:18:01.655  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:18:05.831  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:18:05.835  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:18:05.842  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 20:18:45.502  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:18:45.512  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:18:47.915  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:18:48.673  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:18:49.284  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:18:49.393  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:18:49.458  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.965 seconds (JVM running for 6.528)
2023-02-21 20:18:49.467  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:18:49.597  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:18:51.383  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:18:51.392  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:18:51.789  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 373 ms. Found 14 JPA repository interfaces.
2023-02-21 20:18:52.051  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:18:52.938  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:18:52.962  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:18:52.967  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:18:53.155  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:18:53.157  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3547 ms
2023-02-21 20:18:53.353  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:18:53.572  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:18:54.427  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:18:54.585  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:18:54.727  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:18:55.100  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:18:55.407  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:18:55.577  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:18:57.433  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:18:57.461  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:18:59.298  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:18:59.302  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:18:59.304  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:18:59.306  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:18:59.310  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:18:59.312  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:18:59.314  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:18:59.316  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:18:59.987  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:18:59.995  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:19:00.631  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:19:01.178  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:19:01.345 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:19:01.347 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:19:01.535  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:19:02.040  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:19:02.553  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:19:02.600  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:19:02.621  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:19:02.806  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:19:02.836  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.355 seconds (JVM running for 19.905)
2023-02-21 20:19:02.909  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:19:03.113  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:19:03.114  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:19:03.121  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:19:38.122  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:19:38.130  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:19:40.442  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:19:41.129  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:19:41.871  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:19:42.000  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:19:42.067  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.129 seconds (JVM running for 7.157)
2023-02-21 20:19:42.079  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:19:42.248  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:19:43.995  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:19:44.003  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:19:44.383  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 362 ms. Found 14 JPA repository interfaces.
2023-02-21 20:19:44.617  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:19:45.618  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:19:45.638  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:19:45.643  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:19:45.940  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:19:45.943  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3684 ms
2023-02-21 20:19:46.159  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:19:46.339  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:19:47.271  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:19:47.404  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:19:47.560  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:19:48.071  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:19:48.450  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:19:48.634  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:19:52.280  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:19:52.304  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:19:53.957  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:19:53.961  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:19:53.965  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:19:53.967  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:19:53.971  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:19:53.972  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:19:53.998  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:19:54.003  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:19:54.588  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:19:54.598  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:19:55.234  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:19:55.991 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:19:55.999 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:19:56.057  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:19:56.667  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:19:57.170  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:19:57.570  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:19:57.603  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:19:57.614  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:19:57.752  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:19:57.776  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 15.687 seconds (JVM running for 22.867)
2023-02-21 20:19:57.844  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:19:58.740  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:19:58.744  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:19:58.750  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:20:35.892  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:20:35.900  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:20:38.169  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:20:38.970  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:20:39.949  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:20:40.106  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:20:40.242  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.42 seconds (JVM running for 7.588)
2023-02-21 20:20:40.261  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:20:40.413  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:20:42.072  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:20:42.079  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:20:42.440  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 340 ms. Found 14 JPA repository interfaces.
2023-02-21 20:20:42.663  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:20:43.478  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:20:43.498  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:20:43.501  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:20:43.653  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:20:43.655  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3224 ms
2023-02-21 20:20:43.821  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:20:43.987  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:20:44.737  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:20:44.838  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:20:44.999  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:20:45.337  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:20:45.619  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:20:45.810  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:20:47.621  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:20:47.642  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:20:48.921  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:20:48.925  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:20:48.928  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:20:48.929  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:20:48.932  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:20:48.933  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:20:48.934  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:20:48.936  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:20:49.498  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:20:49.505  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:20:50.088  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:20:50.529  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:20:50.875 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:20:50.879 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:20:51.061  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:20:51.503  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:20:52.127  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:20:52.162  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:20:52.177  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:20:52.346  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:20:52.371  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.098 seconds (JVM running for 19.718)
2023-02-21 20:20:52.437  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:20:52.823  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:20:52.825  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:20:52.831  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:21:22.858  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:21:22.867  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:21:24.775  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:21:25.365  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:21:25.996  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:21:26.083  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:21:26.154  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.284 seconds (JVM running for 5.812)
2023-02-21 20:21:26.167  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:21:26.299  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:21:28.096  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:21:28.102  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:21:28.563  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 445 ms. Found 14 JPA repository interfaces.
2023-02-21 20:21:28.819  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:21:29.759  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:21:29.783  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:21:29.788  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:21:29.951  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:21:29.953  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3643 ms
2023-02-21 20:21:30.191  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:21:30.405  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:21:31.558  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:21:31.735  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:21:31.964  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:21:32.469  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:21:32.853  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:21:33.083  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:21:34.735  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:21:34.762  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:21:36.192  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:21:36.196  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:21:36.201  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:21:36.202  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:21:36.206  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:21:36.207  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:21:36.209  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:21:36.210  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:21:36.670  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:21:36.677  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:21:37.216  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:21:37.638  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:21:37.923  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:21:37.993 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:21:37.999 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:21:38.248  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:21:38.606  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:21:38.638  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:21:38.648  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:21:38.801  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:21:38.822  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.644 seconds (JVM running for 18.479)
2023-02-21 20:21:38.878  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:21:40.505  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:21:40.509  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:21:40.517  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 20:22:09.770  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:22:09.777  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:22:11.478  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:22:12.106  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:22:12.671  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:22:12.770  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:22:12.830  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.001 seconds (JVM running for 5.349)
2023-02-21 20:22:12.840  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:22:12.962  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:22:14.470  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:22:14.475  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:22:14.847  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 357 ms. Found 14 JPA repository interfaces.
2023-02-21 20:22:15.059  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:22:15.797  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:22:15.817  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:22:15.821  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:22:15.967  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:22:15.969  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2996 ms
2023-02-21 20:22:16.152  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:22:16.324  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:22:17.000  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:22:17.111  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:22:17.240  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:22:17.569  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:22:17.833  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:22:17.984  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:22:19.362  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:22:19.382  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:22:20.530  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:22:20.533  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:22:20.537  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:22:20.539  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:22:20.542  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:22:20.543  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:22:20.545  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:22:20.547  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:22:21.072  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:22:21.077  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:22:21.486  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:22:21.906  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:22:22.184  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:22:22.301 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:22:22.306 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:22:22.481  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:22:22.835  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:22:22.864  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:22:22.875  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:22:22.998  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:22:23.023  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.174 seconds (JVM running for 15.542)
2023-02-21 20:22:23.078  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:22:27.605  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:22:27.608  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:22:27.612  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:23:07.019  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:23:07.025  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:23:08.520  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:23:09.041  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:23:09.608  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:23:09.717  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:23:09.794  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.834 seconds (JVM running for 5.323)
2023-02-21 20:23:09.805  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:23:09.902  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:23:11.440  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:23:11.447  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:23:11.766  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 305 ms. Found 14 JPA repository interfaces.
2023-02-21 20:23:11.958  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:23:12.616  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:23:12.645  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:23:12.650  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:23:12.912  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:23:12.914  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3003 ms
2023-02-21 20:23:13.075  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:23:13.228  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:23:13.813  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:23:13.911  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:23:14.421  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:23:15.374  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:23:15.649  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:23:15.782  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:23:17.563  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:23:17.585  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:23:19.554  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:23:19.559  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:23:19.562  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:23:19.564  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:23:19.568  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:23:19.570  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:23:19.574  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:23:19.576  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:23:20.182  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:23:20.189  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:23:20.635  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:23:21.344  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:23:21.442 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:23:21.443 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:23:21.653  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:23:22.043  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:23:22.442  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:23:22.470  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:23:22.482  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:23:22.612  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:23:22.637  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.823 seconds (JVM running for 18.166)
2023-02-21 20:23:22.697  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:23:24.612  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:23:24.615  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:23:24.620  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:24:03.996  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:24:04.008  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:24:05.953  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:24:06.665  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:24:07.312  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:24:07.398  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:24:07.457  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.425 seconds (JVM running for 5.906)
2023-02-21 20:24:07.465  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:24:07.580  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:24:09.196  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:24:09.203  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:24:09.576  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 356 ms. Found 14 JPA repository interfaces.
2023-02-21 20:24:09.793  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:24:10.529  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:24:10.550  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:24:10.553  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:24:10.691  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:24:10.693  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3104 ms
2023-02-21 20:24:10.875  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:24:11.076  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:24:11.799  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:24:11.987  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:24:12.196  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:24:12.581  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:24:12.881  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:24:13.038  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:25:18.765  WARN 251 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m6s864ms791µs168ns).
2023-02-21 20:25:20.016  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:25:20.038  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:25:21.285  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:25:21.288  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:25:21.290  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:25:21.293  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:25:21.294  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:25:21.296  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:25:21.298  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:25:21.301  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:25:21.785  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:25:21.791  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:25:22.239  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:25:22.676  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:25:22.980  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:25:23.319  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:25:23.683  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:25:23.712  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:25:23.723  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:25:23.845  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:25:23.871  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 77.442 seconds (JVM running for 83.364)
2023-02-21 20:25:23.933  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:25:31.455  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:25:31.537  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:25:31.629  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 36 ms
2023-02-21 20:39:52.693  WARN 251 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m34s974ms805µs610ns).
2023-02-21 20:42:15.216  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 266 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:42:15.221  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:42:16.833  INFO 266 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:42:17.312  INFO 266 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:42:17.759  INFO 266 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:42:17.826  WARN 266 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:42:17.871  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.292 seconds (JVM running for 4.22)
2023-02-21 20:42:17.878  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:42:17.963  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:42:19.160  INFO 266 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:42:19.166  INFO 266 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:42:19.432  INFO 266 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 253 ms. Found 14 JPA repository interfaces.
2023-02-21 20:42:19.580  INFO 266 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:42:20.145  INFO 266 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:42:20.157  INFO 266 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:42:20.158  INFO 266 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:42:20.268  INFO 266 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:42:20.269  INFO 266 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2298 ms
2023-02-21 20:42:20.407  INFO 266 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:42:20.555  INFO 266 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:42:21.076  INFO 266 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:42:21.149  INFO 266 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:42:21.255  INFO 266 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:42:21.506  INFO 266 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:42:21.689  INFO 266 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:42:21.803  WARN 266 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:42:22.909  INFO 266 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:42:22.916  INFO 266 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:42:24.042  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:42:24.045  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:42:24.048  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:42:24.049  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:42:24.052  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:42:24.053  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:42:24.054  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:42:24.055  INFO 266 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:42:24.402  INFO 266 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:42:24.416  INFO 266 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:42:24.783  INFO 266 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:42:25.174  WARN 266 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:42:25.468  INFO 266 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:42:25.633 ERROR 266 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:42:25.635 ERROR 266 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:42:25.722  INFO 266 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:42:26.060  INFO 266 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:42:26.085  WARN 266 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:42:26.095  INFO 266 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:42:26.202  INFO 266 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:42:26.223  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.348 seconds (JVM running for 12.583)
2023-02-21 20:42:26.271  INFO 266 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:42:28.796  INFO 266 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:42:28.800  INFO 266 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:42:28.808  INFO 266 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 20:43:02.590  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:43:02.596  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:43:04.497  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:43:04.968  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:43:05.417  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:43:05.500  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:43:05.546  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.857 seconds (JVM running for 5.151)
2023-02-21 20:43:05.554  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:43:05.647  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:43:06.834  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:43:06.840  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:43:07.221  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 364 ms. Found 14 JPA repository interfaces.
2023-02-21 20:43:07.434  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:43:08.089  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:43:08.112  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:43:08.118  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:43:08.297  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:43:08.299  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2642 ms
2023-02-21 20:43:08.480  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:43:08.673  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:43:09.247  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:43:09.331  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:43:09.478  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:43:09.826  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:43:10.076  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:43:10.203  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:43:11.411  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:43:11.431  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:43:12.572  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:43:12.575  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:43:12.577  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:43:12.579  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:43:12.581  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:43:12.582  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:43:12.583  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:43:12.584  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:43:13.015  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:43:13.021  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:43:13.507  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:43:13.916  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:43:14.168  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:43:14.338 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:43:14.342 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:43:14.441  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:43:14.760  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:43:14.794  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:43:14.804  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:43:14.909  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:43:14.926  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.365 seconds (JVM running for 14.531)
2023-02-21 20:43:14.968  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:43:15.511  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:43:15.513  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:43:15.519  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:44:25.491  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 243 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:44:25.499  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:44:27.477  INFO 243 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:44:28.039  INFO 243 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:44:28.596  INFO 243 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:44:28.693  WARN 243 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:44:28.743  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.097 seconds (JVM running for 5.208)
2023-02-21 20:44:28.750  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:44:28.857  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:44:30.247  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:44:30.254  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:44:30.578  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 307 ms. Found 14 JPA repository interfaces.
2023-02-21 20:44:30.752  INFO 243 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:44:31.485  INFO 243 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:44:31.501  INFO 243 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:44:31.505  INFO 243 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:44:31.621  INFO 243 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:44:31.622  INFO 243 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2755 ms
2023-02-21 20:44:31.786  INFO 243 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:44:31.964  INFO 243 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:44:32.874  INFO 243 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:44:33.107  INFO 243 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:44:33.299  INFO 243 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:44:33.761  INFO 243 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:44:34.046  INFO 243 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:44:34.177  WARN 243 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:44:35.713  INFO 243 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:44:35.733  INFO 243 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:44:37.468  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:44:37.473  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:44:37.494  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:44:37.496  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:44:37.499  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:44:37.501  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:44:37.502  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:44:37.503  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:44:38.053  INFO 243 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:44:38.059  INFO 243 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:44:38.991  INFO 243 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:44:39.519  WARN 243 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:44:39.627 ERROR 243 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:44:39.629 ERROR 243 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:44:39.749  INFO 243 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:44:40.199  INFO 243 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:44:41.016  INFO 243 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:44:41.058  WARN 243 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:44:41.090  INFO 243 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:44:41.488  INFO 243 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:44:41.546  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.788 seconds (JVM running for 18.01)
2023-02-21 20:44:41.683  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:44:43.731  INFO 243 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:44:43.737  INFO 243 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:44:43.746  INFO 243 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-21 20:45:18.638  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:45:18.646  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:45:20.530  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:45:21.178  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:45:21.851  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:45:21.962  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:45:22.038  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.549 seconds (JVM running for 6.153)
2023-02-21 20:45:22.054  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:45:22.196  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:45:24.214  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:45:24.247  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:45:24.696  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 421 ms. Found 14 JPA repository interfaces.
2023-02-21 20:45:25.029  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:45:26.021  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:45:26.037  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:45:26.039  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:45:26.136  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:45:26.138  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3930 ms
2023-02-21 20:45:26.331  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:45:26.549  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:45:27.302  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:45:27.378  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:45:27.508  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:45:27.780  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:45:28.026  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:45:28.159  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:45:29.426  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:45:29.443  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:45:30.725  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:45:30.728  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:45:30.731  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:45:30.732  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:45:30.735  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:45:30.736  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:45:30.738  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:45:30.739  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:45:31.179  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:45:31.184  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:45:31.651  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:45:32.028  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:45:32.255  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:45:32.402 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:45:32.407 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:45:32.540  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:45:32.864  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:45:32.892  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:45:32.903  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:45:33.013  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:45:33.031  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.966 seconds (JVM running for 17.144)
2023-02-21 20:45:33.077  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:45:36.007  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:45:36.009  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:45:36.014  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:46:05.857  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:46:05.864  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:46:07.728  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:46:08.459  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:46:09.412  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:46:09.526  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:46:09.589  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.014 seconds (JVM running for 6.499)
2023-02-21 20:46:09.599  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:46:09.698  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:46:11.381  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:46:11.390  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:46:11.833  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 423 ms. Found 14 JPA repository interfaces.
2023-02-21 20:46:12.067  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:46:12.914  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:46:12.935  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:46:12.939  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:46:13.090  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:46:13.092  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3383 ms
2023-02-21 20:46:13.303  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:46:13.512  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:46:14.181  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:46:14.312  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:46:14.441  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:46:14.800  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:46:15.065  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:46:15.213  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:46:16.805  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:46:16.825  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:46:18.144  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:46:18.148  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:46:18.151  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:46:18.153  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:46:18.156  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:46:18.157  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:46:18.159  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:46:18.160  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:46:18.632  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:46:18.637  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:46:19.032  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:46:19.435  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:46:19.795  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:46:19.850 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:46:19.855 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:46:20.212  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:46:20.632  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:46:20.662  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:46:20.674  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:46:20.844  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:46:20.871  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.264 seconds (JVM running for 17.781)
2023-02-21 20:46:20.943  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:46:23.248  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:46:23.252  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:46:23.262  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:46:52.601  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:46:52.608  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:46:54.351  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:46:54.788  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:46:55.299  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:46:55.379  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:46:55.434  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.709 seconds (JVM running for 4.804)
2023-02-21 20:46:55.445  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:46:55.541  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:46:56.813  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:46:56.818  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:46:57.121  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 290 ms. Found 14 JPA repository interfaces.
2023-02-21 20:46:57.338  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:46:58.050  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:46:58.074  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:46:58.078  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:46:58.213  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:46:58.215  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2664 ms
2023-02-21 20:46:58.374  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:46:58.555  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:46:59.139  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:46:59.233  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:46:59.366  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:46:59.717  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:46:59.938  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:47:00.073  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:47:01.386  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:47:01.407  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:47:02.713  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:47:02.716  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:47:02.720  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:47:02.722  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:47:02.726  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:47:02.728  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:47:02.730  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:47:02.732  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:47:03.247  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:47:03.252  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:47:03.818  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:47:04.273  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:47:04.554  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:47:04.581 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:47:04.586 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:47:04.824  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:47:05.248  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:47:05.276  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:47:05.287  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:47:05.412  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:47:05.435  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.981 seconds (JVM running for 14.804)
2023-02-21 20:47:05.498  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:47:05.770  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:47:05.773  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:47:05.779  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:47:34.927  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:47:34.932  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:47:37.190  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:47:38.738  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:47:39.725  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:47:39.840  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:47:39.917  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.981 seconds (JVM running for 7.324)
2023-02-21 20:47:39.930  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:47:40.049  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:47:41.681  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:47:41.690  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:47:42.092  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 380 ms. Found 14 JPA repository interfaces.
2023-02-21 20:47:42.287  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:47:43.078  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:47:43.097  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:47:43.101  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:47:43.224  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:47:43.225  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3164 ms
2023-02-21 20:47:43.370  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:47:43.513  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:47:43.987  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:47:44.263  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:47:44.361  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:47:44.669  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:47:44.924  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:47:45.047  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:47:47.132  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:47:47.152  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:47:48.457  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:47:48.461  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:47:48.465  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:47:48.467  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:47:48.470  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:47:48.472  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:47:48.474  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:47:48.476  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:47:48.914  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:47:48.918  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:47:49.364  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:47:49.778  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:47:50.106  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:47:50.158 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:47:50.162 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:47:50.480  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:47:50.900  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:47:50.933  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:47:50.945  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:47:51.075  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:47:51.096  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.156 seconds (JVM running for 18.503)
2023-02-21 20:47:51.142  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:47:52.853  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:47:52.863  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:47:52.886  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2023-02-21 20:48:21.444  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:48:21.452  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:48:23.361  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:48:23.856  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:48:24.313  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:48:24.386  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:48:24.434  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.844 seconds (JVM running for 4.953)
2023-02-21 20:48:24.441  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:48:24.526  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:48:26.021  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:48:26.031  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:48:26.401  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 353 ms. Found 14 JPA repository interfaces.
2023-02-21 20:48:26.691  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:48:27.579  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:48:27.598  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:48:27.602  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:48:27.756  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:48:27.758  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3225 ms
2023-02-21 20:48:28.037  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:48:28.283  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:48:28.979  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:48:29.061  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:48:29.179  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:48:29.489  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:48:29.735  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:48:29.876  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:48:31.225  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:48:31.245  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:48:32.517  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:48:32.520  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:48:32.524  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:48:32.525  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:48:32.528  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:48:32.529  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:48:32.530  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:48:32.533  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:48:33.029  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:48:33.034  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:48:33.576  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:48:34.129  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:48:34.294 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:48:34.296 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:48:34.493  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:48:34.854  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:48:35.258  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:48:35.285  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:48:35.298  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:48:35.432  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:48:35.453  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.006 seconds (JVM running for 15.971)
2023-02-21 20:48:35.503  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:48:37.099  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:48:37.103  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:48:37.111  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:49:08.303  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:49:08.309  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:49:09.806  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:49:10.266  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:49:10.719  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:49:10.789  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:49:10.835  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.47 seconds (JVM running for 4.82)
2023-02-21 20:49:10.841  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:49:10.929  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:49:12.421  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:49:12.432  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:49:12.864  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 412 ms. Found 14 JPA repository interfaces.
2023-02-21 20:49:13.251  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:49:14.140  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:49:14.173  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:49:14.184  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:49:14.378  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:49:14.380  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3441 ms
2023-02-21 20:49:14.600  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:49:14.801  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:49:15.564  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:49:15.688  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:49:15.794  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:49:16.056  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:49:16.260  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:49:16.376  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:49:17.524  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:49:17.547  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:50:09.037  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 248 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:50:09.045  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:50:10.651  INFO 248 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:50:11.116  INFO 248 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:50:11.615  INFO 248 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:50:11.684  WARN 248 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:50:11.730  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.491 seconds (JVM running for 4.576)
2023-02-21 20:50:11.737  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:50:11.821  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:50:13.051  INFO 248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:50:13.057  INFO 248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:50:13.357  INFO 248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 283 ms. Found 14 JPA repository interfaces.
2023-02-21 20:50:13.564  INFO 248 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:50:14.232  INFO 248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:50:14.250  INFO 248 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:50:14.254  INFO 248 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:50:14.391  INFO 248 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:50:14.393  INFO 248 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2563 ms
2023-02-21 20:50:14.553  INFO 248 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:50:14.683  INFO 248 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:50:15.311  INFO 248 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:50:15.391  INFO 248 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:50:15.587  INFO 248 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:50:15.884  INFO 248 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:50:16.116  INFO 248 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:50:16.248  WARN 248 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:50:17.937  INFO 248 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:50:17.957  INFO 248 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:50:19.043  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:50:19.047  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:50:19.050  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:50:19.051  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:50:19.054  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:50:19.055  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:50:19.057  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:50:19.058  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:50:19.490  INFO 248 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:50:19.495  INFO 248 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:50:19.832  INFO 248 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:50:20.190  WARN 248 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:50:20.436  INFO 248 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:50:20.682 ERROR 248 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:50:20.685 ERROR 248 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:50:20.770  INFO 248 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:50:21.119  INFO 248 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:50:21.148  WARN 248 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:50:21.158  INFO 248 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:50:21.278  INFO 248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:50:21.301  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.557 seconds (JVM running for 14.146)
2023-02-21 20:50:21.380  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:50:22.272  INFO 248 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:50:22.275  INFO 248 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:50:22.282  INFO 248 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-21 20:50:50.651  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:50:50.658  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:50:52.336  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:50:52.856  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:50:53.435  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:50:53.528  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:50:53.576  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.639 seconds (JVM running for 4.706)
2023-02-21 20:50:53.583  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:50:53.674  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:50:54.908  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:50:54.913  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:50:55.186  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 260 ms. Found 14 JPA repository interfaces.
2023-02-21 20:50:55.371  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:50:55.986  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:50:56.005  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:50:56.008  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:50:56.141  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:50:56.143  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2461 ms
2023-02-21 20:50:56.321  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:50:56.508  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:50:57.248  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:50:57.378  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:50:57.499  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:50:57.942  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:50:58.260  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:50:58.397  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:51:00.355  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:51:00.375  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:51:01.477  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:51:01.480  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:51:01.483  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:51:01.484  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:51:01.487  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:51:01.488  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:51:01.490  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:51:01.491  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:51:01.883  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:51:01.889  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:51:02.325  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:51:02.730  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:51:03.038  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:51:03.164 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:51:03.168 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:51:03.373  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:51:03.796  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:51:03.825  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:51:03.840  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:51:03.975  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:51:03.996  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.407 seconds (JVM running for 15.126)
2023-02-21 20:51:04.053  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:51:09.038  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:51:09.041  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:51:09.050  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-21 20:51:37.513  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:51:37.520  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:51:39.264  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:51:39.775  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:51:40.239  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:51:40.316  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:51:40.365  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.717 seconds (JVM running for 4.853)
2023-02-21 20:51:40.372  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:51:40.514  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:51:41.941  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:51:41.947  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:51:42.284  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 321 ms. Found 14 JPA repository interfaces.
2023-02-21 20:51:42.468  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:51:43.327  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:51:43.346  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:51:43.350  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:51:43.492  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:51:43.494  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2962 ms
2023-02-21 20:51:43.684  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:51:43.933  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:51:44.580  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:51:44.667  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:51:44.799  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:51:45.088  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:51:45.325  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:51:45.470  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:51:46.760  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:51:46.777  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:51:47.859  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:51:47.862  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:51:47.864  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:51:47.865  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:51:47.868  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:51:47.870  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:51:47.871  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:51:47.873  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:51:48.462  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:51:48.467  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:51:48.822  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:51:49.138  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:51:49.461  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:51:49.684 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:51:49.690 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:51:49.823  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:51:50.187  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:51:50.212  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:51:50.222  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:51:50.342  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:51:50.366  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.986 seconds (JVM running for 14.854)
2023-02-21 20:51:50.417  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:51:50.629  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:51:50.631  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:51:50.636  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:52:19.161  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:52:19.167  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:52:20.817  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:52:21.276  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:52:21.770  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:52:21.844  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:52:21.894  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.47 seconds (JVM running for 4.794)
2023-02-21 20:52:21.901  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:52:21.993  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:52:23.669  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:52:23.676  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:52:24.085  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 392 ms. Found 14 JPA repository interfaces.
2023-02-21 20:52:24.297  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:52:24.984  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:52:25.001  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:52:25.004  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:52:25.116  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:52:25.118  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3116 ms
2023-02-21 20:52:25.244  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:52:25.364  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:52:25.971  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:52:26.051  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:52:26.154  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:52:26.404  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:52:26.593  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:52:26.701  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:52:27.833  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:52:27.850  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:52:28.775  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:52:28.778  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:52:28.781  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:52:28.783  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:52:28.786  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:52:28.787  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:52:28.788  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:52:28.789  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:52:29.194  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:52:29.198  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:52:29.567  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:52:29.968  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:52:30.226  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:52:30.403 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:52:30.404 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:52:30.488  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:52:30.850  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:52:30.886  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:52:30.897  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:52:31.035  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:52:31.059  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.148 seconds (JVM running for 13.958)
2023-02-21 20:52:31.121  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:52:32.227  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:52:32.231  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:52:32.237  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:53:00.752  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:53:00.761  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:53:02.328  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:53:02.781  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:53:03.238  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:53:03.318  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:53:03.366  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.43 seconds (JVM running for 4.533)
2023-02-21 20:53:03.375  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:53:03.458  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:53:04.605  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:53:04.610  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:53:04.896  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 14 JPA repository interfaces.
2023-02-21 20:53:05.117  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:53:05.753  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:53:05.774  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:53:05.778  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:53:05.919  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:53:05.921  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2455 ms
2023-02-21 20:53:06.077  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:53:06.230  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:53:06.968  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:53:07.142  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:53:07.293  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:53:07.622  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:53:07.883  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:53:07.997  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:53:09.157  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:53:09.174  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:53:10.134  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:53:10.137  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:53:10.139  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:53:10.141  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:53:10.143  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:53:10.144  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:53:10.145  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:53:10.147  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:53:10.525  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:53:10.530  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:53:10.932  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:53:11.525  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:53:11.766 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:53:11.768 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:53:11.827  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:53:12.136  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:53:12.502  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:53:12.531  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:53:12.541  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:53:12.654  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:53:12.672  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.289 seconds (JVM running for 13.839)
2023-02-21 20:53:12.719  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:53:12.962  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:53:12.963  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:53:12.968  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:53:42.540  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:53:42.595  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:53:44.210  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:53:44.742  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:53:45.383  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:53:45.484  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:53:45.535  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.864 seconds (JVM running for 5.277)
2023-02-21 20:53:45.542  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:53:45.645  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:53:47.089  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:53:47.095  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:53:47.444  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 334 ms. Found 14 JPA repository interfaces.
2023-02-21 20:53:47.638  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:53:48.351  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:53:48.370  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:53:48.373  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:53:48.493  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:53:48.494  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2840 ms
2023-02-21 20:53:48.693  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:53:48.866  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:53:49.526  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:53:49.614  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:53:49.739  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:53:50.060  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:53:50.304  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:53:50.444  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:53:51.762  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:53:51.780  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:53:52.940  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:53:52.943  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:53:52.946  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:53:52.947  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:53:52.950  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:53:52.951  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:53:52.951  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:53:52.952  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:53:53.407  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:53:53.413  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:53:53.820  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:53:54.179  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:53:54.460  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:53:54.617 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:53:54.622 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:53:54.744  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:53:55.120  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:53:55.152  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:53:55.164  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:53:55.303  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:53:55.329  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.78 seconds (JVM running for 15.071)
2023-02-21 20:53:55.387  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:53:55.420  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:53:55.421  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:53:55.426  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:54:23.838  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:54:23.844  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:54:25.647  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:54:26.234  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:54:26.757  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:54:26.821  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:54:26.868  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.771 seconds (JVM running for 4.971)
2023-02-21 20:54:26.875  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:54:26.957  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:54:28.240  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:54:28.246  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:54:28.573  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 312 ms. Found 14 JPA repository interfaces.
2023-02-21 20:54:28.749  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:54:29.300  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:54:29.314  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:54:29.316  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:54:29.418  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:54:29.419  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2454 ms
2023-02-21 20:54:29.539  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:54:29.639  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:54:30.148  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:54:30.217  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:54:30.343  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:54:30.633  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:54:30.809  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:54:30.914  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:54:32.042  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:54:32.061  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:54:33.016  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:54:33.020  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:54:33.023  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:54:33.024  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:54:33.027  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:54:33.028  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:54:33.030  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:54:33.031  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:54:33.390  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:54:33.394  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:54:33.702  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:54:34.032  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:54:34.314  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:54:34.559 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:54:34.560 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:54:34.565  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:54:34.874  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:54:34.901  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:54:34.911  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:54:35.025  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:54:35.044  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.161 seconds (JVM running for 13.147)
2023-02-21 20:54:35.090  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:54:37.012  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:54:37.017  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:54:37.023  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:55:00.675  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:55:00.682  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:55:02.476  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:55:03.018  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:55:03.530  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:55:03.604  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:55:03.652  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.054 seconds (JVM running for 5.237)
2023-02-21 20:55:03.658  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:55:03.756  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:55:05.241  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:55:05.246  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:55:05.520  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 14 JPA repository interfaces.
2023-02-21 20:55:05.797  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:55:06.698  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:55:06.719  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:55:06.723  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:55:06.853  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:55:06.855  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3088 ms
2023-02-21 20:55:07.002  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:55:07.141  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:55:07.874  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:55:07.961  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:55:08.080  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:55:08.334  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:55:08.594  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:55:08.725  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:55:09.919  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:55:09.938  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:55:11.089  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:55:11.093  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:55:11.095  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:55:11.096  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:55:11.098  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:55:11.100  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:55:11.101  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:55:11.102  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:55:11.573  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:55:11.579  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:55:12.003  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:55:12.380  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:55:12.674  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:55:12.839 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:55:12.844 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:55:12.996  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:55:13.393  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:55:13.422  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:55:13.434  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:55:13.550  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:55:13.574  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.91 seconds (JVM running for 15.16)
2023-02-21 20:55:13.628  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:55:18.537  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:55:18.541  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:55:18.547  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:55:46.775  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:55:46.781  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:55:48.439  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:55:48.925  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:55:49.359  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:55:49.423  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:55:49.465  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.434 seconds (JVM running for 4.521)
2023-02-21 20:55:49.472  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:55:49.554  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:55:50.731  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:55:50.737  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:55:51.029  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 14 JPA repository interfaces.
2023-02-21 20:55:51.189  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:55:51.813  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:55:51.827  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:55:51.829  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:55:51.947  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:55:51.949  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2385 ms
2023-02-21 20:55:52.108  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:55:52.248  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:55:52.802  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:55:52.869  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:55:52.968  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:55:53.346  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:55:53.637  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:55:53.756  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:55:55.153  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:55:55.170  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:55:56.156  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:55:56.158  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:55:56.160  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:55:56.161  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:55:56.163  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:55:56.164  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:55:56.166  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:55:56.167  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:55:56.483  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:55:56.487  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:55:56.887  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:55:57.392  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:55:57.699  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:55:57.717 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:55:57.719 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:55:57.935  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:55:58.205  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:55:58.227  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:55:58.235  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:55:58.341  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:55:58.366  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.886 seconds (JVM running for 13.421)
2023-02-21 20:55:58.456  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:56:00.085  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:56:00.089  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:56:00.095  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 20:56:28.311  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:56:28.317  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:56:29.977  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:56:30.630  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:56:31.258  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:56:31.353  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:56:31.423  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.915 seconds (JVM running for 4.835)
2023-02-21 20:56:31.433  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:56:31.575  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:56:32.934  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:56:32.940  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:56:33.225  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 271 ms. Found 14 JPA repository interfaces.
2023-02-21 20:56:33.392  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:56:33.984  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:56:33.999  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:56:34.001  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:56:34.102  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:56:34.103  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2516 ms
2023-02-21 20:56:34.214  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:56:34.338  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:56:34.926  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:56:35.008  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:56:35.119  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:56:35.383  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:56:35.596  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:56:35.706  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:56:36.886  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:56:36.905  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:56:37.886  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:56:37.889  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:56:37.892  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:56:37.893  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:56:37.895  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:56:37.896  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:56:37.897  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:56:37.898  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:56:38.285  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:56:38.290  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:56:38.681  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:56:39.048  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:56:39.325  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:56:39.488 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:56:39.493 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:56:39.659  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:56:40.079  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:56:40.112  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:56:40.126  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:56:40.274  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:56:40.295  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.838 seconds (JVM running for 13.707)
2023-02-21 20:56:40.348  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:56:41.700  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:56:41.703  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:56:41.708  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:57:05.240  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:57:05.248  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:57:06.705  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:57:07.208  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:57:07.577  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:57:07.639  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:57:07.679  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.086 seconds (JVM running for 4.043)
2023-02-21 20:57:07.685  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:57:07.768  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:57:08.887  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:57:08.892  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:57:09.145  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 14 JPA repository interfaces.
2023-02-21 20:57:09.296  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:57:09.865  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:57:09.882  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:57:09.883  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:57:10.005  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:57:10.007  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2230 ms
2023-02-21 20:57:10.149  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:57:10.279  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:57:10.716  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:57:10.954  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:57:11.046  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:57:11.291  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:57:11.475  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:57:11.577  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:57:12.607  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:57:12.626  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:57:13.735  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:57:13.738  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:57:13.741  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:57:13.742  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:57:13.744  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:57:13.745  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:57:13.746  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:57:13.747  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:57:14.103  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:57:14.107  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:57:14.412  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:57:14.748  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:57:14.969  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:57:15.195  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:57:15.282 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:57:15.286 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:57:15.503  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:57:15.524  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:57:15.531  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:57:15.627  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:57:15.646  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 7.955 seconds (JVM running for 12.011)
2023-02-21 20:57:15.688  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:57:18.753  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:57:18.756  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:57:18.762  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 20:57:42.319  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:57:42.325  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:57:43.772  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:57:44.405  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:57:45.186  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:57:45.302  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:57:45.395  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.748 seconds (JVM running for 4.686)
2023-02-21 20:57:45.414  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:57:45.559  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:57:47.440  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:57:47.446  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:57:47.786  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 322 ms. Found 14 JPA repository interfaces.
2023-02-21 20:57:47.999  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:57:48.717  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:57:48.735  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:57:48.738  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:57:48.867  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:57:48.868  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3296 ms
2023-02-21 20:57:49.063  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:57:49.235  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:57:49.855  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:57:49.955  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:57:50.075  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:57:50.371  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:57:50.609  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:57:50.756  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:57:52.026  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:57:52.043  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:57:53.107  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:57:53.110  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:57:53.112  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:57:53.113  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:57:53.116  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:57:53.117  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:57:53.118  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:57:53.119  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:57:53.508  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:57:53.514  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:57:53.933  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:57:54.304  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:57:54.616  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:57:54.723 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:57:54.727 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:57:54.952  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:57:55.323  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:57:55.351  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:57:55.363  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:57:55.516  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:57:55.540  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.129 seconds (JVM running for 14.845)
2023-02-21 20:57:55.613  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:57:55.831  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:57:55.833  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:57:55.838  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:58:18.883  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:58:18.890  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:58:21.355  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:58:21.869  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:58:22.301  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:58:22.381  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:58:22.434  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.362 seconds (JVM running for 5.342)
2023-02-21 20:58:22.441  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:58:22.536  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:58:23.764  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:58:23.771  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:58:24.078  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 292 ms. Found 14 JPA repository interfaces.
2023-02-21 20:58:24.253  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:58:24.968  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:58:24.983  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:58:24.986  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:58:25.090  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:58:25.092  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2547 ms
2023-02-21 20:58:25.229  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:58:25.365  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:58:26.015  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:58:26.096  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:58:26.225  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:58:26.549  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:58:26.860  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:58:27.008  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:58:28.287  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:58:28.306  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:58:29.384  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:58:29.399  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:58:29.402  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:58:29.404  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:58:29.406  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:58:29.408  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:58:29.409  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:58:29.410  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:58:29.807  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:58:29.812  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:58:30.207  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:58:30.615  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:58:30.868  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:58:31.025 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:58:31.028 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:58:31.142  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:58:31.552  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:58:31.585  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:58:31.596  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:58:31.719  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:58:31.740  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.292 seconds (JVM running for 14.649)
2023-02-21 20:58:31.786  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:58:32.211  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:58:32.212  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:58:32.217  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 20:59:00.265  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:59:00.271  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:59:01.580  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:59:02.004  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:59:02.464  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:59:02.531  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:59:02.575  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.979 seconds (JVM running for 3.936)
2023-02-21 20:59:02.582  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:59:02.670  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:59:03.789  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:59:03.798  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:59:04.134  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 321 ms. Found 14 JPA repository interfaces.
2023-02-21 20:59:04.408  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:59:04.997  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:59:05.014  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:59:05.018  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:59:05.143  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:59:05.145  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2466 ms
2023-02-21 20:59:05.306  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:59:05.459  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:59:05.993  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:59:06.073  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:59:06.186  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:59:06.452  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:59:06.648  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:59:06.782  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:59:07.903  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:59:07.921  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:59:08.932  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:59:08.935  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:59:08.937  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:59:08.939  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:59:08.941  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:59:08.942  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:59:08.943  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:59:08.944  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:59:09.325  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:59:09.330  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:59:09.742  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:59:10.170  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:59:10.482  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:59:10.563 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:59:10.566 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:59:10.992  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:59:11.567  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:59:11.598  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:59:11.613  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:59:11.754  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:59:11.777  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.189 seconds (JVM running for 13.138)
2023-02-21 20:59:11.840  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:59:13.749  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:59:13.754  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:59:13.759  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 20:59:37.048  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 20:59:37.056  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:59:38.602  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 20:59:39.084  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 20:59:39.808  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:59:39.897  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:59:39.962  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.637 seconds (JVM running for 4.689)
2023-02-21 20:59:39.973  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 20:59:40.172  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 20:59:42.017  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 20:59:42.024  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 20:59:42.406  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 364 ms. Found 14 JPA repository interfaces.
2023-02-21 20:59:42.946  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 20:59:43.692  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 20:59:43.708  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 20:59:43.711  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 20:59:43.915  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 20:59:43.918  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3731 ms
2023-02-21 20:59:44.169  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 20:59:44.351  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 20:59:45.078  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 20:59:45.178  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 20:59:45.307  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 20:59:45.598  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 20:59:45.832  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 20:59:45.986  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 20:59:47.346  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 20:59:47.363  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 20:59:48.560  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 20:59:48.563  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 20:59:48.566  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 20:59:48.568  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 20:59:48.570  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 20:59:48.572  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 20:59:48.573  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 20:59:48.574  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 20:59:49.022  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 20:59:49.029  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 20:59:49.481  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 20:59:49.894  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 20:59:50.214  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 20:59:50.263 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 20:59:50.269 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 20:59:50.535  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 20:59:50.948  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 20:59:50.988  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 20:59:51.004  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 20:59:51.158  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 20:59:51.182  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.199 seconds (JVM running for 15.908)
2023-02-21 20:59:51.237  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 20:59:54.549  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 20:59:54.553  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 20:59:54.557  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:00:18.550  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:00:18.555  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:00:19.912  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:00:20.458  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:00:20.951  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:00:21.023  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:00:21.078  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.248 seconds (JVM running for 4.41)
2023-02-21 21:00:21.088  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:00:21.201  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:00:23.332  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:00:23.338  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:00:23.690  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 331 ms. Found 14 JPA repository interfaces.
2023-02-21 21:00:23.885  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:00:24.568  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:00:24.586  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:00:24.589  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:00:24.725  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:00:24.728  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3517 ms
2023-02-21 21:00:24.954  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:00:25.117  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:00:25.916  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:00:26.009  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:00:26.154  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:00:26.510  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:00:26.749  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:00:26.921  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:00:28.600  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:00:28.623  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:00:29.626  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:00:29.629  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:00:29.631  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:00:29.631  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:00:29.633  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:00:29.634  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:00:29.636  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:00:29.638  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:00:29.982  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:00:29.988  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:00:30.299  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:00:30.642  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:00:30.924  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:00:31.168 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:00:31.169 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:00:31.188  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:00:31.541  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:00:31.573  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:00:31.585  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:00:31.721  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:00:31.747  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.651 seconds (JVM running for 15.079)
2023-02-21 21:00:31.800  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:00:31.833  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:00:31.835  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:00:31.840  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:00:55.165  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:00:55.171  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:00:56.563  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:00:57.010  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:00:57.581  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:00:57.652  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:00:57.712  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.362 seconds (JVM running for 4.46)
2023-02-21 21:00:57.721  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:00:57.908  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:00:59.732  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:00:59.740  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:01:00.150  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 392 ms. Found 14 JPA repository interfaces.
2023-02-21 21:01:00.404  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:01:01.264  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:01:01.284  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:01:01.287  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:01:01.410  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:01:01.412  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3483 ms
2023-02-21 21:01:01.534  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:01:01.677  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:01:02.340  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:01:02.443  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:01:02.562  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:01:02.843  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:01:03.070  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:01:03.204  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:01:04.396  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:01:04.414  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:01:05.423  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:01:05.425  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:01:05.428  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:01:05.429  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:01:05.431  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:01:05.433  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:01:05.435  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:01:05.436  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:01:05.935  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:01:05.943  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:01:06.423  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:01:06.850  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:01:07.126  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:01:07.186 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:01:07.192 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:01:07.601  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:01:08.017  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:01:08.047  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:01:08.060  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:01:08.181  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:01:08.202  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.471 seconds (JVM running for 14.95)
2023-02-21 21:01:08.254  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:01:08.379  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:01:08.381  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:01:08.389  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:01:36.919  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:01:36.925  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:01:38.369  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:01:38.803  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:01:39.212  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:01:39.280  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:01:39.324  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.223 seconds (JVM running for 4.519)
2023-02-21 21:01:39.332  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:01:39.433  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:01:41.144  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:01:41.151  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:01:41.499  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 332 ms. Found 14 JPA repository interfaces.
2023-02-21 21:01:41.821  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:01:42.589  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:01:42.606  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:01:42.609  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:01:42.742  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:01:42.744  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3294 ms
2023-02-21 21:01:42.915  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:01:43.105  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:01:43.710  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:01:43.791  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:01:43.897  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:01:44.181  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:01:44.394  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:01:44.557  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:01:45.839  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:01:45.856  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:01:46.892  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:01:46.896  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:01:46.900  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:01:46.901  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:01:46.904  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:01:46.905  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:01:46.906  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:01:46.908  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:01:47.315  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:01:47.320  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:01:47.663  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:01:48.043  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:01:48.291  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:01:48.506 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:01:48.508 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:01:48.568  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:01:48.899  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:01:48.923  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:01:48.933  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:01:49.037  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:01:49.053  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.715 seconds (JVM running for 14.248)
2023-02-21 21:01:49.105  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:01:49.942  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:01:49.945  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:01:49.951  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:02:18.500  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:02:18.507  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:02:20.835  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:02:21.415  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:02:22.020  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:02:22.113  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:02:22.161  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.805 seconds (JVM running for 5.824)
2023-02-21 21:02:22.169  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:02:22.265  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:02:23.636  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:02:23.641  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:02:23.973  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 319 ms. Found 14 JPA repository interfaces.
2023-02-21 21:02:24.215  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:02:24.973  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:02:24.992  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:02:24.998  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:02:25.152  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:02:25.154  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2881 ms
2023-02-21 21:02:25.336  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:02:25.527  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:02:26.052  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:02:26.132  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:02:26.269  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:02:26.536  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:02:26.744  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:02:26.869  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:02:27.959  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:02:27.974  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:02:29.025  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:02:29.028  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:02:29.030  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:02:29.032  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:02:29.035  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:02:29.036  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:02:29.037  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:02:29.039  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:02:29.388  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:02:29.393  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:02:29.818  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:02:30.216  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:02:30.535  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:02:30.610 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:02:30.612 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:02:30.823  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:02:31.177  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:02:31.214  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:02:31.227  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:02:31.343  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:02:31.365  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.187 seconds (JVM running for 15.026)
2023-02-21 21:02:31.416  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:02:31.466  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:02:31.468  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:02:31.473  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:02:59.419  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:02:59.427  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:03:00.758  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:03:01.173  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:03:01.577  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:03:01.648  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:03:01.692  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.941 seconds (JVM running for 3.918)
2023-02-21 21:03:01.699  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:03:01.776  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:03:02.911  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:03:02.916  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:03:03.157  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 229 ms. Found 14 JPA repository interfaces.
2023-02-21 21:03:03.311  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:03:03.895  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:03:03.909  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:03:03.911  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:03:04.023  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:03:04.024  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2239 ms
2023-02-21 21:03:04.161  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:03:04.302  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:03:04.823  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:03:04.903  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:03:05.011  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:03:05.302  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:03:05.511  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:03:05.618  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:03:07.064  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:03:07.085  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:03:08.418  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:03:08.421  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:03:08.424  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:03:08.426  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:03:08.429  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:03:08.430  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:03:08.431  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:03:08.433  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:03:08.861  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:03:08.867  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:03:09.262  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:03:09.770  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:03:10.035  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:03:10.074 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:03:10.079 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:03:10.456  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:03:10.880  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:03:10.918  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:03:10.931  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:03:11.078  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:03:11.105  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.399 seconds (JVM running for 13.33)
2023-02-21 21:03:11.178  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:03:12.906  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:03:12.909  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:03:12.914  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:03:41.948  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:03:41.954  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:03:44.128  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:03:44.873  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:03:45.416  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:03:45.500  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:03:45.551  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.746 seconds (JVM running for 6.116)
2023-02-21 21:03:45.560  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:03:45.654  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:03:46.992  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:03:46.997  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:03:47.343  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 329 ms. Found 14 JPA repository interfaces.
2023-02-21 21:03:47.629  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:03:48.221  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:03:48.239  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:03:48.242  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:03:48.370  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:03:48.372  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2708 ms
2023-02-21 21:03:48.528  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:03:48.683  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:03:49.252  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:03:49.328  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:03:49.450  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:03:49.718  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:03:49.939  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:03:50.075  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:03:51.181  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:03:51.197  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:03:52.077  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:03:52.079  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:03:52.082  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:03:52.083  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:03:52.086  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:03:52.087  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:03:52.088  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:03:52.090  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:03:52.433  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:03:52.439  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:03:52.761  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:03:53.077  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:03:53.313  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:03:53.622 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:03:53.624 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:03:53.673  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:03:54.076  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:03:54.112  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:03:54.123  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:03:54.261  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:03:54.289  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.721 seconds (JVM running for 14.852)
2023-02-21 21:03:54.342  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:03:54.589  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:03:54.593  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:03:54.598  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:04:22.852  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:04:22.859  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:04:24.986  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:04:25.544  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:04:25.996  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:04:26.066  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:04:26.112  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.057 seconds (JVM running for 5.151)
2023-02-21 21:04:26.118  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:04:26.204  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:04:27.661  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:04:27.668  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:04:28.048  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 365 ms. Found 14 JPA repository interfaces.
2023-02-21 21:04:28.244  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:04:28.915  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:04:28.931  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:04:28.934  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:04:29.046  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:04:29.048  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2835 ms
2023-02-21 21:04:29.209  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:04:29.372  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:04:29.920  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:04:30.006  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:04:30.130  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:04:30.440  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:04:30.659  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:04:30.782  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:04:32.035  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:04:32.053  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:04:33.185  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:04:33.188  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:04:33.191  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:04:33.193  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:04:33.196  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:04:33.198  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:04:33.200  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:04:33.201  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:04:33.688  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:04:33.700  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:04:34.140  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:04:34.548  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:04:34.904  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:04:34.926 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:04:34.931 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:04:35.247  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:04:35.626  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:04:35.651  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:04:35.662  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:04:35.777  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:04:35.809  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.684 seconds (JVM running for 14.848)
2023-02-21 21:04:35.877  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:04:36.099  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:04:36.101  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:04:36.106  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:05:09.836  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:05:09.843  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:05:11.313  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:05:11.827  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:05:12.265  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:05:12.334  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:05:12.377  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.307 seconds (JVM running for 4.733)
2023-02-21 21:05:12.385  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:05:12.500  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:05:13.721  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:05:13.727  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:05:14.014  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 14 JPA repository interfaces.
2023-02-21 21:05:14.182  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:05:14.851  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:05:14.866  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:05:14.869  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:05:56.985  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 243 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:05:56.991  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:05:58.330  INFO 243 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:05:58.744  INFO 243 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:05:59.163  INFO 243 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:05:59.248  WARN 243 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:05:59.296  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.017 seconds (JVM running for 3.983)
2023-02-21 21:05:59.304  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:05:59.392  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:06:00.507  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:06:00.512  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:06:00.798  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 14 JPA repository interfaces.
2023-02-21 21:06:00.944  INFO 243 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:06:01.522  INFO 243 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:06:01.537  INFO 243 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:06:01.539  INFO 243 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:06:01.658  INFO 243 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:06:01.660  INFO 243 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2260 ms
2023-02-21 21:06:01.797  INFO 243 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:06:01.946  INFO 243 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:06:02.473  INFO 243 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:06:02.551  INFO 243 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:06:02.668  INFO 243 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:06:02.955  INFO 243 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:06:03.225  INFO 243 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:06:03.351  WARN 243 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:06:04.531  INFO 243 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:06:04.548  INFO 243 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:06:05.589  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:06:05.592  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:06:05.595  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:06:05.596  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:06:05.599  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:06:05.601  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:06:05.602  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:06:05.604  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:06:06.021  INFO 243 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:06:06.026  INFO 243 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:06:06.426  INFO 243 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:06:06.823  WARN 243 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:06:07.049  INFO 243 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:06:07.268 ERROR 243 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:06:07.272 ERROR 243 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:06:07.353  INFO 243 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:06:07.700  INFO 243 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:06:07.723  WARN 243 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:06:07.732  INFO 243 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:06:07.849  INFO 243 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:06:07.869  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.557 seconds (JVM running for 12.556)
2023-02-21 21:06:07.915  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:06:10.432  INFO 243 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:06:10.435  INFO 243 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:06:10.441  INFO 243 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:06:39.591  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:06:39.599  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:06:41.576  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:06:42.193  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:06:42.880  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:06:42.977  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:06:43.037  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.726 seconds (JVM running for 6.21)
2023-02-21 21:06:43.049  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:06:43.260  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:06:44.686  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:06:44.692  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:06:45.039  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 333 ms. Found 14 JPA repository interfaces.
2023-02-21 21:06:45.304  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:06:46.201  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:06:46.222  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:06:46.226  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:06:46.390  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:06:46.392  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3120 ms
2023-02-21 21:06:46.559  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:06:46.742  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:06:47.477  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:06:47.582  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:06:47.728  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:06:48.070  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:06:48.375  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:06:48.732  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:06:50.349  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:06:50.365  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:06:51.551  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:06:51.554  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:06:51.556  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:06:51.557  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:06:51.559  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:06:51.560  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:06:51.562  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:06:51.563  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:06:51.914  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:06:51.919  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:06:52.226  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:06:52.558  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:06:52.952  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:06:53.103 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:06:53.129 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:06:53.261  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:06:53.611  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:06:53.650  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:06:53.666  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:06:53.833  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:06:53.856  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.799 seconds (JVM running for 17.028)
2023-02-21 21:06:53.913  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:06:56.948  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:06:56.951  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:06:56.958  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:07:25.281  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:07:25.287  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:07:26.668  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:07:27.146  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:07:27.559  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:07:27.627  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:07:27.672  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.226 seconds (JVM running for 4.594)
2023-02-21 21:07:27.679  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:07:27.767  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:07:28.917  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:07:28.922  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:07:29.209  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 14 JPA repository interfaces.
2023-02-21 21:07:29.392  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:07:29.992  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:07:30.007  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:07:30.009  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:07:30.122  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:07:30.145  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2370 ms
2023-02-21 21:07:30.275  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:07:30.387  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:07:31.046  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:07:31.125  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:07:31.231  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:07:31.485  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:07:31.699  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:07:31.818  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:07:32.924  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:07:32.940  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:07:33.864  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:07:33.868  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:07:33.871  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:07:33.872  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:07:33.875  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:07:33.876  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:07:33.877  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:07:33.878  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:07:34.302  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:07:34.308  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:07:34.672  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:07:35.021  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:07:35.251  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:07:35.490  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:07:35.501 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:07:35.503 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:07:35.844  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:07:35.870  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:07:35.882  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:07:36.005  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:07:36.026  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.341 seconds (JVM running for 12.949)
2023-02-21 21:07:36.079  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:07:38.234  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:07:38.238  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:07:38.247  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 21:11:46.362  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 248 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:11:46.374  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:11:48.024  INFO 248 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:11:48.575  INFO 248 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:11:49.139  INFO 248 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:11:49.247  WARN 248 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:11:49.315  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.765 seconds (JVM running for 5.134)
2023-02-21 21:11:49.327  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:11:49.424  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:11:51.017  INFO 248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:11:51.022  INFO 248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:11:51.404  INFO 248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 367 ms. Found 14 JPA repository interfaces.
2023-02-21 21:11:51.681  INFO 248 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:11:52.501  INFO 248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:11:52.521  INFO 248 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:11:52.524  INFO 248 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:11:52.657  INFO 248 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:11:52.659  INFO 248 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3226 ms
2023-02-21 21:11:52.844  INFO 248 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:11:53.022  INFO 248 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:11:53.522  INFO 248 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:11:53.811  INFO 248 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:11:53.925  INFO 248 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:11:54.183  INFO 248 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:11:54.384  INFO 248 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:11:54.516  WARN 248 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:11:55.581  INFO 248 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:11:55.601  INFO 248 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:11:56.658  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:11:56.660  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:11:56.662  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:11:56.663  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:11:56.665  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:11:56.666  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:11:56.668  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:11:56.669  INFO 248 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:11:57.002  INFO 248 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:11:57.007  INFO 248 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:11:57.425  INFO 248 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:11:57.782  WARN 248 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:11:58.064  INFO 248 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:11:58.220 ERROR 248 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:11:58.223 ERROR 248 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:11:58.422  INFO 248 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:11:58.730  INFO 248 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:11:58.756  WARN 248 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:11:58.765  INFO 248 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:11:58.883  INFO 248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:11:58.910  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.574 seconds (JVM running for 14.728)
2023-02-21 21:11:58.973  INFO 248 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:11:59.309  INFO 248 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:11:59.311  INFO 248 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:11:59.315  INFO 248 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:12:22.956  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:12:22.963  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:12:25.487  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:12:26.116  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:12:26.566  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:12:26.652  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:12:26.700  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.548 seconds (JVM running for 5.63)
2023-02-21 21:12:26.708  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:12:26.799  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:12:28.105  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:12:28.116  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:12:28.443  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 308 ms. Found 14 JPA repository interfaces.
2023-02-21 21:12:28.623  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:12:29.468  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:12:29.490  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:12:29.494  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:12:29.653  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:12:29.655  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2846 ms
2023-02-21 21:12:29.899  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:12:30.119  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:12:30.726  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:12:30.805  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:12:30.909  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:12:31.146  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:12:31.325  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:12:31.442  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:12:32.547  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:12:32.564  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:12:33.557  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:12:33.560  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:12:33.562  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:12:33.564  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:12:33.566  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:12:33.568  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:12:33.569  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:12:33.571  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:12:33.918  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:12:33.922  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:12:34.285  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:12:34.618  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:12:34.827  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:12:35.085  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:12:35.135 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:12:35.137 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:12:35.427  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:12:35.457  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:12:35.468  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:12:35.589  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:12:35.609  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.894 seconds (JVM running for 14.54)
2023-02-21 21:12:35.662  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:12:36.181  INFO 236 --- [http-nio-8070-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:12:36.183  INFO 236 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:12:36.188  INFO 236 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:13:04.666  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:13:04.673  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:13:06.427  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:13:07.015  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:13:07.577  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:13:07.655  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:13:07.709  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.905 seconds (JVM running for 5.042)
2023-02-21 21:13:07.716  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:13:07.820  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:13:09.511  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:13:09.522  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:13:10.003  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 460 ms. Found 14 JPA repository interfaces.
2023-02-21 21:13:10.327  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:13:11.122  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:13:11.138  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:13:11.141  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:13:11.266  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:13:11.267  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3438 ms
2023-02-21 21:13:11.451  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:13:11.662  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:13:12.330  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:13:12.431  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:13:12.587  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:13:12.959  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:13:13.244  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:13:13.381  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:13:14.677  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:13:14.700  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:13:15.797  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:13:15.800  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:13:15.802  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:13:15.804  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:13:15.807  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:13:15.808  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:13:15.810  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:13:15.811  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:13:16.216  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:13:16.221  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:13:16.582  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:13:16.911  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:13:17.146  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:13:17.374  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:13:17.420 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:13:17.423 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:13:17.746  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:13:17.788  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:13:17.815  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:13:18.075  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:13:18.107  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.383 seconds (JVM running for 15.44)
2023-02-21 21:13:18.177  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:13:22.788  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:13:22.791  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:13:22.797  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:13:46.984  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:13:46.991  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:13:49.095  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:13:49.813  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:13:50.406  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:13:50.501  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:13:50.567  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.317 seconds (JVM running for 5.319)
2023-02-21 21:13:50.576  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:13:50.668  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:13:51.888  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:13:51.893  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:13:52.221  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 316 ms. Found 14 JPA repository interfaces.
2023-02-21 21:13:52.456  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:13:53.446  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:13:53.467  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:13:53.471  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:13:53.607  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:13:53.609  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2931 ms
2023-02-21 21:13:53.790  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:13:53.980  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:13:54.591  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:13:54.677  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:13:54.803  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:13:55.146  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:13:55.390  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:13:55.528  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:13:56.860  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:13:56.877  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:13:58.024  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:13:58.027  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:13:58.030  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:13:58.033  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:13:58.037  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:13:58.039  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:13:58.040  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:13:58.041  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:13:58.536  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:13:58.543  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:13:58.998  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:13:59.426  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:13:59.689  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:13:59.790 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:13:59.793 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:14:00.006  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:14:00.362  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:14:00.391  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:14:00.403  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:14:00.538  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:14:00.561  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.976 seconds (JVM running for 15.311)
2023-02-21 21:14:00.617  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:14:05.377  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:14:05.381  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:14:05.388  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:14:33.768  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:14:33.776  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:14:35.216  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:14:35.730  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:14:36.226  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:14:36.306  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:14:36.358  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.414 seconds (JVM running for 4.499)
2023-02-21 21:14:36.367  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:14:36.456  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:14:37.742  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:14:37.748  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:14:38.116  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 351 ms. Found 14 JPA repository interfaces.
2023-02-21 21:14:38.375  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:14:39.193  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:14:39.210  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:14:39.213  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:14:39.347  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:14:39.351  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2882 ms
2023-02-21 21:14:39.577  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:14:39.781  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:14:40.494  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:14:40.620  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:14:40.897  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:14:41.291  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:14:41.534  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:14:41.674  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:14:42.999  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:14:43.017  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:14:44.161  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:14:44.165  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:14:44.168  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:14:44.170  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:14:44.174  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:14:44.176  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:14:44.178  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:14:44.179  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:14:44.633  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:14:44.638  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:14:45.084  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:14:45.481  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:14:45.802  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:14:45.885 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:14:45.890 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:14:46.253  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:14:46.623  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:14:46.654  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:14:46.665  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:14:46.792  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:14:46.813  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.438 seconds (JVM running for 14.953)
2023-02-21 21:14:46.866  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:14:46.994  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:14:46.997  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:14:47.005  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 21:15:10.433  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:15:10.448  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:15:11.717  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:15:12.277  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:15:12.794  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:15:12.903  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:15:12.966  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.173 seconds (JVM running for 4.347)
2023-02-21 21:15:12.973  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:15:13.090  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:15:14.278  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:15:14.284  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:15:14.560  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 262 ms. Found 14 JPA repository interfaces.
2023-02-21 21:15:14.737  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:15:15.323  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:15:15.338  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:15:15.340  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:15:15.454  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:15:15.456  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2355 ms
2023-02-21 21:15:15.597  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:15:15.735  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:15:16.325  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:15:16.410  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:15:16.520  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:15:16.771  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:15:16.994  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:15:17.128  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:15:18.330  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:15:18.349  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:15:19.355  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:15:19.358  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:15:19.360  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:15:19.362  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:15:19.365  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:15:19.366  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:15:19.368  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:15:19.369  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:15:19.779  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:15:19.785  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:15:20.158  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:15:20.481  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:15:20.747  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:15:21.003 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:15:21.007 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:15:21.020  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:15:21.353  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:15:21.378  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:15:21.391  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:15:21.510  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:15:21.530  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.538 seconds (JVM running for 12.911)
2023-02-21 21:15:21.582  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:15:23.728  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:15:23.732  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:15:23.740  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 21:15:47.279  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:15:47.286  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:15:48.778  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:15:49.227  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:15:49.685  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:15:49.753  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:15:49.797  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.349 seconds (JVM running for 4.416)
2023-02-21 21:15:49.805  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:15:49.885  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:15:51.309  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:15:51.314  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:15:51.635  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 14 JPA repository interfaces.
2023-02-21 21:15:51.814  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:15:52.531  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:15:52.550  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:15:52.554  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:15:52.697  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:15:52.699  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2805 ms
2023-02-21 21:15:52.897  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:15:53.094  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:15:53.797  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:15:53.888  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:15:54.007  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:15:54.389  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:15:54.633  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:15:54.758  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:15:55.935  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:15:55.951  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:15:56.903  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:15:56.907  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:15:56.909  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:15:56.910  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:15:56.913  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:15:56.915  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:15:56.917  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:15:56.918  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:15:57.419  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:15:57.425  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:15:57.917  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:15:58.372  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:15:58.657  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:15:58.736 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:15:58.740 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:15:59.030  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:15:59.446  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:15:59.494  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:15:59.508  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:15:59.629  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:15:59.649  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.836 seconds (JVM running for 14.267)
2023-02-21 21:15:59.694  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:16:00.490  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:16:00.491  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:16:00.498  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:16:28.851  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:16:28.859  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:16:30.455  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:16:31.310  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:16:31.816  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:16:31.901  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:16:31.955  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.948 seconds (JVM running for 5.125)
2023-02-21 21:16:31.964  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:16:32.058  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:16:33.620  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:16:33.633  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:16:34.249  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 593 ms. Found 14 JPA repository interfaces.
2023-02-21 21:16:34.548  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:16:35.219  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:16:35.243  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:16:35.248  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:16:35.435  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:16:35.438  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3371 ms
2023-02-21 21:16:35.720  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:16:36.021  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:16:36.715  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:16:36.870  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:16:36.989  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:16:37.291  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:16:37.554  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:16:37.794  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:16:39.443  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:16:39.462  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:16:40.475  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:16:40.480  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:16:40.483  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:16:40.502  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:16:40.506  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:16:40.525  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:16:40.527  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:16:40.529  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:16:40.920  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:16:40.925  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:16:41.242  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:16:41.582  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:16:41.816  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:16:42.077  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:16:42.114 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:16:42.117 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:16:42.411  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:16:42.442  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:16:42.454  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:16:42.567  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:16:42.586  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.615 seconds (JVM running for 15.756)
2023-02-21 21:16:42.635  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:16:46.954  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:16:46.957  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:16:46.962  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:17:11.400  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 231 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:17:11.409  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:17:13.023  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:17:13.551  INFO 231 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:17:14.031  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:17:14.113  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:17:14.160  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.965 seconds (JVM running for 5.831)
2023-02-21 21:17:14.166  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:17:14.261  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:17:15.447  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:17:15.453  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:17:15.772  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 304 ms. Found 14 JPA repository interfaces.
2023-02-21 21:17:15.956  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:17:16.557  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:17:16.572  INFO 231 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:17:16.574  INFO 231 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:17:16.707  INFO 231 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:17:16.709  INFO 231 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2438 ms
2023-02-21 21:17:16.852  INFO 231 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:17:17.003  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:17:17.636  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:17:17.724  INFO 231 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:17:17.851  INFO 231 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:17:18.156  INFO 231 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:17:18.418  INFO 231 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:17:18.560  WARN 231 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:17:19.772  INFO 231 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:17:19.788  INFO 231 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:17:20.738  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:17:20.741  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:17:20.744  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:17:20.745  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:17:20.747  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:17:20.748  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:17:20.750  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:17:20.751  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:17:21.128  INFO 231 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:17:21.133  INFO 231 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:17:21.496  INFO 231 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:17:21.839  WARN 231 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:17:22.067  INFO 231 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:17:22.325  INFO 231 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:17:22.336 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:17:22.337 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:17:22.660  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:17:22.689  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:17:22.699  INFO 231 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:17:22.815  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:17:22.834  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.66 seconds (JVM running for 14.505)
2023-02-21 21:17:22.888  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:17:23.440  INFO 231 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:17:23.441  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:17:23.446  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:17:51.717  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:17:51.723  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:17:53.318  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:17:53.776  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:17:54.237  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:17:54.323  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:17:54.375  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.379 seconds (JVM running for 4.453)
2023-02-21 21:17:54.384  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:17:54.483  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:17:55.827  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:17:55.832  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:17:56.176  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 328 ms. Found 14 JPA repository interfaces.
2023-02-21 21:17:56.363  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:17:57.032  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:17:57.051  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:17:57.055  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:17:57.225  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:17:57.227  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2735 ms
2023-02-21 21:17:57.429  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:17:57.602  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:17:58.151  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:17:58.243  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:17:58.359  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:17:58.643  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:17:58.874  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:17:58.995  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:18:00.357  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:18:00.374  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:18:01.538  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:18:01.542  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:18:01.545  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:18:01.547  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:18:01.551  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:18:01.552  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:18:01.554  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:18:01.555  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:18:01.951  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:18:01.956  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:18:02.435  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:18:02.823  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:18:03.079  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:18:03.250 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:18:03.256 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:18:03.417  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:18:03.808  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:18:03.837  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:18:03.851  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:18:03.970  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:18:03.991  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.599 seconds (JVM running for 14.069)
2023-02-21 21:18:04.068  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:18:05.059  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:18:05.062  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:18:05.068  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:18:33.280  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:18:33.288  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:18:34.809  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:18:35.420  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:18:35.929  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:18:36.000  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:18:36.045  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.498 seconds (JVM running for 4.516)
2023-02-21 21:18:36.052  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:18:36.134  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:18:37.599  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:18:37.604  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:18:37.930  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 312 ms. Found 14 JPA repository interfaces.
2023-02-21 21:18:38.115  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:18:38.857  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:18:38.874  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:18:38.877  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:18:39.000  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:18:39.002  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2860 ms
2023-02-21 21:18:39.153  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:18:39.298  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:18:39.742  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:18:40.055  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:18:40.153  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:18:40.472  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:18:40.692  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:18:40.828  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:18:41.968  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:18:41.986  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:18:43.080  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:18:43.084  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:18:43.086  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:18:43.088  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:18:43.091  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:18:43.092  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:18:43.094  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:18:43.095  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:18:43.567  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:18:43.572  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:18:43.910  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:18:44.253  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:18:44.534  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:18:44.750 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:18:44.754 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:18:44.858  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:18:45.204  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:18:45.229  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:18:45.239  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:18:45.342  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:18:45.362  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.303 seconds (JVM running for 13.832)
2023-02-21 21:18:45.412  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:18:46.649  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:18:46.652  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:18:46.658  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 21:19:20.692  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:19:20.705  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:19:22.763  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:19:23.387  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:19:23.871  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:19:23.952  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:19:24.003  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.423 seconds (JVM running for 5.708)
2023-02-21 21:19:24.013  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:19:24.107  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:19:25.670  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:19:25.675  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:19:26.049  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 359 ms. Found 14 JPA repository interfaces.
2023-02-21 21:19:26.247  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:19:26.883  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:19:26.901  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:19:26.904  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:19:27.034  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:19:27.035  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2918 ms
2023-02-21 21:19:27.197  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:19:27.356  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:19:27.803  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:19:28.094  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:19:28.222  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:19:28.482  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:19:28.740  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:19:28.886  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:19:30.104  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:19:30.122  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:19:31.286  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:19:31.289  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:19:31.292  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:19:31.293  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:19:31.296  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:19:31.298  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:19:31.299  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:19:31.300  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:19:31.664  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:19:31.669  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:19:32.037  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:19:32.426  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:19:32.704  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:19:32.863 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:19:32.865 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:19:32.981  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:19:33.314  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:19:33.344  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:19:33.354  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:19:33.460  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:19:33.479  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.459 seconds (JVM running for 15.184)
2023-02-21 21:19:33.526  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:19:38.442  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:19:38.444  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:19:38.449  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:20:07.095  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:20:07.107  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:20:08.624  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:20:09.102  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:20:09.532  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:20:09.605  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:20:09.649  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.45 seconds (JVM running for 4.612)
2023-02-21 21:20:09.656  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:20:09.739  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:20:11.351  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:20:11.358  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:20:11.793  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 417 ms. Found 14 JPA repository interfaces.
2023-02-21 21:20:12.012  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:20:12.616  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:20:12.632  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:20:12.635  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:20:12.745  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:20:12.747  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2999 ms
2023-02-21 21:20:12.896  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:20:13.029  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:20:13.688  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:20:13.770  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:20:13.882  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:20:14.136  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:20:14.334  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:20:14.466  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:20:15.564  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:20:15.581  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:20:16.556  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:20:16.560  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:20:16.563  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:20:16.564  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:20:16.568  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:20:16.570  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:20:16.571  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:20:16.573  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:20:16.942  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:20:16.946  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:39:08.371  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 243 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:39:08.378  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:39:09.908  INFO 243 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:39:10.366  INFO 243 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:39:10.809  INFO 243 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:39:10.882  WARN 243 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:39:10.938  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.382 seconds (JVM running for 4.586)
2023-02-21 21:39:10.946  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:39:11.052  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:39:12.440  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:39:12.447  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:39:12.758  INFO 243 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 295 ms. Found 14 JPA repository interfaces.
2023-02-21 21:39:12.941  INFO 243 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:39:13.631  INFO 243 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:39:13.649  INFO 243 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:39:13.652  INFO 243 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:39:13.800  INFO 243 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:39:13.803  INFO 243 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2742 ms
2023-02-21 21:39:14.044  INFO 243 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:39:14.263  INFO 243 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:39:14.958  INFO 243 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:39:15.072  INFO 243 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:39:15.191  INFO 243 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:39:15.493  INFO 243 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:39:15.698  INFO 243 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:39:15.815  WARN 243 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:39:16.968  INFO 243 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:39:16.985  INFO 243 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:39:17.914  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:39:17.917  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:39:17.919  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:39:17.921  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:39:17.923  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:39:17.924  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:39:17.925  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:39:17.926  INFO 243 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:39:18.260  INFO 243 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:39:18.265  INFO 243 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:39:18.698  INFO 243 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:39:19.047  WARN 243 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:39:19.265  INFO 243 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:39:19.481 ERROR 243 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:39:19.484 ERROR 243 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:39:19.518  INFO 243 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:39:19.840  INFO 243 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:39:19.865  WARN 243 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:39:19.874  INFO 243 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:39:19.977  INFO 243 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:39:19.994  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.04 seconds (JVM running for 13.642)
2023-02-21 21:39:20.047  INFO 243 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:39:21.475  INFO 243 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:39:21.477  INFO 243 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:39:21.484  INFO 243 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:39:49.422  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:39:49.429  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:39:51.190  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:39:51.659  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:39:52.097  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:39:52.164  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:39:52.210  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.555 seconds (JVM running for 4.733)
2023-02-21 21:39:52.216  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:39:52.301  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:39:53.668  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:39:53.675  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:39:53.983  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 293 ms. Found 14 JPA repository interfaces.
2023-02-21 21:39:54.217  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:39:54.792  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:39:54.810  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:39:54.814  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:39:54.936  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:39:54.938  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2582 ms
2023-02-21 21:39:55.087  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:39:55.256  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:39:55.832  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:39:55.909  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:39:56.021  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:39:56.312  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:39:56.567  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:39:56.693  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:39:57.816  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:39:57.838  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:39:59.133  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:39:59.136  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:39:59.139  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:39:59.140  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:39:59.143  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:39:59.144  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:39:59.146  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:39:59.147  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:39:59.541  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:39:59.546  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:39:59.948  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:40:00.307  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:40:00.518  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:40:00.758  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:40:00.781 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:40:00.784 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:40:01.065  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:40:01.087  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:40:01.095  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:40:01.200  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:40:01.218  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.994 seconds (JVM running for 13.74)
2023-02-21 21:40:01.261  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:40:02.601  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:40:02.604  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:40:02.609  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:40:30.701  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:40:30.708  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:40:32.235  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:40:32.693  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:40:33.164  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:40:33.251  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:40:33.303  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.354 seconds (JVM running for 4.437)
2023-02-21 21:40:33.311  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:40:33.413  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:40:34.723  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:40:34.729  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:40:35.053  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 14 JPA repository interfaces.
2023-02-21 21:40:35.229  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:40:35.900  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:40:35.919  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:40:35.924  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:40:36.070  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:40:36.072  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2648 ms
2023-02-21 21:40:36.238  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:40:36.406  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:40:37.020  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:40:37.125  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:40:37.255  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:40:37.583  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:40:37.809  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:40:37.980  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:40:39.591  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:40:39.610  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:40:41.376  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:40:41.381  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:40:41.386  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:40:41.389  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:40:41.393  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:40:41.395  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:40:41.396  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:40:41.399  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:40:41.913  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:40:41.920  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:40:42.360  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:40:42.882  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:40:43.148 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:40:43.150 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:40:43.167  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:40:43.451  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:40:43.781  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:40:43.807  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:40:43.817  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:40:43.947  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:40:43.971  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.652 seconds (JVM running for 15.106)
2023-02-21 21:40:44.035  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:40:48.989  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:40:48.992  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:40:48.997  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:41:11.964  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:41:11.971  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:41:13.447  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:41:13.921  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:41:14.446  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:41:14.528  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:41:14.577  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.403 seconds (JVM running for 4.364)
2023-02-21 21:41:14.584  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:41:14.669  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:41:16.448  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:41:16.456  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:41:16.785  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 14 JPA repository interfaces.
2023-02-21 21:41:16.976  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:41:17.573  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:41:17.588  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:41:17.591  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:41:17.698  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:41:17.700  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3022 ms
2023-02-21 21:41:17.849  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:41:18.004  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:41:18.591  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:41:18.677  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:41:18.794  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:41:19.044  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:41:19.243  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:41:19.359  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:41:20.493  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:41:20.511  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:41:21.441  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:41:21.443  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:41:21.446  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:41:21.448  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:41:21.450  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:41:21.451  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:41:21.452  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:41:21.454  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:41:21.813  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:41:21.817  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:41:22.125  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:41:22.452  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:41:22.670  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:41:22.917  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:41:23.002 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:41:23.005 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:41:23.258  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:41:23.286  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:41:23.297  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:41:23.408  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:41:23.426  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.834 seconds (JVM running for 13.213)
2023-02-21 21:41:23.472  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:41:25.328  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:41:25.331  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:41:25.335  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:41:53.746  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:41:53.753  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:41:55.386  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:41:56.076  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:41:56.593  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:41:56.673  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:41:56.721  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.816 seconds (JVM running for 5.053)
2023-02-21 21:41:56.728  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:41:56.813  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:41:57.938  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:41:57.948  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:41:58.444  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 472 ms. Found 14 JPA repository interfaces.
2023-02-21 21:41:58.632  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:41:59.316  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:41:59.338  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:41:59.342  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:41:59.493  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:41:59.495  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2674 ms
2023-02-21 21:41:59.679  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:41:59.847  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:42:00.412  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:42:00.496  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:42:00.608  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:42:01.082  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:42:01.325  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:42:01.471  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:42:02.733  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:42:02.751  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:42:04.156  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:42:04.161  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:42:04.166  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:42:04.171  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:42:04.178  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:42:04.184  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:42:04.186  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:42:04.188  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:42:04.676  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:42:04.683  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:42:05.117  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:42:05.519  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:42:05.766  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:42:05.908 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:42:05.911 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:42:06.028  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:42:06.330  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:42:06.356  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:42:06.367  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:42:06.474  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:42:06.492  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.757 seconds (JVM running for 14.824)
2023-02-21 21:42:06.541  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:42:06.808  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:42:06.810  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:42:06.815  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:42:31.030  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:42:31.036  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:42:32.352  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:42:32.769  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:42:33.180  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:42:33.245  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:42:33.287  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.94 seconds (JVM running for 4.084)
2023-02-21 21:42:33.295  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:42:33.375  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:42:34.564  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:42:34.569  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:42:34.859  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 14 JPA repository interfaces.
2023-02-21 21:42:35.028  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:42:35.636  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:42:35.651  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:42:35.653  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:42:35.773  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:42:35.774  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2390 ms
2023-02-21 21:42:35.897  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:42:36.016  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:42:36.651  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:42:36.733  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:42:36.864  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:42:37.200  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:42:37.436  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:42:37.574  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:42:38.681  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:42:38.698  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:42:39.674  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:42:39.677  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:42:39.680  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:42:39.681  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:42:39.684  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:42:39.685  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:42:39.687  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:42:39.688  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:42:40.034  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:42:40.039  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:42:40.405  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:42:40.887  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:42:41.143  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:42:41.229 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:42:41.231 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:42:41.402  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:42:41.748  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:42:41.782  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:42:41.794  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:42:41.910  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:42:41.928  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.627 seconds (JVM running for 12.725)
2023-02-21 21:42:41.981  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:42:44.356  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:42:44.359  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:42:44.365  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:43:12.752  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:43:12.760  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:43:14.581  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:43:15.407  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:43:15.959  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:43:16.062  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:43:16.116  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.199 seconds (JVM running for 5.259)
2023-02-21 21:43:16.124  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:43:16.220  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:43:17.740  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:43:17.746  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:43:18.062  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 299 ms. Found 14 JPA repository interfaces.
2023-02-21 21:43:18.250  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:43:18.923  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:43:18.939  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:43:18.943  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:43:19.066  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:43:19.067  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2837 ms
2023-02-21 21:43:19.221  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:43:19.369  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:43:20.009  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:43:20.138  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:43:20.280  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:43:20.614  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:43:20.850  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:43:20.979  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:43:22.748  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:43:22.766  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:43:24.033  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:43:24.036  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:43:24.039  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:43:24.040  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:43:24.043  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:43:24.044  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:43:24.045  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:43:24.047  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:43:24.437  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:43:24.442  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:43:24.823  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:43:25.204  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:43:25.459  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:43:25.643 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:43:25.646 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:43:25.735  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:43:26.107  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:43:26.138  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:43:26.150  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:43:26.280  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:43:26.301  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.169 seconds (JVM running for 15.444)
2023-02-21 21:43:26.359  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:43:30.981  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:43:30.985  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:43:30.989  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:43:59.184  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:43:59.192  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:44:00.679  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:44:01.157  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:44:01.542  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:44:01.612  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:44:01.658  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.115 seconds (JVM running for 4.271)
2023-02-21 21:44:01.667  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:44:01.757  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:44:02.930  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:44:02.936  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:44:03.219  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 270 ms. Found 14 JPA repository interfaces.
2023-02-21 21:44:03.399  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:44:04.045  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:44:04.062  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:44:04.065  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:44:04.180  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:44:04.182  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2417 ms
2023-02-21 21:44:04.341  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:44:04.488  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:44:05.056  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:44:05.137  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:44:05.245  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:44:05.518  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:44:05.750  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:44:05.859  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:44:07.009  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:44:07.029  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:44:07.918  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:44:07.921  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:44:07.924  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:44:07.925  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:44:07.927  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:44:07.928  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:44:07.930  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:44:07.931  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:44:08.342  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:44:08.347  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:44:08.761  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:44:09.086  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:44:09.343  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:44:09.592 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:44:09.595 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:44:09.638  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:44:09.991  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:44:10.016  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:44:10.024  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:44:10.155  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:44:10.181  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.507 seconds (JVM running for 12.793)
2023-02-21 21:44:10.230  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:44:12.499  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:44:12.503  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:44:12.509  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:44:35.594  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 237 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:44:35.600  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:44:37.169  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:44:37.668  INFO 237 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:44:38.112  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:44:38.192  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:44:38.250  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.404 seconds (JVM running for 4.496)
2023-02-21 21:44:38.262  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:44:38.431  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:44:40.068  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:44:40.074  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:44:40.390  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 14 JPA repository interfaces.
2023-02-21 21:44:40.660  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:44:41.394  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:44:41.415  INFO 237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:44:41.419  INFO 237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:44:41.595  INFO 237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:44:41.597  INFO 237 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3151 ms
2023-02-21 21:44:41.813  INFO 237 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:44:42.026  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:44:42.720  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:44:42.819  INFO 237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:44:42.950  INFO 237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:44:43.294  INFO 237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:44:43.571  INFO 237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:44:43.729  WARN 237 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:44:45.752  INFO 237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:44:45.783  INFO 237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:44:47.291  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:44:47.295  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:44:47.299  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:44:47.301  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:44:47.306  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:44:47.309  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:44:47.310  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:44:47.312  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:44:47.787  INFO 237 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:44:47.792  INFO 237 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:44:48.218  INFO 237 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:44:48.548  WARN 237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:44:48.761  INFO 237 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:44:49.011  INFO 237 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:44:49.014 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:44:49.019 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:44:49.322  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:44:49.344  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:44:49.352  INFO 237 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:44:49.454  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:44:49.481  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.2 seconds (JVM running for 15.727)
2023-02-21 21:44:49.546  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:44:53.874  INFO 237 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:44:53.877  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:44:53.881  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-21 21:45:22.143  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:45:22.150  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:45:23.859  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:45:24.382  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:45:24.830  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:45:24.899  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:45:24.942  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.582 seconds (JVM running for 4.631)
2023-02-21 21:45:24.948  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:45:25.037  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:45:26.344  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:45:26.351  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:45:26.680  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 313 ms. Found 14 JPA repository interfaces.
2023-02-21 21:45:26.878  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:45:27.558  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:45:27.578  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:45:27.581  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:45:27.725  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:45:27.727  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2681 ms
2023-02-21 21:45:27.914  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:45:28.121  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:45:28.753  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:45:28.844  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:45:28.952  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:45:29.220  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:45:29.408  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:45:29.520  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:45:30.779  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:45:30.797  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:45:31.944  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:45:31.947  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:45:31.951  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:45:31.953  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:45:31.957  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:45:31.958  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:45:31.962  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:45:31.964  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:45:32.391  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:45:32.398  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:45:32.828  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:45:33.257  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:45:33.516  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:45:33.648 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:45:33.652 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:45:33.824  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:45:34.265  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:45:34.293  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:45:34.304  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:45:34.435  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:45:34.460  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.503 seconds (JVM running for 14.149)
2023-02-21 21:45:34.517  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:45:35.441  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:45:35.445  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:45:35.450  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-21 21:45:59.128  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:45:59.133  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:54:49.913  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 233 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:54:49.920  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:54:51.273  INFO 233 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:54:51.749  INFO 233 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:54:52.281  INFO 233 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:54:52.377  WARN 233 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:54:52.425  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.239 seconds (JVM running for 4.285)
2023-02-21 21:54:52.431  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:54:52.523  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:54:54.897  INFO 233 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:54:54.905  INFO 233 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:54:55.469  INFO 233 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 537 ms. Found 14 JPA repository interfaces.
2023-02-21 21:54:55.716  INFO 233 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:54:56.602  INFO 233 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:54:56.624  INFO 233 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:54:56.627  INFO 233 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:54:56.788  INFO 233 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:54:56.791  INFO 233 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4261 ms
2023-02-21 21:54:57.007  INFO 233 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:54:57.246  INFO 233 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:54:58.175  INFO 233 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:54:58.309  INFO 233 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:54:58.525  INFO 233 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:54:58.998  INFO 233 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:54:59.281  INFO 233 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:54:59.441  WARN 233 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:55:01.039  INFO 233 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:55:01.060  INFO 233 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:55:02.353  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:55:02.357  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:55:02.360  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:55:02.362  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:55:02.365  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:55:02.367  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:55:02.368  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:55:02.369  INFO 233 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:55:02.885  INFO 233 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:55:02.891  INFO 233 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:55:03.355  INFO 233 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:55:03.869  WARN 233 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:55:04.133 ERROR 233 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:55:04.154 ERROR 233 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:55:04.387  INFO 233 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:55:04.814  INFO 233 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:55:05.418  INFO 233 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:55:05.458  WARN 233 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:55:05.474  INFO 233 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:55:05.649  INFO 233 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:55:05.676  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.237 seconds (JVM running for 17.536)
2023-02-21 21:55:05.747  INFO 233 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:55:08.275  INFO 233 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:55:08.278  INFO 233 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:55:08.284  INFO 233 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-21 21:57:12.572  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-21 21:57:12.579  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:57:14.124  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-21 21:57:14.624  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-21 21:57:15.053  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:57:15.122  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:57:15.169  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.248 seconds (JVM running for 4.209)
2023-02-21 21:57:15.177  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-21 21:57:15.266  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-21 21:57:16.405  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-21 21:57:16.410  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-21 21:57:16.664  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 242 ms. Found 14 JPA repository interfaces.
2023-02-21 21:57:16.833  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-21 21:57:17.578  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-21 21:57:17.600  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-21 21:57:17.604  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-21 21:57:17.757  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-21 21:57:17.759  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2485 ms
2023-02-21 21:57:17.959  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-21 21:57:18.177  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-21 21:57:18.795  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-21 21:57:18.878  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-21 21:57:18.986  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-21 21:57:19.252  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-21 21:57:19.441  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-21 21:57:19.551  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-21 21:57:20.660  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-21 21:57:20.679  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-21 21:57:21.568  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-21 21:57:21.571  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-21 21:57:21.573  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-21 21:57:21.574  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-21 21:57:21.577  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-21 21:57:21.579  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-21 21:57:21.580  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-21 21:57:21.581  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-21 21:57:21.909  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-21 21:57:21.913  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-21 21:57:22.230  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-21 21:57:22.555  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-21 21:57:22.801  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-21 21:57:23.050  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-21 21:57:23.106 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-21 21:57:23.110 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-21 21:57:23.417  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-21 21:57:23.444  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-21 21:57:23.454  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-21 21:57:23.568  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-21 21:57:23.585  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.4 seconds (JVM running for 12.625)
2023-02-21 21:57:23.635  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-21 21:57:26.076  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-21 21:57:26.079  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-21 21:57:26.083  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
