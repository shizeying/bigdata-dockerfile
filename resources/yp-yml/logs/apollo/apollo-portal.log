
2023-02-16 16:18:52.340  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:18:52.347  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:18:54.018  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:18:54.527  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:18:55.454  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:18:55.574  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:18:55.627  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.047 seconds (JVM running for 4.991)
2023-02-16 16:18:55.637  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:18:55.739  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:18:57.057  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:18:57.063  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:18:57.381  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 14 JPA repository interfaces.
2023-02-16 16:18:57.561  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:18:58.310  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:18:58.334  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:18:58.338  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:18:58.471  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:18:58.474  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2724 ms
2023-02-16 16:18:58.639  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:18:58.766  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:18:59.378  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:18:59.463  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:18:59.564  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:18:59.804  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:19:00.007  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:19:00.122  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:19:01.257  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:19:01.274  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:19:02.390  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:19:02.393  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:19:02.395  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:19:02.396  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:19:02.398  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:19:02.399  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:19:02.400  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:19:02.401  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:19:02.775  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:19:02.780  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:19:03.153  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:19:03.493  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:19:03.781  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:19:03.966 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:19:03.969 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:19:04.122  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:19:04.450  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:19:04.477  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:19:04.489  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:19:04.618  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:19:04.641  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.996 seconds (JVM running for 14.005)
2023-02-16 16:19:04.687  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:19:05.763  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:19:05.766  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:19:05.770  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:19:33.992  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:19:33.998  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:19:36.190  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:19:36.966  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:19:37.583  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:19:37.654  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:19:37.701  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.433 seconds (JVM running for 5.531)
2023-02-16 16:19:37.709  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:19:37.819  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:19:39.580  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:19:39.590  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:19:40.017  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 407 ms. Found 14 JPA repository interfaces.
2023-02-16 16:19:40.238  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:19:41.026  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:19:41.046  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:19:41.050  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:19:41.185  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:19:41.187  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3357 ms
2023-02-16 16:19:41.360  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:19:41.537  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:19:42.253  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:19:42.389  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:19:42.524  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:19:42.896  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:19:43.115  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:19:43.250  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:19:44.481  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:19:44.500  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:19:45.567  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:19:45.569  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:19:45.572  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:19:45.573  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:19:45.576  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:19:45.578  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:19:45.579  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:19:45.580  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:19:45.967  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:19:45.973  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:19:46.372  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:19:46.724  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:19:47.029  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:19:47.206 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:19:47.208 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:19:47.331  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:19:47.717  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:19:47.742  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:19:47.751  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:19:47.860  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:19:47.879  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.163 seconds (JVM running for 15.709)
2023-02-16 16:19:47.927  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:19:52.323  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:19:52.327  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:19:52.335  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 16:20:20.555  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:20:20.562  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:20:22.045  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:20:22.538  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:20:23.061  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:20:23.137  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:20:23.192  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.46 seconds (JVM running for 4.41)
2023-02-16 16:20:23.200  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:20:23.333  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:20:24.816  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:20:24.823  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:20:25.184  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 344 ms. Found 14 JPA repository interfaces.
2023-02-16 16:20:25.483  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:20:26.217  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:20:26.235  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:20:26.239  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:20:26.416  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:20:26.418  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3073 ms
2023-02-16 16:20:26.607  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:20:26.786  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:20:27.474  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:20:27.566  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:20:27.684  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:20:28.023  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:20:28.290  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:20:28.459  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:20:30.042  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:20:30.063  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:20:31.425  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:20:31.428  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:20:31.431  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:20:31.432  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:20:31.435  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:20:31.436  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:20:31.437  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:20:31.439  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:20:31.920  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:20:31.927  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:20:32.405  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:20:32.850  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:20:33.156  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:20:33.185 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:20:33.191 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:20:33.478  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:20:33.867  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:20:33.905  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:20:33.922  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:20:34.072  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:20:34.100  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.891 seconds (JVM running for 15.318)
2023-02-16 16:20:34.153  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:20:38.945  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:20:38.949  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:20:38.954  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:21:02.215  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 235 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:21:02.222  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:21:03.956  INFO 235 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:21:04.555  INFO 235 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:21:05.128  INFO 235 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:21:05.207  WARN 235 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:21:05.253  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.783 seconds (JVM running for 5.02)
2023-02-16 16:21:05.259  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:21:05.340  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:21:06.537  INFO 235 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:21:06.542  INFO 235 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:21:06.820  INFO 235 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 14 JPA repository interfaces.
2023-02-16 16:21:07.017  INFO 235 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:21:07.734  INFO 235 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:21:07.755  INFO 235 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:21:07.759  INFO 235 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:21:07.921  INFO 235 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:21:07.923  INFO 235 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2574 ms
2023-02-16 16:21:08.071  INFO 235 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:21:08.182  INFO 235 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:21:08.862  INFO 235 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:21:08.951  INFO 235 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:21:09.070  INFO 235 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:21:09.818  INFO 235 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:21:10.110  INFO 235 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:21:10.275  WARN 235 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:21:11.443  INFO 235 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:21:11.461  INFO 235 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:21:12.757  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:21:12.760  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:21:12.763  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:21:12.764  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:21:12.769  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:21:12.770  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:21:12.772  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:21:12.774  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:21:13.275  INFO 235 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:21:13.282  INFO 235 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:21:13.807  INFO 235 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:21:14.292  WARN 235 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:21:14.549 ERROR 235 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:21:14.552 ERROR 235 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:21:14.680  INFO 235 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:21:15.019  INFO 235 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:21:15.469  INFO 235 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:21:15.513  WARN 235 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:21:15.532  INFO 235 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:21:15.719  INFO 235 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:21:15.751  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.486 seconds (JVM running for 15.518)
2023-02-16 16:21:15.812  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:21:17.408  INFO 235 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:21:17.412  INFO 235 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:21:17.418  INFO 235 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:22:46.967  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:22:46.973  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:22:48.397  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:22:48.884  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:22:49.580  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:22:49.661  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:22:49.708  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.477 seconds (JVM running for 4.535)
2023-02-16 16:22:49.716  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:22:49.806  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:22:51.228  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:22:51.238  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:22:51.694  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 439 ms. Found 14 JPA repository interfaces.
2023-02-16 16:22:52.026  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:22:53.010  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:22:53.032  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:22:53.037  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:22:53.181  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:22:53.183  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3369 ms
2023-02-16 16:22:53.347  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:22:53.490  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:22:53.980  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:22:54.400  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:22:54.555  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:22:54.862  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:22:55.115  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:22:55.331  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:22:56.723  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:22:56.752  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:22:57.974  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:22:57.978  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:22:57.980  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:22:57.982  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:22:57.984  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:22:57.985  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:22:57.986  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:22:57.987  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:22:58.346  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:22:58.352  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:22:58.689  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:22:59.043  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:22:59.341  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:22:59.558 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:22:59.563 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:22:59.675  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:23:00.036  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:23:00.071  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:23:00.081  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:23:00.191  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:23:00.211  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.489 seconds (JVM running for 15.038)
2023-02-16 16:23:00.266  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:23:00.314  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:23:00.316  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:23:00.322  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:23:24.042  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:23:24.051  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:23:25.708  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:23:26.247  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:23:26.767  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:23:26.864  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:23:26.921  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.725 seconds (JVM running for 5.153)
2023-02-16 16:23:26.929  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:23:27.025  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:23:28.513  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:23:28.518  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:23:28.843  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 311 ms. Found 14 JPA repository interfaces.
2023-02-16 16:23:29.033  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:23:29.747  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:23:29.764  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:23:29.768  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:23:29.883  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:23:29.885  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2851 ms
2023-02-16 16:23:30.050  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:23:30.193  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:23:30.842  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:23:30.942  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:23:31.073  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:23:31.390  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:23:31.654  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:23:31.804  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:23:33.231  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:23:33.251  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:23:34.617  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:23:34.621  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:23:34.624  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:23:34.626  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:23:34.629  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:23:34.630  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:23:34.632  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:23:34.633  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:23:35.111  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:23:35.116  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:23:35.520  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:23:35.895  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:23:36.156  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:23:36.319 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:23:36.323 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:23:36.478  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:23:36.822  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:23:36.872  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:23:36.882  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:23:36.994  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:23:37.017  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.081 seconds (JVM running for 15.249)
2023-02-16 16:23:37.074  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:23:41.895  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:23:41.898  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:23:41.903  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:24:09.790  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:24:09.796  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:24:11.294  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:24:11.715  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:24:12.162  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:24:12.232  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:24:12.279  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.188 seconds (JVM running for 4.208)
2023-02-16 16:24:12.286  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:24:12.364  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:24:13.539  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:24:13.544  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:24:13.815  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 258 ms. Found 14 JPA repository interfaces.
2023-02-16 16:24:13.987  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:24:14.631  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:24:14.649  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:24:14.652  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:24:14.757  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:24:14.759  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2387 ms
2023-02-16 16:24:14.877  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:24:14.978  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:24:15.601  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:24:15.683  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:24:15.795  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:24:16.063  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:24:16.316  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:24:16.435  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:24:17.623  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:24:17.641  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:24:18.729  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:24:18.732  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:24:18.734  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:24:18.735  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:24:18.737  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:24:18.738  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:24:18.739  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:24:18.740  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:24:19.079  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:24:19.084  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:24:19.384  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:24:19.725  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:24:19.988  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:24:20.248 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:24:20.250 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:24:20.269  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:24:20.631  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:24:20.658  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:24:20.668  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:24:20.780  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:24:20.799  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.507 seconds (JVM running for 12.729)
2023-02-16 16:24:20.854  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:24:23.189  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:24:23.192  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:24:23.196  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:24:51.145  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:24:51.153  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:24:52.826  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:24:53.296  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:24:53.765  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:24:53.839  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:24:53.886  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.414 seconds (JVM running for 4.42)
2023-02-16 16:24:53.894  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:24:53.984  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:24:55.269  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:24:55.276  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:24:55.590  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 298 ms. Found 14 JPA repository interfaces.
2023-02-16 16:24:55.763  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:24:56.458  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:24:56.480  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:24:56.483  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:24:56.626  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:24:56.628  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2636 ms
2023-02-16 16:24:56.786  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:24:56.926  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:24:57.669  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:24:57.800  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:24:57.978  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:24:58.511  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:24:58.847  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:24:59.007  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:25:00.435  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:25:00.463  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:25:02.151  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:25:02.154  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:25:02.157  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:25:02.158  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:25:02.160  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:25:02.162  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:25:02.163  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:25:02.164  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:25:02.590  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:25:02.596  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:25:02.982  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:25:03.351  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:25:03.589  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:25:03.823 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:25:03.828 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:25:03.874  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:25:04.303  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:25:04.344  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:25:04.369  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:25:04.771  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:25:04.798  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.896 seconds (JVM running for 15.332)
2023-02-16 16:25:04.887  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:25:09.633  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:25:09.637  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:25:09.643  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:25:37.981  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:25:37.986  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:25:39.633  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:25:40.088  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:25:40.579  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:25:40.653  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:25:40.699  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.625 seconds (JVM running for 4.811)
2023-02-16 16:25:40.707  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:25:40.795  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:25:42.029  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:25:42.035  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:25:42.310  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 262 ms. Found 14 JPA repository interfaces.
2023-02-16 16:25:42.483  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:25:43.147  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:25:43.173  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:25:43.176  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:25:43.321  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:25:43.322  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2518 ms
2023-02-16 16:25:43.506  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:25:43.646  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:25:44.354  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:25:44.449  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:25:44.572  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:25:44.850  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:25:45.066  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:25:45.179  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:25:46.351  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:25:46.370  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:25:47.429  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:25:47.432  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:25:47.435  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:25:47.437  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:25:47.439  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:25:47.441  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:25:47.442  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:25:47.444  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:25:47.825  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:25:47.829  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:25:48.321  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:25:48.749  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:25:49.027  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:25:49.119 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:25:49.123 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:25:49.336  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:25:49.688  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:25:49.712  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:25:49.722  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:25:49.861  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:25:49.881  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.167 seconds (JVM running for 13.992)
2023-02-16 16:25:49.929  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:25:51.142  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:25:51.146  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:25:51.155  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 16:26:14.436  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:26:14.443  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:26:16.234  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:26:16.779  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:26:17.428  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:26:17.544  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:26:17.592  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.008 seconds (JVM running for 5.153)
2023-02-16 16:26:17.600  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:26:17.687  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:26:19.318  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:26:19.325  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:26:19.700  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 357 ms. Found 14 JPA repository interfaces.
2023-02-16 16:26:19.909  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:26:20.710  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:26:20.728  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:26:20.731  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:26:20.892  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:26:20.895  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3198 ms
2023-02-16 16:26:21.069  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:26:21.211  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:26:21.922  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:26:22.012  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:26:22.132  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:26:22.450  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:26:22.714  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:26:22.889  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:26:24.740  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:26:24.762  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:26:26.212  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:26:26.215  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:26:26.217  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:26:26.218  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:26:26.220  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:26:26.222  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:26:26.223  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:26:26.224  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:26:26.608  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:26:26.612  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:26:26.991  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:26:27.361  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:26:27.617  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:26:27.808 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:26:27.811 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:26:27.878  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:26:28.199  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:26:28.223  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:26:28.232  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:26:28.336  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:26:28.357  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.75 seconds (JVM running for 15.918)
2023-02-16 16:26:28.408  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:26:32.610  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:26:32.613  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:26:32.620  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 16:26:55.732  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:26:55.739  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:26:57.334  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:26:57.798  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:26:58.331  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:26:58.416  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:26:58.481  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.501 seconds (JVM running for 4.542)
2023-02-16 16:26:58.491  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:26:58.589  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:27:00.072  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:27:00.083  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:27:00.637  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 530 ms. Found 14 JPA repository interfaces.
2023-02-16 16:27:01.041  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:27:01.901  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:27:01.925  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:27:01.930  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:27:02.056  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:27:02.058  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3460 ms
2023-02-16 16:27:02.207  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:27:02.340  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:27:03.023  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:27:03.157  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:27:03.308  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:27:03.718  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:27:04.001  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:27:04.160  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:27:05.297  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:27:05.313  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:27:07.034  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:27:07.038  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:27:07.041  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:27:07.043  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:27:07.047  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:27:07.049  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:27:07.051  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:27:07.053  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:27:07.542  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:27:07.547  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:27:08.076  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:27:08.537  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:27:08.821  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:27:08.836 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:27:08.839 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:27:09.128  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:27:09.541  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:27:09.577  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:27:09.595  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:27:09.756  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:27:09.776  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.274 seconds (JVM running for 15.836)
2023-02-16 16:27:09.843  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:27:14.093  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:27:14.097  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:27:14.108  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 16:27:37.330  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:27:37.337  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:27:38.836  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:27:39.303  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:27:39.766  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:27:39.831  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:27:39.874  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.349 seconds (JVM running for 4.456)
2023-02-16 16:27:39.885  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:27:40.017  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:27:41.419  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:27:41.426  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:27:41.765  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 322 ms. Found 14 JPA repository interfaces.
2023-02-16 16:27:42.024  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:27:42.704  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:27:42.726  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:27:42.729  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:27:42.883  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:27:42.885  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2858 ms
2023-02-16 16:27:43.077  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:27:43.242  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:27:43.792  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:27:43.872  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:27:43.999  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:27:44.299  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:27:44.504  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:27:44.636  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:27:45.884  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:27:45.902  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:27:46.962  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:27:46.965  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:27:46.967  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:27:46.969  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:27:46.971  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:27:46.972  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:27:46.973  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:27:46.974  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:27:47.351  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:27:47.356  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:27:47.756  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:27:48.103  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:27:48.384  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:27:48.579 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:27:48.582 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:27:48.718  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:27:49.052  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:27:49.078  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:27:49.089  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:27:49.216  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:27:49.275  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.37 seconds (JVM running for 13.857)
2023-02-16 16:27:49.330  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:27:50.628  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:27:50.632  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:27:50.637  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:28:14.613  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:28:14.621  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:28:16.643  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:28:17.248  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:28:17.782  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:28:17.861  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:28:17.911  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.484 seconds (JVM running for 5.947)
2023-02-16 16:28:17.919  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:28:18.010  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:28:19.419  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:28:19.427  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:28:19.809  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 358 ms. Found 14 JPA repository interfaces.
2023-02-16 16:28:20.039  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:28:20.691  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:28:20.710  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:28:20.713  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:28:20.855  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:28:20.856  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2835 ms
2023-02-16 16:28:21.013  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:28:21.166  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:28:21.779  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:28:21.867  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:28:22.001  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:28:22.314  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:28:22.541  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:28:22.679  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:28:23.940  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:28:23.974  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:28:25.332  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:28:25.335  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:28:25.339  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:28:25.341  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:28:25.344  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:28:25.346  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:28:25.347  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:28:25.348  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:28:25.843  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:28:25.848  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:28:26.355  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:28:26.832  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:28:27.122 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:28:27.125 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:28:27.126  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:28:27.498  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:28:27.842  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:28:27.869  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:28:27.879  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:28:28.009  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:28:28.030  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.103 seconds (JVM running for 16.066)
2023-02-16 16:28:28.075  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:28:32.103  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:28:32.105  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:28:32.110  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:28:55.686  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 231 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:28:55.692  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:28:57.110  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:28:57.585  INFO 231 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:28:58.043  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:28:58.109  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:28:58.155  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.222 seconds (JVM running for 4.595)
2023-02-16 16:28:58.163  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:28:58.288  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:28:59.639  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:28:59.646  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:28:59.969  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 305 ms. Found 14 JPA repository interfaces.
2023-02-16 16:29:00.277  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:29:00.970  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:29:00.989  INFO 231 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:29:00.992  INFO 231 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:29:01.156  INFO 231 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:29:01.158  INFO 231 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2858 ms
2023-02-16 16:29:01.306  INFO 231 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:29:01.423  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:29:02.021  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:29:02.107  INFO 231 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:29:02.221  INFO 231 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:29:02.506  INFO 231 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:29:02.728  INFO 231 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:29:02.869  WARN 231 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:29:04.092  INFO 231 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:29:04.112  INFO 231 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:29:05.344  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:29:05.347  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:29:05.349  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:29:05.351  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:29:05.353  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:29:05.355  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:29:05.356  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:29:05.357  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:29:05.797  INFO 231 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:29:05.805  INFO 231 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:29:06.317  INFO 231 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:29:06.754  WARN 231 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:29:07.082  INFO 231 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:29:07.104 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:29:07.108 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:29:07.446  INFO 231 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:29:07.848  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:29:07.890  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:29:07.907  INFO 231 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:29:08.087  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:29:08.111  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.94 seconds (JVM running for 14.551)
2023-02-16 16:29:08.185  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:29:08.725  INFO 231 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:29:08.727  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:29:08.733  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:29:32.155  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:29:32.161  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:29:33.890  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:29:34.387  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:29:34.911  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:29:34.991  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:29:35.040  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.673 seconds (JVM running for 4.822)
2023-02-16 16:29:35.047  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:29:35.138  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:29:36.625  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:29:36.631  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:29:36.912  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 267 ms. Found 14 JPA repository interfaces.
2023-02-16 16:29:37.086  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:29:37.761  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:29:37.782  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:29:37.786  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:29:37.917  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:29:37.918  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2771 ms
2023-02-16 16:29:38.059  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:29:38.183  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:29:38.804  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:29:38.883  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:29:39.000  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:29:39.354  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:29:39.593  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:29:39.722  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:29:40.985  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:29:41.004  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:29:42.094  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:29:42.098  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:29:42.100  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:29:42.102  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:29:42.105  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:29:42.106  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:29:42.108  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:29:42.109  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:29:42.460  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:29:42.464  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:29:42.831  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:29:43.192  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:29:43.461  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:29:43.659 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:29:43.661 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:29:43.775  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:29:44.137  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:29:44.173  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:29:44.185  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:29:44.342  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:29:44.363  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.309 seconds (JVM running for 14.146)
2023-02-16 16:29:44.428  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:29:45.368  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:29:45.372  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:29:45.381  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 16:30:13.781  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:30:13.789  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:30:15.435  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:30:15.938  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:30:16.405  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:30:16.476  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:30:16.523  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.458 seconds (JVM running for 4.603)
2023-02-16 16:30:16.530  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:30:16.632  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:30:17.879  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:30:17.885  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:30:18.196  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 294 ms. Found 14 JPA repository interfaces.
2023-02-16 16:30:18.365  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:30:19.078  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:30:19.101  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:30:19.107  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:30:19.316  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:30:19.318  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2674 ms
2023-02-16 16:30:19.455  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:30:19.583  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:30:20.447  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:30:20.552  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:30:20.693  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:30:21.093  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:30:21.383  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:30:21.535  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:30:22.875  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:30:22.908  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:30:24.107  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:30:24.111  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:30:24.114  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:30:24.115  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:30:24.118  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:30:24.119  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:30:24.121  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:30:24.123  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:30:24.552  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:30:24.557  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:30:24.980  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:30:25.360  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:30:25.613  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:30:25.765 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:30:25.767 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:30:25.880  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:30:26.267  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:30:26.292  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:30:26.304  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:30:26.422  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:30:26.441  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.904 seconds (JVM running for 14.521)
2023-02-16 16:30:26.508  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:30:27.047  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:30:27.049  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:30:27.062  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:30:55.678  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:30:55.684  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:30:57.369  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:30:57.860  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:30:58.322  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:30:58.410  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:30:58.455  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.709 seconds (JVM running for 5.025)
2023-02-16 16:30:58.462  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:30:58.545  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:30:59.935  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:30:59.940  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:31:00.314  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 360 ms. Found 14 JPA repository interfaces.
2023-02-16 16:31:00.519  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:31:01.154  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:31:01.169  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:31:01.171  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:31:01.282  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:31:01.284  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2730 ms
2023-02-16 16:31:01.434  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:31:01.563  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:31:02.193  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:31:02.276  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:31:02.387  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:31:02.642  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:31:02.854  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:31:02.967  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:31:04.215  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:31:04.232  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:31:05.264  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:31:05.267  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:31:05.270  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:31:05.271  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:31:05.274  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:31:05.275  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:31:05.276  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:31:05.277  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:31:05.646  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:31:05.651  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:31:06.045  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:31:06.399  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:31:06.629  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:31:06.877 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:31:06.879 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:31:06.910  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:31:07.265  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:31:07.290  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:31:07.299  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:31:07.405  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:31:07.425  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.957 seconds (JVM running for 13.995)
2023-02-16 16:31:07.474  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:31:08.540  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:31:08.543  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:31:08.550  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:31:36.773  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:31:36.788  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:31:38.376  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:31:38.889  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:31:39.395  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:31:39.483  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:31:39.538  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.528 seconds (JVM running for 4.581)
2023-02-16 16:31:39.545  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:31:39.633  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:31:41.302  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:31:41.308  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:31:41.691  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 366 ms. Found 14 JPA repository interfaces.
2023-02-16 16:31:41.988  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:31:42.974  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:31:42.994  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:31:42.997  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:31:43.130  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:31:43.138  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3496 ms
2023-02-16 16:31:43.347  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:31:43.492  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:31:44.463  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:31:44.623  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:31:44.795  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:31:45.316  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:31:45.563  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:31:45.797  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:31:47.413  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:31:47.430  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:31:48.667  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:31:48.671  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:31:48.674  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:31:48.676  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:31:48.680  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:31:48.681  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:31:48.682  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:31:48.683  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:31:49.256  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:31:49.262  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:31:49.651  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:31:50.339  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:31:50.482 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:31:50.484 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:31:50.659  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:31:50.981  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:31:51.405  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:31:51.437  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:31:51.449  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:31:51.628  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:31:51.701  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.144 seconds (JVM running for 16.74)
2023-02-16 16:31:51.775  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:31:55.120  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:31:55.123  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:31:55.130  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:32:24.532  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:32:24.539  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:32:26.170  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:32:26.783  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:32:27.266  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:32:27.348  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:32:27.396  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.766 seconds (JVM running for 5.51)
2023-02-16 16:32:27.402  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:32:27.487  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:32:29.006  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:32:29.014  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:32:29.376  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 342 ms. Found 14 JPA repository interfaces.
2023-02-16 16:32:29.614  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:32:30.344  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:32:30.367  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:32:30.370  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:32:30.505  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:32:30.508  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3013 ms
2023-02-16 16:32:30.662  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:32:30.800  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:32:31.558  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:32:31.704  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:32:31.941  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:32:32.380  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:32:32.618  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:32:32.752  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:32:33.944  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:32:33.960  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:32:35.219  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:32:35.221  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:32:35.224  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:32:35.225  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:32:35.227  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:32:35.228  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:32:35.229  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:32:35.230  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:32:35.585  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:32:35.592  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:32:36.155  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:32:36.518  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:32:36.768  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:32:36.959 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:32:36.963 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:32:37.072  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:32:37.741  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:32:37.801  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:32:37.823  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:32:38.055  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:32:38.082  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.673 seconds (JVM running for 16.196)
2023-02-16 16:32:38.132  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:32:42.120  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:32:42.125  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:32:42.134  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 16:33:23.145  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:33:23.155  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:33:26.045  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:33:27.103  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:33:28.237  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:33:28.542  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:33:28.684  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 6.798 seconds (JVM running for 9.28)
2023-02-16 16:33:28.709  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:33:28.995  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:33:33.992  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:33:34.013  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:33:35.130  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1067 ms. Found 14 JPA repository interfaces.
2023-02-16 16:33:35.855  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:33:38.315  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:33:38.359  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:33:38.365  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:33:38.764  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:33:38.768  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9747 ms
2023-02-16 16:33:39.199  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:33:39.568  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:33:41.270  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:33:41.541  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:33:41.897  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:33:42.807  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:33:43.623  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:33:44.074  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:33:48.571  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:33:48.677  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:33:52.775  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:33:52.785  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:33:52.791  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:33:52.794  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:33:52.804  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:33:52.808  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:33:52.810  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:33:52.817  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:33:55.045  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:33:55.064  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:33:56.966  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:33:57.402 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:33:57.415 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:33:58.804  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:34:00.027  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:34:01.247  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:34:02.708  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:34:02.794  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:34:02.828  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:34:03.181  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:34:03.224  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 34.481 seconds (JVM running for 43.809)
2023-02-16 16:34:03.466  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:34:04.920  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:34:04.936  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:34:04.961  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2023-02-16 16:34:50.187  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 256 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:34:50.195  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:34:51.972  INFO 256 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:34:52.465  INFO 256 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:34:52.977  INFO 256 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:34:53.049  WARN 256 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:34:53.101  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.765 seconds (JVM running for 5.041)
2023-02-16 16:34:53.108  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:34:53.201  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:34:54.639  INFO 256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:34:54.647  INFO 256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:34:55.007  INFO 256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 342 ms. Found 14 JPA repository interfaces.
2023-02-16 16:34:55.245  INFO 256 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:34:56.027  INFO 256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:34:56.048  INFO 256 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:34:56.051  INFO 256 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:34:56.236  INFO 256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:34:56.239  INFO 256 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3029 ms
2023-02-16 16:34:56.396  INFO 256 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:34:56.546  INFO 256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:34:57.227  INFO 256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:34:57.301  INFO 256 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:34:57.412  INFO 256 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:34:57.729  INFO 256 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:34:57.960  INFO 256 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:34:58.097  WARN 256 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:34:59.458  INFO 256 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:34:59.476  INFO 256 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:35:00.782  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:35:00.786  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:35:00.788  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:35:00.790  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:35:00.792  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:35:00.793  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:35:00.795  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:35:00.796  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:35:01.241  INFO 256 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:35:01.245  INFO 256 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:35:01.657  INFO 256 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:35:02.020  WARN 256 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:35:02.278  INFO 256 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:35:02.467 ERROR 256 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:35:02.471 ERROR 256 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:35:02.613  INFO 256 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:35:02.977  INFO 256 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:35:03.001  WARN 256 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:35:03.011  INFO 256 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:35:03.116  INFO 256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:35:03.139  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.025 seconds (JVM running for 15.08)
2023-02-16 16:35:03.206  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:35:08.186  INFO 256 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:35:08.189  INFO 256 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:35:08.195  INFO 256 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:35:36.835  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:35:36.846  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:35:39.267  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:35:39.999  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:35:40.671  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:35:40.765  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:35:40.816  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.936 seconds (JVM running for 6.006)
2023-02-16 16:35:40.825  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:35:40.922  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:35:42.493  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:35:42.498  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:35:42.945  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 433 ms. Found 14 JPA repository interfaces.
2023-02-16 16:35:43.344  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:35:44.318  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:35:44.336  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:35:44.339  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:35:44.455  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:35:44.457  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3524 ms
2023-02-16 16:35:44.588  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:35:44.706  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:35:45.366  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:35:45.507  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:35:45.684  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:35:46.154  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:35:46.430  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:35:46.578  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:35:48.080  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:35:48.108  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:35:49.463  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:35:49.466  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:35:49.469  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:35:49.470  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:35:49.473  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:35:49.474  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:35:49.475  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:35:49.476  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:35:49.873  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:35:49.879  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:35:50.300  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:35:50.641  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:35:50.887  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:35:51.127 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:35:51.131 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:35:51.224  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:35:51.590  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:35:51.613  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:35:51.622  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:35:51.727  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:35:51.747  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.914 seconds (JVM running for 16.936)
2023-02-16 16:35:51.796  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:35:54.967  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:35:54.970  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:35:54.976  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:36:23.425  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:36:23.433  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:36:24.967  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:36:25.502  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:36:26.263  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:36:26.332  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:36:26.378  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.862 seconds (JVM running for 4.909)
2023-02-16 16:36:26.387  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:36:26.478  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:36:27.865  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:36:27.871  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:36:28.197  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 311 ms. Found 14 JPA repository interfaces.
2023-02-16 16:36:28.427  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:36:29.081  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:36:29.098  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:36:29.101  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:36:29.256  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:36:29.258  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2768 ms
2023-02-16 16:36:29.411  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:36:29.645  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:36:30.386  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:36:30.516  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:36:30.746  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:36:31.395  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:36:31.757  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:36:31.888  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:36:33.480  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:36:33.501  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:36:34.791  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:36:34.795  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:36:34.797  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:36:34.799  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:36:34.801  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:36:34.803  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:36:34.804  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:36:34.807  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:36:35.264  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:36:35.271  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:36:35.673  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:36:36.077  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:36:36.354  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:36:36.499 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:36:36.502 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:36:36.640  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:36:36.973  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:36:37.002  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:36:37.013  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:36:37.117  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:36:37.137  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.743 seconds (JVM running for 15.668)
2023-02-16 16:36:37.182  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:36:41.606  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:36:41.609  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:36:41.615  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:37:10.750  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:37:10.758  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:37:12.258  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:37:12.682  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:37:13.088  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:37:13.162  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:37:13.209  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.33 seconds (JVM running for 4.404)
2023-02-16 16:37:13.216  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:37:13.318  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:37:14.676  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:37:14.681  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:37:14.984  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 286 ms. Found 14 JPA repository interfaces.
2023-02-16 16:37:15.283  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:37:16.041  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:37:16.058  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:37:16.061  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:37:16.175  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:37:16.177  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2849 ms
2023-02-16 16:37:16.336  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:37:16.476  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:37:17.220  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:37:17.320  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:37:17.459  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:37:17.834  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:37:18.071  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:37:18.215  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:37:19.572  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:37:19.589  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:37:20.716  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:37:20.719  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:37:20.721  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:37:20.723  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:37:20.725  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:37:20.726  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:37:20.727  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:37:20.728  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:37:21.067  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:37:21.071  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:37:21.375  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:37:21.880  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:37:22.209  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:37:22.239 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:37:22.242 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:37:22.728  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:37:23.367  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:37:23.398  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:37:23.410  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:37:23.568  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:37:23.596  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.373 seconds (JVM running for 14.79)
2023-02-16 16:37:23.671  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:37:23.973  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:37:23.976  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:37:23.982  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:37:53.023  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:37:53.032  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:37:54.740  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:37:55.387  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:37:55.942  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:37:56.035  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:37:56.098  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.034 seconds (JVM running for 5.464)
2023-02-16 16:37:56.107  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:37:56.233  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:37:57.611  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:37:57.616  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:37:57.913  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 14 JPA repository interfaces.
2023-02-16 16:37:58.222  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:37:58.885  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:37:58.900  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:37:58.902  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:37:59.051  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:37:59.056  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2807 ms
2023-02-16 16:37:59.195  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:37:59.315  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:37:59.979  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:38:00.072  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:38:00.205  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:38:00.540  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:38:00.779  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:38:00.908  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:38:02.359  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:38:02.388  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:38:03.664  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:38:03.668  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:38:03.671  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:38:03.673  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:38:03.677  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:38:03.679  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:38:03.680  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:38:03.681  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:38:04.115  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:38:04.122  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:38:04.588  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:38:05.040  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:38:05.323  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:38:05.387 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:38:05.391 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:38:05.649  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:38:06.038  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:38:06.073  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:38:06.086  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:38:06.222  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:38:06.244  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.114 seconds (JVM running for 15.609)
2023-02-16 16:38:06.316  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:38:10.834  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:38:10.840  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:38:10.848  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:38:46.874  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:38:46.882  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:38:50.244  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:38:51.058  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:38:51.891  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:38:52.399  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:38:52.492  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 6.754 seconds (JVM running for 8.344)
2023-02-16 16:38:52.508  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:38:52.632  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:38:55.451  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:38:55.456  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:38:55.906  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 432 ms. Found 14 JPA repository interfaces.
2023-02-16 16:38:56.182  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:38:57.152  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:38:57.172  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:38:57.175  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:38:57.386  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:38:57.391  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4747 ms
2023-02-16 16:38:57.769  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:38:57.922  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:38:58.671  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:38:58.789  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:38:59.014  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:38:59.418  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:38:59.726  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:38:59.853  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:39:01.523  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:39:01.545  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:39:03.498  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:39:03.501  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:39:03.505  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:39:03.506  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:39:03.509  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:39:03.511  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:39:03.514  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:39:03.515  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:39:04.528  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:39:04.543  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:39:05.456  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:39:06.160 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:39:06.165 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:39:06.436  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:39:06.837  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:39:07.460  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:39:08.360  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:39:08.415  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:39:08.447  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:39:08.905  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:39:08.968  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 16.437 seconds (JVM running for 24.82)
2023-02-16 16:39:09.163  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:39:09.731  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:39:09.733  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:39:09.744  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 16:39:44.394  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 245 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:39:44.400  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:39:45.771  INFO 245 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:39:46.214  INFO 245 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:39:46.648  INFO 245 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:39:46.719  WARN 245 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:39:46.765  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.063 seconds (JVM running for 4.04)
2023-02-16 16:39:46.772  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:39:46.861  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:39:48.115  INFO 245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:39:48.121  INFO 245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:39:48.442  INFO 245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 14 JPA repository interfaces.
2023-02-16 16:39:48.684  INFO 245 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:39:49.474  INFO 245 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:39:49.494  INFO 245 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:39:49.497  INFO 245 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:39:49.621  INFO 245 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:39:49.623  INFO 245 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2754 ms
2023-02-16 16:39:49.766  INFO 245 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:39:49.881  INFO 245 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:39:50.529  INFO 245 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:39:50.615  INFO 245 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:39:50.722  INFO 245 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:39:51.008  INFO 245 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:39:51.203  INFO 245 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:39:51.322  WARN 245 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:39:52.587  INFO 245 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:39:52.609  INFO 245 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:39:53.637  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:39:53.641  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:39:53.643  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:39:53.644  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:39:53.646  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:39:53.647  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:39:53.648  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:39:53.649  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:39:54.018  INFO 245 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:39:54.023  INFO 245 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:39:54.431  INFO 245 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:39:54.791  WARN 245 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:39:55.037  INFO 245 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:39:55.242 ERROR 245 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:39:55.244 ERROR 245 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:39:55.314  INFO 245 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:39:55.572  INFO 245 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:39:55.592  WARN 245 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:39:55.600  INFO 245 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:39:55.728  INFO 245 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:39:55.747  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.971 seconds (JVM running for 13.025)
2023-02-16 16:39:55.817  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:39:57.874  INFO 245 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:39:57.877  INFO 245 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:39:57.882  INFO 245 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:40:26.401  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:40:26.408  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:40:28.023  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:40:28.543  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:40:29.005  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:40:29.084  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:40:29.138  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.639 seconds (JVM running for 4.876)
2023-02-16 16:40:29.145  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:40:29.230  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:40:30.451  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:40:30.456  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:40:30.819  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 349 ms. Found 14 JPA repository interfaces.
2023-02-16 16:40:31.077  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:40:31.842  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:40:31.863  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:40:31.869  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:40:32.015  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:40:32.017  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2779 ms
2023-02-16 16:40:32.163  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:40:32.348  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:40:33.172  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:40:33.317  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:40:33.519  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:40:33.943  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:40:34.194  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:40:34.395  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:40:35.924  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:40:35.943  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:40:37.205  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:40:37.208  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:40:37.210  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:40:37.211  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:40:37.213  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:40:37.215  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:40:37.216  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:40:37.217  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:40:37.635  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:40:37.640  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:40:38.047  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:40:38.532  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:40:38.858  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:40:38.872 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:40:38.875 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:40:39.183  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:40:39.585  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:40:39.610  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:40:39.619  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:40:39.738  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:40:39.759  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.607 seconds (JVM running for 15.497)
2023-02-16 16:40:39.815  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:40:44.420  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:40:44.423  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:40:44.428  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:41:13.438  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:41:13.444  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:41:15.914  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:41:16.680  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:41:17.403  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:41:17.512  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:41:17.590  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.095 seconds (JVM running for 6.359)
2023-02-16 16:41:17.603  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:41:17.723  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:41:19.555  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:41:19.561  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:41:19.940  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 362 ms. Found 14 JPA repository interfaces.
2023-02-16 16:41:20.144  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:41:20.841  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:41:20.863  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:41:20.870  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:41:21.060  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:41:21.063  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3330 ms
2023-02-16 16:41:21.264  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:41:21.457  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:41:22.089  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:41:22.182  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:41:22.300  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:41:22.620  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:41:22.838  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:41:22.967  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:41:24.372  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:41:24.395  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:41:25.819  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:41:25.823  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:41:25.826  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:41:25.828  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:41:25.831  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:41:25.833  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:41:25.834  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:41:25.836  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:41:26.314  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:41:26.320  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:41:26.807  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:41:27.274  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:41:27.581 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:41:27.584 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:41:27.591  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:41:27.974  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:41:28.391  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:41:28.422  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:41:28.433  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:41:28.574  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:41:28.595  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.984 seconds (JVM running for 17.365)
2023-02-16 16:41:28.682  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:41:31.435  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:41:31.438  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:41:31.444  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:42:00.341  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:42:00.347  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:42:02.630  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:42:03.290  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:42:03.952  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:42:04.044  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:42:04.094  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.842 seconds (JVM running for 6.107)
2023-02-16 16:42:04.103  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:42:04.204  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:42:05.829  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:42:05.837  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:42:06.382  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 526 ms. Found 14 JPA repository interfaces.
2023-02-16 16:42:06.671  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:42:07.762  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:42:07.791  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:42:07.795  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:42:08.016  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:42:08.018  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3803 ms
2023-02-16 16:42:08.245  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:42:08.532  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:42:09.360  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:42:09.581  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:42:09.857  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:42:10.402  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:42:10.740  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:42:10.905  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:42:12.890  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:42:12.924  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:42:14.458  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:42:14.462  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:42:14.465  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:42:14.466  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:42:14.469  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:42:14.471  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:42:14.472  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:42:14.474  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:42:14.984  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:42:14.989  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:42:15.402  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:42:15.806  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:42:16.143  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:42:16.222 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:42:16.226 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:42:16.568  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:42:17.006  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:42:17.032  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:42:17.042  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:42:17.185  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:42:17.213  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.102 seconds (JVM running for 19.226)
2023-02-16 16:42:17.286  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:42:18.238  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:42:18.243  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:42:18.250  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:42:52.759  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 245 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:42:52.766  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:42:55.653  INFO 245 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:42:56.518  INFO 245 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:42:57.497  INFO 245 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:42:57.635  WARN 245 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:42:57.700  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.905 seconds (JVM running for 7.304)
2023-02-16 16:42:57.710  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:42:57.850  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:43:00.268  INFO 245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:43:00.278  INFO 245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:43:00.887  INFO 245 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 583 ms. Found 14 JPA repository interfaces.
2023-02-16 16:43:01.379  INFO 245 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:43:02.583  INFO 245 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:43:02.621  INFO 245 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:43:02.625  INFO 245 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:43:02.883  INFO 245 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:43:02.885  INFO 245 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5025 ms
2023-02-16 16:43:03.186  INFO 245 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:43:03.380  INFO 245 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:43:04.419  INFO 245 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:43:04.578  INFO 245 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:43:05.031  INFO 245 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:43:05.718  INFO 245 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:43:06.213  INFO 245 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:43:06.491  WARN 245 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:43:08.204  INFO 245 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:43:08.231  INFO 245 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:43:09.744  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:43:09.748  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:43:09.751  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:43:09.753  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:43:09.755  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:43:09.757  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:43:09.758  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:43:09.760  INFO 245 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:43:10.469  INFO 245 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:43:10.480  INFO 245 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:43:11.138  INFO 245 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:43:11.859 ERROR 245 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:43:11.865 ERROR 245 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:43:11.881  WARN 245 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:43:12.494  INFO 245 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:43:13.320  INFO 245 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:43:14.345  INFO 245 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:43:14.398  WARN 245 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:43:14.416  INFO 245 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:43:14.671  INFO 245 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:43:14.705  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 16.985 seconds (JVM running for 24.309)
2023-02-16 16:43:14.821  INFO 245 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:43:16.308  INFO 245 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:43:16.313  INFO 245 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:43:16.323  INFO 245 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:43:16.742  WARN 245 --- [http-nio-8070-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [120] milliseconds.
2023-02-16 16:46:08.843  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:46:08.855  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:47:52.628  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:47:52.637  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:48:31.601  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:48:32.530  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:48:33.130  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:48:33.259  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:48:33.323  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 42.223 seconds (JVM running for 43.779)
2023-02-16 16:48:33.332  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:48:33.440  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:48:35.088  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:48:35.097  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:48:35.482  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 363 ms. Found 14 JPA repository interfaces.
2023-02-16 16:48:35.703  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:48:36.673  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:48:36.693  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:48:36.696  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:48:36.901  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:48:36.905  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3455 ms
2023-02-16 16:48:37.056  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:48:37.180  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:48:37.925  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:48:38.027  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:48:38.187  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:48:38.552  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:48:38.826  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:48:38.973  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:48:40.506  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:48:40.526  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:48:42.177  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:48:42.181  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:48:42.186  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:48:42.188  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:48:42.191  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:48:42.193  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:48:42.195  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:48:42.197  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:48:42.744  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:48:42.749  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:48:43.232  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:48:43.876  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:48:44.296  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:48:44.766  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:48:45.360  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:48:45.403  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:48:45.418  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:48:45.592  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:48:45.623  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.283 seconds (JVM running for 56.078)
2023-02-16 16:48:45.711  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:48:46.513  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:48:46.517  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:48:46.527  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2023-02-16 16:49:15.254  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:49:15.263  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:49:17.243  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:49:17.815  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:49:18.364  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:49:18.464  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:49:18.526  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.123 seconds (JVM running for 5.405)
2023-02-16 16:49:18.536  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:49:18.648  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:49:20.263  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:49:20.269  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:49:20.651  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 366 ms. Found 14 JPA repository interfaces.
2023-02-16 16:49:20.961  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:49:21.735  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:49:21.754  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:49:21.758  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:49:21.899  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:49:21.901  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3242 ms
2023-02-16 16:49:22.068  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:49:22.210  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:49:22.970  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:49:23.072  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:49:23.211  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:49:23.522  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:49:23.763  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:49:23.899  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:49:25.558  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:49:25.583  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:49:26.931  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:49:26.934  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:49:26.936  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:49:26.937  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:49:26.940  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:49:26.942  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:49:26.943  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:49:26.944  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:49:27.450  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:49:27.455  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:49:27.904  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:49:28.351  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:49:28.638  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:49:28.698 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:49:28.703 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:49:28.937  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:49:29.304  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:49:29.336  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:49:29.347  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:49:29.528  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:49:29.562  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.017 seconds (JVM running for 16.441)
2023-02-16 16:49:29.632  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:49:33.263  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:49:33.267  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:49:33.272  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 16:50:01.861  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:50:01.867  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:50:03.270  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:50:03.742  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:50:04.177  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:50:04.260  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:50:04.325  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.265 seconds (JVM running for 4.342)
2023-02-16 16:50:04.334  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:50:04.421  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:50:05.646  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:50:05.653  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:50:06.019  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 351 ms. Found 14 JPA repository interfaces.
2023-02-16 16:50:06.248  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:50:06.910  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:50:06.929  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:50:06.933  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:50:07.059  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:50:07.061  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2631 ms
2023-02-16 16:50:07.187  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:50:07.316  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:50:07.747  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:50:08.037  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:50:08.133  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:50:08.395  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:50:08.580  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:50:08.693  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:50:09.800  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:50:09.818  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:50:11.033  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:50:11.037  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:50:11.040  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:50:11.042  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:50:11.044  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:50:11.046  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:50:11.047  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:50:11.048  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:50:11.420  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:50:11.425  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:50:11.829  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:50:12.247  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:50:12.513  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:50:12.629 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:50:12.631 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:50:12.813  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:50:13.178  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:50:13.206  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:50:13.216  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:50:13.336  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:50:13.357  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.017 seconds (JVM running for 13.374)
2023-02-16 16:50:13.422  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:50:15.103  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:50:15.106  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:50:15.111  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:50:43.857  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:50:43.865  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:50:45.941  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:50:46.494  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:50:47.034  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:50:47.125  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:50:47.184  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.234 seconds (JVM running for 5.574)
2023-02-16 16:50:47.194  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:50:47.304  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:50:49.201  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:50:49.207  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:50:49.615  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 389 ms. Found 14 JPA repository interfaces.
2023-02-16 16:50:49.834  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:50:50.626  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:50:50.644  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:50:50.647  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:50:50.779  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:50:50.782  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3465 ms
2023-02-16 16:50:51.103  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:50:51.306  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:50:52.121  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:50:52.347  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:50:52.577  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:50:53.051  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:50:53.343  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:50:53.510  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:50:55.496  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:50:55.520  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:50:57.387  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:50:57.391  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:50:57.395  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:50:57.397  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:50:57.400  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:50:57.402  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:50:57.403  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:50:57.406  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:50:57.946  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:50:57.954  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:50:58.417  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:50:58.900  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:50:59.164  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:50:59.188 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:50:59.192 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:50:59.468  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:51:00.012  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:51:00.039  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:51:00.049  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:51:00.217  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:51:00.248  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.044 seconds (JVM running for 18.637)
2023-02-16 16:51:00.319  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:51:01.770  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:51:01.773  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:51:01.779  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:51:31.606  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:51:31.613  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:51:33.576  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:51:34.345  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:51:34.913  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:51:34.999  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:51:35.052  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.44 seconds (JVM running for 5.872)
2023-02-16 16:51:35.077  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:51:35.313  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:51:37.208  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:51:37.217  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:51:37.626  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 390 ms. Found 14 JPA repository interfaces.
2023-02-16 16:51:37.922  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:51:38.754  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:51:38.781  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:51:38.785  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:51:38.959  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:51:38.961  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3635 ms
2023-02-16 16:51:39.211  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:51:39.375  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:51:40.095  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:51:40.220  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:51:40.358  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:51:40.727  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:51:41.017  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:51:41.194  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:51:44.140  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:51:44.164  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:51:45.726  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:51:45.731  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:51:45.734  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:51:45.737  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:51:45.741  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:51:45.742  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:51:45.744  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:51:45.746  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:51:46.328  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:51:46.341  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:51:47.063  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:51:47.567  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:51:47.749 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:51:47.752 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:51:47.971  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:51:48.387  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:51:48.793  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:51:48.824  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:51:48.839  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:51:48.978  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:51:49.026  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.929 seconds (JVM running for 19.846)
2023-02-16 16:51:49.090  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:51:49.371  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:51:49.373  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:51:49.380  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 16:52:23.571  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:52:23.578  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:52:26.152  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 16:52:27.091  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 16:52:27.932  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:52:28.089  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:52:28.187  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.571 seconds (JVM running for 6.912)
2023-02-16 16:52:28.206  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 16:52:28.357  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 16:52:30.293  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 16:52:30.301  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 16:52:30.717  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 396 ms. Found 14 JPA repository interfaces.
2023-02-16 16:52:30.960  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 16:52:31.766  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 16:52:31.792  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 16:52:31.797  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 16:52:31.958  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 16:52:31.966  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3598 ms
2023-02-16 16:52:32.243  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 16:52:32.367  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 16:52:33.010  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 16:52:33.113  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 16:52:33.247  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 16:52:33.564  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 16:52:33.851  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 16:52:33.994  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 16:52:35.583  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 16:52:35.611  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 16:52:36.988  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 16:52:36.992  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 16:52:37.000  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 16:52:37.002  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 16:52:37.006  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 16:52:37.009  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 16:52:37.011  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 16:52:37.013  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 16:52:37.505  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 16:52:37.512  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 16:52:38.016  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 16:52:38.471  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 16:52:38.744  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 16:52:38.776 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 16:52:38.780 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 16:52:39.091  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 16:52:39.597  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 16:52:39.652  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 16:52:39.672  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 16:52:39.904  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 16:52:39.932  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.717 seconds (JVM running for 18.657)
2023-02-16 16:52:40.019  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 16:52:41.460  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 16:52:41.463  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 16:52:41.469  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 16:53:22.149  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 16:53:22.166  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:02:03.102  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:02:03.786  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:02:04.433  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:02:04.537  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:02:04.618  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 523.805 seconds (JVM running for 525.618)
2023-02-16 17:02:04.631  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:02:04.749  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:02:06.531  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:02:06.537  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:02:06.890  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 337 ms. Found 14 JPA repository interfaces.
2023-02-16 17:02:07.118  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:02:07.871  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:02:07.889  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:02:07.893  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:02:08.054  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:02:08.056  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3298 ms
2023-02-16 17:02:08.239  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:02:08.371  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:02:08.986  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:02:09.087  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:02:09.239  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:02:09.532  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:02:09.788  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:02:09.932  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:02:11.236  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:02:11.255  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:02:12.416  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:02:12.419  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:02:12.421  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:02:12.422  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:02:12.424  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:02:12.425  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:02:12.427  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:02:12.428  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:02:12.838  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:02:12.843  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:02:13.236  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:02:13.629  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:02:13.918  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:02:14.248  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:02:14.615  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:02:14.641  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:02:14.651  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:02:14.774  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:02:14.795  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.217 seconds (JVM running for 535.859)
2023-02-16 17:02:14.856  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:02:16.058  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:02:16.061  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:02:16.066  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:02:44.631  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:02:44.638  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:02:46.594  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:02:47.220  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:02:47.795  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:02:47.913  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:02:47.965  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.16 seconds (JVM running for 5.233)
2023-02-16 17:02:47.974  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:02:48.082  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:02:49.431  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:02:49.438  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:02:49.787  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 334 ms. Found 14 JPA repository interfaces.
2023-02-16 17:02:50.044  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:02:50.710  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:02:50.729  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:02:50.733  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:02:50.878  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:02:50.880  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2790 ms
2023-02-16 17:02:51.021  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:02:51.154  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:02:51.589  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:02:51.907  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:02:52.065  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:02:52.370  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:02:52.608  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:02:52.727  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:02:53.998  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:02:54.017  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:02:55.135  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:02:55.138  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:02:55.141  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:02:55.142  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:02:55.144  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:02:55.146  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:02:55.149  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:02:55.150  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:02:55.620  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:02:55.624  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:02:56.018  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:02:56.501  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:02:56.817 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:02:56.820 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:02:56.838  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:02:57.290  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:02:57.862  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:02:57.917  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:02:57.950  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:02:58.392  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:02:58.491  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.509 seconds (JVM running for 15.759)
2023-02-16 17:02:58.657  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:03:03.256  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:03:03.260  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:03:03.265  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:03:33.063  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 240 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:03:33.069  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:03:34.492  INFO 240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:03:35.032  INFO 240 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:03:35.456  INFO 240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:03:35.533  WARN 240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:03:35.583  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.27 seconds (JVM running for 4.369)
2023-02-16 17:03:35.590  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:03:35.680  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:03:36.983  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:03:36.990  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:03:37.318  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 311 ms. Found 14 JPA repository interfaces.
2023-02-16 17:03:37.517  INFO 240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:03:38.147  INFO 240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:03:38.162  INFO 240 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:03:38.165  INFO 240 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:03:38.276  INFO 240 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:03:38.278  INFO 240 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2590 ms
2023-02-16 17:03:38.423  INFO 240 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:03:38.535  INFO 240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:03:39.143  INFO 240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:03:39.228  INFO 240 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:03:39.337  INFO 240 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:03:39.615  INFO 240 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:03:39.850  INFO 240 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:03:39.981  WARN 240 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:03:41.171  INFO 240 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:03:41.188  INFO 240 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:03:42.150  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:03:42.153  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:03:42.155  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:03:42.156  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:03:42.158  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:03:42.159  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:03:42.161  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:03:42.162  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:03:42.558  INFO 240 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:03:42.563  INFO 240 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:03:42.920  INFO 240 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:03:43.241  WARN 240 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:03:43.465  INFO 240 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:03:43.699  INFO 240 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:03:43.764 ERROR 240 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:03:43.767 ERROR 240 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:03:44.017  INFO 240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:03:44.045  WARN 240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:03:44.053  INFO 240 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:03:44.160  INFO 240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:03:44.179  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.582 seconds (JVM running for 12.965)
2023-02-16 17:03:44.229  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:03:46.328  INFO 240 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:03:46.331  INFO 240 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:03:46.336  INFO 240 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:04:09.549  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:04:09.558  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:04:10.933  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:04:11.369  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:04:11.768  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:04:11.828  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:04:11.867  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.012 seconds (JVM running for 4.092)
2023-02-16 17:04:11.874  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:04:11.959  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:04:13.072  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:04:13.079  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:04:13.341  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 248 ms. Found 14 JPA repository interfaces.
2023-02-16 17:04:13.508  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:04:14.102  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:04:14.118  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:04:14.119  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:04:14.220  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:04:14.221  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2253 ms
2023-02-16 17:04:14.331  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:04:14.426  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:04:14.970  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:04:15.050  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:04:15.144  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:04:15.384  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:04:15.570  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:04:15.675  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:04:16.700  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:04:16.716  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:04:17.682  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:04:17.686  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:04:17.689  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:04:17.691  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:04:17.693  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:04:17.695  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:04:17.696  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:04:17.698  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:04:18.024  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:04:18.029  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:04:18.347  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:04:18.694  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:04:18.949  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:04:19.197 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:04:19.200 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:04:19.221  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:04:19.587  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:04:19.611  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:04:19.620  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:04:19.758  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:04:19.782  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 7.902 seconds (JVM running for 12.007)
2023-02-16 17:04:19.832  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:04:22.886  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:04:22.889  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:04:22.894  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:04:46.049  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:04:46.057  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:04:47.437  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:04:47.887  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:04:48.298  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:04:48.359  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:04:48.398  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.05 seconds (JVM running for 4.079)
2023-02-16 17:04:48.405  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:04:48.488  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:04:49.734  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:04:49.740  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:04:50.045  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 290 ms. Found 14 JPA repository interfaces.
2023-02-16 17:04:50.220  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:04:50.882  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:04:50.899  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:04:50.902  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:04:51.019  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:04:51.020  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2522 ms
2023-02-16 17:04:51.142  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:04:51.252  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:04:51.807  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:04:51.879  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:04:51.990  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:04:52.259  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:04:52.468  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:04:52.595  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:04:53.736  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:04:53.754  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:04:54.829  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:04:54.832  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:04:54.834  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:04:54.835  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:04:54.837  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:04:54.840  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:04:54.841  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:04:54.842  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:04:55.227  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:04:55.233  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:04:55.611  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:04:55.978  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:04:56.232  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:04:56.446 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:04:56.448 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:04:56.544  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:04:56.879  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:04:56.902  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:04:56.913  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:04:57.020  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:04:57.041  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.63 seconds (JVM running for 12.722)
2023-02-16 17:04:57.087  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:04:59.434  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:04:59.436  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:04:59.441  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:05:22.348  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:05:22.355  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:05:23.869  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:05:24.293  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:05:24.743  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:05:24.811  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:05:24.854  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.191 seconds (JVM running for 4.174)
2023-02-16 17:05:24.861  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:05:24.948  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:05:26.174  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:05:26.180  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:05:26.511  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 314 ms. Found 14 JPA repository interfaces.
2023-02-16 17:05:26.676  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:05:27.230  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:05:27.245  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:05:27.247  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:05:27.356  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:05:27.358  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2401 ms
2023-02-16 17:05:27.487  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:05:27.601  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:05:28.157  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:05:28.243  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:05:28.357  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:05:28.648  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:05:28.858  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:05:28.966  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:05:30.091  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:05:30.108  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:05:31.140  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:05:31.143  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:05:31.146  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:05:31.147  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:05:31.150  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:05:31.150  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:05:31.151  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:05:31.153  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:05:31.518  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:05:31.523  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:05:31.868  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:05:32.228  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:05:32.458  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:05:32.711 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:05:32.713 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:05:32.730  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:05:33.050  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:05:33.079  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:05:33.089  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:05:33.227  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:05:33.245  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.378 seconds (JVM running for 12.565)
2023-02-16 17:05:33.288  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:05:35.796  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:05:35.799  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:05:35.804  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:05:58.794  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:05:58.800  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:06:00.184  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:06:00.632  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:06:01.065  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:06:01.142  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:06:01.190  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.139 seconds (JVM running for 4.165)
2023-02-16 17:06:01.199  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:06:01.300  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:06:02.602  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:06:02.608  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:06:02.897  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 14 JPA repository interfaces.
2023-02-16 17:06:03.064  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:06:03.719  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:06:03.738  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:06:03.741  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:06:03.846  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:06:03.848  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2539 ms
2023-02-16 17:06:03.970  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:06:04.087  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:06:04.679  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:06:04.787  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:06:04.913  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:06:05.209  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:06:05.407  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:06:05.533  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:06:06.669  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:06:06.686  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:06:07.700  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:06:07.703  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:06:07.706  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:06:07.707  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:06:07.710  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:06:07.711  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:06:07.712  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:06:07.713  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:06:08.079  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:06:08.084  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:06:08.469  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:06:08.930  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:06:09.193  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:06:09.280 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:06:09.282 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:06:09.446  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:06:09.790  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:06:09.815  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:06:09.825  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:06:09.924  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:06:09.942  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.735 seconds (JVM running for 12.915)
2023-02-16 17:06:09.990  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:06:12.143  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:06:12.145  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:06:12.150  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:06:35.080  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:06:35.087  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:06:36.606  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:06:37.059  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:06:37.513  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:06:37.587  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:06:37.633  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.265 seconds (JVM running for 4.258)
2023-02-16 17:06:37.640  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:06:37.723  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:06:38.900  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:06:38.906  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:06:39.172  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 254 ms. Found 14 JPA repository interfaces.
2023-02-16 17:06:39.340  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:06:39.994  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:06:40.015  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:06:40.019  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:06:40.138  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:06:40.140  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2409 ms
2023-02-16 17:06:40.258  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:06:40.361  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:06:40.924  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:06:41.009  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:06:41.140  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:06:41.441  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:06:41.651  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:06:41.767  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:06:42.935  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:06:42.952  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:06:43.971  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:06:43.974  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:06:43.977  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:06:43.979  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:06:43.981  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:06:43.983  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:06:43.987  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:06:43.989  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:06:44.357  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:06:44.361  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:06:44.776  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:06:45.179  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:06:45.424  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:06:45.588 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:06:45.590 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:06:45.722  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:06:46.055  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:06:46.082  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:06:46.092  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:06:46.223  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:06:46.242  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.595 seconds (JVM running for 12.867)
2023-02-16 17:06:46.293  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:06:48.485  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:06:48.487  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:06:48.491  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:07:11.440  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:07:11.447  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:07:12.858  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:07:13.321  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:07:13.848  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:07:13.931  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:07:13.978  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.238 seconds (JVM running for 4.266)
2023-02-16 17:07:13.986  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:07:14.081  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:07:15.344  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:07:15.349  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:07:15.652  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 290 ms. Found 14 JPA repository interfaces.
2023-02-16 17:07:15.824  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:07:16.424  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:07:16.441  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:07:16.443  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:07:16.618  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:07:16.620  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2529 ms
2023-02-16 17:07:16.742  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:07:16.846  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:07:17.690  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:07:17.791  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:07:17.963  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:07:18.363  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:07:18.614  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:07:18.798  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:07:20.281  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:07:20.301  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:07:21.541  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:07:21.543  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:07:21.546  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:07:21.547  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:07:21.549  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:07:21.550  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:07:21.552  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:07:21.553  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:07:22.004  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:07:22.012  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:07:22.535  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:07:22.999  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:07:23.284  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:07:23.308 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:07:23.319 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:07:23.598  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:07:23.985  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:07:24.016  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:07:24.028  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:07:24.189  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:07:24.212  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.216 seconds (JVM running for 14.5)
2023-02-16 17:07:24.264  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:07:24.851  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:07:24.853  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:07:24.858  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:07:48.828  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:07:48.837  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:07:50.395  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:07:50.927  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:07:51.514  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:07:51.600  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:07:51.663  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.78 seconds (JVM running for 4.892)
2023-02-16 17:07:51.671  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:07:51.769  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:07:53.260  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:07:53.268  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:07:53.566  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 14 JPA repository interfaces.
2023-02-16 17:07:53.796  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:07:54.513  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:07:54.531  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:07:54.534  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:07:54.660  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:07:54.662  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2885 ms
2023-02-16 17:07:54.855  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:07:54.971  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:07:55.631  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:07:55.722  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:07:55.836  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:07:56.117  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:07:56.348  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:07:56.485  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:07:57.761  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:07:57.778  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:07:58.958  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:07:58.962  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:07:58.965  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:07:58.967  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:07:58.970  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:07:58.971  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:07:58.972  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:07:58.974  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:07:59.367  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:07:59.372  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:07:59.775  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:08:00.137  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:08:00.359  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:08:00.577 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:08:00.580 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:08:00.593  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:08:00.877  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:08:00.899  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:08:00.909  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:08:01.038  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:08:01.055  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.377 seconds (JVM running for 14.284)
2023-02-16 17:08:01.095  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:08:01.883  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:08:01.886  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:08:01.890  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:08:25.058  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:08:25.064  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:08:26.628  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:08:27.068  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:08:27.487  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:08:27.551  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:08:27.593  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.347 seconds (JVM running for 4.483)
2023-02-16 17:08:27.599  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:08:27.677  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:08:28.877  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:08:28.883  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:08:29.164  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 267 ms. Found 14 JPA repository interfaces.
2023-02-16 17:08:29.313  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:08:30.239  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:08:30.259  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:08:30.263  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:08:30.410  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:08:30.412  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2727 ms
2023-02-16 17:08:30.552  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:08:30.687  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:08:31.295  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:08:31.376  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:08:31.479  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:08:31.747  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:08:31.971  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:08:32.102  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:08:33.314  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:08:33.332  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:08:34.532  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:08:34.535  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:08:34.538  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:08:34.541  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:08:34.544  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:08:34.545  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:08:34.547  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:08:34.548  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:08:34.993  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:08:35.017  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:08:35.377  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:08:35.797  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:08:36.077  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:08:36.212 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:08:36.216 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:08:36.353  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:08:36.729  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:08:36.752  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:08:36.762  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:08:36.887  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:08:36.911  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.307 seconds (JVM running for 13.801)
2023-02-16 17:08:36.971  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:08:38.256  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:08:38.259  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:08:38.264  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:09:02.736  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 231 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:09:02.743  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:09:04.286  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:09:04.797  INFO 231 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:09:05.239  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:09:05.307  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:09:05.348  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.458 seconds (JVM running for 5.558)
2023-02-16 17:09:05.353  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:09:05.431  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:09:06.756  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:09:06.763  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:09:07.104  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 323 ms. Found 14 JPA repository interfaces.
2023-02-16 17:09:07.374  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:09:08.130  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:09:08.153  INFO 231 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:09:08.156  INFO 231 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:09:08.278  INFO 231 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:09:08.280  INFO 231 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2839 ms
2023-02-16 17:09:08.402  INFO 231 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:09:08.571  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:09:09.258  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:09:09.354  INFO 231 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:09:09.503  INFO 231 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:09:09.816  INFO 231 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:09:10.059  INFO 231 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:09:10.182  WARN 231 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:09:11.466  INFO 231 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:09:11.483  INFO 231 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:09:12.607  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:09:12.610  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:09:12.613  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:09:12.614  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:09:12.617  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:09:12.618  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:09:12.619  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:09:12.620  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:09:13.003  INFO 231 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:09:13.009  INFO 231 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:09:13.456  INFO 231 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:09:13.888  WARN 231 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:09:14.178  INFO 231 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:09:14.253 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:09:14.257 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:09:14.481  INFO 231 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:09:14.861  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:09:14.886  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:09:14.897  INFO 231 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:09:15.011  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:09:15.033  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.672 seconds (JVM running for 15.242)
2023-02-16 17:09:15.089  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:09:19.983  INFO 231 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:09:19.987  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:09:19.993  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:09:42.936  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:09:42.943  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:09:44.357  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:09:44.815  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:09:45.257  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:09:45.328  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:09:45.374  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.122 seconds (JVM running for 4.142)
2023-02-16 17:09:45.381  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:09:45.462  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:09:46.645  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:09:46.650  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:09:46.916  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 252 ms. Found 14 JPA repository interfaces.
2023-02-16 17:09:47.093  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:09:47.679  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:09:47.693  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:09:47.695  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:09:47.806  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:09:47.807  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2338 ms
2023-02-16 17:09:47.930  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:09:48.077  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:09:48.655  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:09:48.732  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:09:48.842  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:09:49.098  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:09:49.293  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:09:49.407  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:09:50.516  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:09:50.532  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:09:51.528  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:09:51.531  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:09:51.533  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:09:51.534  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:09:51.536  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:09:51.538  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:09:51.539  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:09:51.540  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:09:51.915  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:09:51.921  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:09:52.267  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:09:52.635  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:09:52.873  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:09:53.115 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:09:53.118 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:09:53.170  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:09:53.492  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:09:53.519  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:09:53.530  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:09:53.652  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:09:53.671  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.283 seconds (JVM running for 12.439)
2023-02-16 17:09:53.719  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:09:56.349  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:09:56.384  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:09:56.389  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:10:19.341  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:10:19.346  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:10:20.780  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:10:21.223  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:10:21.612  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:10:21.675  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:10:21.718  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.075 seconds (JVM running for 4.069)
2023-02-16 17:10:21.725  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:10:21.812  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:10:23.153  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:10:23.159  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:10:23.546  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 367 ms. Found 14 JPA repository interfaces.
2023-02-16 17:10:23.815  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:10:24.582  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:10:24.605  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:10:24.608  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:10:24.777  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:10:24.783  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2963 ms
2023-02-16 17:10:25.072  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:10:25.214  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:10:26.011  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:10:26.092  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:10:26.198  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:10:26.453  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:10:26.790  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:10:26.930  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:10:28.282  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:10:28.299  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:10:29.282  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:10:29.286  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:10:29.289  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:10:29.290  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:10:29.292  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:10:29.294  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:10:29.295  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:10:29.296  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:10:29.659  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:10:29.664  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:10:30.055  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:10:30.410  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:10:30.643  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:10:30.894 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:10:30.896 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:10:30.936  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:10:31.268  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:10:31.294  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:10:31.304  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:10:31.443  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:10:31.468  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.737 seconds (JVM running for 13.819)
2023-02-16 17:10:31.521  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:10:32.760  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:10:32.762  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:10:32.766  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:10:56.320  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:10:56.325  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:10:57.742  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:10:58.213  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:10:58.672  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:10:58.739  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:10:58.789  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.219 seconds (JVM running for 4.371)
2023-02-16 17:10:58.795  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:10:58.884  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:11:00.090  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:11:00.095  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:11:00.393  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 14 JPA repository interfaces.
2023-02-16 17:11:00.646  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:11:01.280  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:11:01.299  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:11:01.302  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:11:01.416  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:11:01.418  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2526 ms
2023-02-16 17:11:01.546  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:11:01.661  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:11:02.074  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:11:02.360  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:11:02.465  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:11:02.723  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:11:02.922  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:11:03.044  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:11:04.146  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:11:04.163  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:11:05.179  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:11:05.181  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:11:05.183  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:11:05.184  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:11:05.187  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:11:05.188  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:11:05.189  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:11:05.190  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:11:05.547  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:11:05.552  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:11:05.917  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:11:06.283  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:11:06.503  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:11:06.764 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:11:06.766 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:11:06.768  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:11:07.092  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:11:07.118  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:11:07.128  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:11:07.236  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:11:07.257  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.455 seconds (JVM running for 12.839)
2023-02-16 17:11:07.307  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:11:09.542  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:11:09.545  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:11:09.550  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:11:32.637  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:11:32.656  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:11:34.207  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:11:34.742  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:11:35.361  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:11:35.447  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:11:35.514  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.692 seconds (JVM running for 4.783)
2023-02-16 17:11:35.521  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:11:35.626  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:11:36.915  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:11:36.921  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:11:37.199  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 264 ms. Found 14 JPA repository interfaces.
2023-02-16 17:11:37.378  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:11:37.989  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:11:38.005  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:11:38.007  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:11:38.116  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:11:38.118  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2484 ms
2023-02-16 17:11:38.237  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:11:38.341  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:11:38.948  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:11:39.031  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:11:39.140  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:11:39.388  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:11:39.597  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:11:39.714  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:11:40.871  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:11:40.888  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:11:41.869  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:11:41.872  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:11:41.876  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:11:41.877  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:11:41.880  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:11:41.882  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:11:41.883  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:11:41.884  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:11:42.312  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:11:42.317  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:11:42.689  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:11:43.088  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:11:43.387  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:11:43.500 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:11:43.506 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:11:43.719  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:11:44.091  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:11:44.114  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:11:44.124  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:11:44.248  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:11:44.267  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.738 seconds (JVM running for 13.536)
2023-02-16 17:11:44.314  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:11:45.845  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:11:45.848  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:11:45.852  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:12:13.908  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:12:13.914  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:12:15.435  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:12:15.887  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:12:16.311  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:12:16.380  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:12:16.421  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.226 seconds (JVM running for 4.332)
2023-02-16 17:12:16.427  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:12:16.504  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:12:17.716  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:12:17.723  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:12:18.001  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 265 ms. Found 14 JPA repository interfaces.
2023-02-16 17:12:18.159  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:12:18.780  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:12:18.798  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:12:18.800  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:12:18.916  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:12:18.918  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2406 ms
2023-02-16 17:12:19.038  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:12:19.153  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:12:19.731  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:12:19.815  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:12:19.921  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:12:20.175  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:12:20.365  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:12:20.516  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:12:21.706  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:12:21.723  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:12:23.130  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:12:23.134  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:12:23.140  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:12:23.142  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:12:23.147  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:12:23.149  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:12:23.152  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:12:23.154  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:12:23.827  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:12:23.833  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:12:24.320  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:12:24.971  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:12:25.072 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:12:25.077 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:12:25.585  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:12:26.231  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:12:26.787  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:12:26.856  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:12:26.867  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:12:27.006  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:12:27.048  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.615 seconds (JVM running for 14.96)
2023-02-16 17:12:27.123  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:12:27.344  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:12:27.355  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:12:27.384  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2023-02-16 17:12:57.109  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:12:57.130  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:12:59.304  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:13:00.009  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:13:00.827  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:13:00.953  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:13:01.021  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.99 seconds (JVM running for 6.737)
2023-02-16 17:13:01.037  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:13:01.189  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:13:03.223  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:13:03.236  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:13:03.790  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 531 ms. Found 14 JPA repository interfaces.
2023-02-16 17:13:04.136  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:13:05.051  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:13:05.075  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:13:05.078  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:13:05.234  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:13:05.236  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4032 ms
2023-02-16 17:13:05.408  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:13:05.552  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:13:06.333  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:13:06.691  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:13:06.864  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:13:07.248  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:13:07.555  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:13:07.710  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:13:09.516  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:13:09.533  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:13:10.695  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:13:10.699  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:13:10.701  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:13:10.703  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:13:10.706  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:13:10.707  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:13:10.709  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:13:10.710  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:13:11.176  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:13:11.182  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:13:11.569  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:13:11.944  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:13:12.191  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:13:12.393 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:13:12.398 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:13:12.489  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:13:12.903  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:13:12.933  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:13:12.943  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:13:13.070  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:13:13.104  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.047 seconds (JVM running for 18.819)
2023-02-16 17:13:13.160  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:13:14.441  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:13:14.445  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:13:14.451  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:13:42.812  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:13:42.819  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:13:44.721  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:13:45.327  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:13:45.975  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:13:46.103  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:13:46.177  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.218 seconds (JVM running for 5.286)
2023-02-16 17:13:46.187  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:13:46.298  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:13:48.084  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:13:48.090  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:13:48.430  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 14 JPA repository interfaces.
2023-02-16 17:13:48.655  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:13:49.359  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:13:49.376  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:13:49.379  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:13:49.506  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:13:49.508  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3194 ms
2023-02-16 17:13:49.681  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:13:49.809  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:13:50.433  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:13:50.534  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:13:50.677  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:13:50.986  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:13:51.256  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:13:51.480  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:13:53.031  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:13:53.048  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:13:54.178  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:13:54.181  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:13:54.184  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:13:54.185  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:13:54.189  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:13:54.190  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:13:54.191  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:13:54.192  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:13:54.536  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:13:54.540  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:13:54.939  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:13:55.376  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:13:55.697  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:13:55.758 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:13:55.760 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:13:56.052  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:13:56.427  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:13:56.462  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:13:56.475  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:13:56.588  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:13:56.607  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.413 seconds (JVM running for 15.717)
2023-02-16 17:13:56.656  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:14:01.067  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:14:01.070  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:14:01.076  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:14:24.670  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:14:24.676  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:14:26.174  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:14:26.692  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:14:27.127  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:14:27.200  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:14:27.253  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.291 seconds (JVM running for 4.33)
2023-02-16 17:14:27.261  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:14:27.358  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:14:28.691  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:14:28.697  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:14:29.006  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 296 ms. Found 14 JPA repository interfaces.
2023-02-16 17:14:29.196  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:14:29.897  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:14:29.915  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:14:29.918  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:14:30.037  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:14:30.038  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2671 ms
2023-02-16 17:14:30.161  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:14:30.283  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:14:30.883  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:14:30.966  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:14:31.072  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:14:31.332  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:14:31.553  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:14:31.678  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:14:33.175  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:14:33.194  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:14:34.390  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:14:34.393  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:14:34.396  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:14:34.397  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:14:34.400  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:14:34.402  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:14:34.403  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:14:34.405  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:14:34.943  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:14:34.949  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:14:35.324  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:14:35.714  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:14:35.976  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:14:36.155 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:14:36.161 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:14:36.254  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:14:36.615  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:14:36.640  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:14:36.648  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:14:36.784  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:14:36.802  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.534 seconds (JVM running for 13.879)
2023-02-16 17:14:36.851  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:14:38.041  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:14:38.043  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:14:38.050  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:15:01.020  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:15:01.026  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:15:02.441  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:15:02.917  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:15:03.392  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:15:03.465  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:15:03.511  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.197 seconds (JVM running for 4.227)
2023-02-16 17:15:03.517  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:15:03.605  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:15:04.985  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:15:04.995  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:15:05.402  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 384 ms. Found 14 JPA repository interfaces.
2023-02-16 17:15:05.635  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:15:06.311  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:15:06.328  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:15:06.330  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:15:06.448  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:15:06.449  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2835 ms
2023-02-16 17:15:06.564  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:15:06.677  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:15:07.311  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:15:07.413  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:15:07.527  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:15:07.841  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:15:08.073  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:15:08.196  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:15:09.435  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:15:09.450  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:15:10.673  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:15:10.677  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:15:10.680  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:15:10.681  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:15:10.684  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:15:10.686  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:15:10.687  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:15:10.689  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:15:11.097  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:15:11.102  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:15:11.510  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:15:11.915  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:15:12.152  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:15:12.334 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:15:12.338 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:15:12.430  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:15:12.835  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:15:12.864  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:15:12.872  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:15:12.987  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:15:13.008  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.484 seconds (JVM running for 13.724)
2023-02-16 17:15:13.055  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:15:14.415  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:15:14.418  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:15:14.423  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:15:37.889  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:15:37.895  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:15:39.521  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:15:40.032  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:15:40.537  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:15:40.617  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:15:40.663  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.573 seconds (JVM running for 4.705)
2023-02-16 17:15:40.670  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:15:40.760  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:15:42.354  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:15:42.361  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:15:42.663  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 287 ms. Found 14 JPA repository interfaces.
2023-02-16 17:15:42.862  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:15:43.587  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:15:43.607  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:15:43.610  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:15:43.731  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:15:43.732  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2962 ms
2023-02-16 17:15:43.870  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:15:43.991  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:15:44.638  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:15:44.737  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:15:44.881  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:15:45.191  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:15:45.526  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:15:45.708  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:15:47.037  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:15:47.054  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:15:48.010  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:15:48.015  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:15:48.018  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:15:48.019  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:15:48.022  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:15:48.023  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:15:48.024  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:15:48.026  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:15:48.332  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:15:48.338  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:15:48.725  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:15:49.074  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:15:49.290  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:15:49.521  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:15:49.537 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:15:49.539 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:15:49.919  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:15:49.942  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:15:49.952  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:15:50.057  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:15:50.077  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.4 seconds (JVM running for 14.119)
2023-02-16 17:15:50.126  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:15:51.087  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:15:51.089  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:15:51.095  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:16:24.875  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:16:24.882  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:16:26.642  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:16:27.187  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:16:27.732  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:16:27.816  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:16:27.862  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.714 seconds (JVM running for 4.913)
2023-02-16 17:16:27.870  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:16:27.962  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:16:29.503  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:16:29.510  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:16:29.874  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 349 ms. Found 14 JPA repository interfaces.
2023-02-16 17:16:30.084  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:16:30.799  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:16:30.815  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:16:30.819  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:16:30.953  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:16:30.955  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2982 ms
2023-02-16 17:16:31.087  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:16:31.229  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:16:31.822  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:16:31.904  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:16:32.011  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:16:32.310  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:16:32.523  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:16:32.642  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:16:33.956  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:16:33.974  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:16:35.075  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:16:35.078  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:16:35.080  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:16:35.081  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:16:35.084  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:16:35.085  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:16:35.086  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:16:35.087  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:16:35.420  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:16:35.425  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:16:35.824  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:16:36.186  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:16:36.415  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:16:36.626 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:16:36.629 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:16:36.700  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:16:36.990  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:16:37.013  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:16:37.023  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:16:37.127  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:16:37.145  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.268 seconds (JVM running for 14.196)
2023-02-16 17:16:37.190  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:16:38.066  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:16:38.068  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:16:38.073  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:17:06.411  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:17:06.418  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:17:07.926  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:17:08.387  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:17:08.839  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:17:08.913  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:17:08.960  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.272 seconds (JVM running for 4.369)
2023-02-16 17:17:08.967  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:17:09.056  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:17:10.242  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:17:10.247  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:17:10.535  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 14 JPA repository interfaces.
2023-02-16 17:17:10.714  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:17:11.502  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:17:11.530  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:17:11.535  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:17:11.689  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:17:11.693  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2628 ms
2023-02-16 17:17:11.854  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:17:11.991  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:17:12.710  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:17:12.801  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:17:12.939  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:17:13.476  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:17:13.803  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:17:13.940  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:17:15.496  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:17:15.517  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:17:16.769  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:17:16.773  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:17:16.776  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:17:16.778  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:17:16.782  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:17:16.783  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:17:16.785  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:17:16.787  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:17:17.232  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:17:17.237  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:17:17.741  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:17:18.221  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:17:18.458 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:17:18.461 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:17:18.521  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:17:18.828  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:17:19.240  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:17:19.268  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:17:19.278  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:17:19.393  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:17:19.412  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.439 seconds (JVM running for 14.821)
2023-02-16 17:17:19.462  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:17:19.759  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:17:19.761  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:17:19.768  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:17:48.560  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:17:48.569  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:17:50.415  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:17:51.003  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:17:51.587  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:17:51.674  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:17:51.724  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.22 seconds (JVM running for 5.498)
2023-02-16 17:17:51.732  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:17:51.844  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:17:53.318  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:17:53.324  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:17:53.689  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 348 ms. Found 14 JPA repository interfaces.
2023-02-16 17:17:53.961  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:17:54.665  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:17:54.683  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:17:54.686  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:17:54.806  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:17:54.808  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2951 ms
2023-02-16 17:17:55.002  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:17:55.123  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:17:55.885  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:17:55.981  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:17:56.136  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:17:56.521  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:17:56.823  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:17:56.990  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:17:58.510  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:17:58.531  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:17:59.802  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:17:59.805  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:17:59.808  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:17:59.809  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:17:59.811  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:17:59.812  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:17:59.813  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:17:59.814  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:18:00.223  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:18:00.228  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:18:00.664  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:18:01.066  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:18:01.331  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:18:01.436 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:18:01.440 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:18:01.658  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:18:02.037  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:18:02.064  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:18:02.076  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:18:02.200  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:18:02.219  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.479 seconds (JVM running for 15.994)
2023-02-16 17:18:02.272  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:18:06.380  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:18:06.383  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:18:06.389  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:18:39.874  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:18:39.882  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:18:41.362  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:18:41.852  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:18:42.345  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:18:42.433  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:18:42.485  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.342 seconds (JVM running for 4.55)
2023-02-16 17:18:42.498  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:18:42.609  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:18:44.037  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:18:44.044  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:18:44.392  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 331 ms. Found 14 JPA repository interfaces.
2023-02-16 17:18:44.574  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:18:45.313  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:18:45.333  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:18:45.336  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:18:45.480  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:18:45.481  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2863 ms
2023-02-16 17:18:45.622  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:18:45.750  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:18:46.422  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:18:46.638  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:18:46.823  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:18:47.349  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:18:47.725  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:18:47.893  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:18:49.868  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:18:49.894  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:18:51.213  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:18:51.216  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:18:51.220  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:18:51.221  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:18:51.225  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:18:51.226  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:18:51.227  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:18:51.228  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:18:51.635  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:18:51.640  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:18:52.031  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:18:52.510  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:18:52.853 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:18:52.855 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:18:52.864  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:18:53.177  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:18:53.543  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:18:53.571  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:18:53.583  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:18:53.713  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:18:53.738  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.222 seconds (JVM running for 15.802)
2023-02-16 17:18:53.802  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:18:58.084  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:18:58.086  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:18:58.091  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:19:26.538  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:19:26.544  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:19:28.011  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:19:28.502  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:19:28.995  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:19:29.073  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:19:29.122  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.393 seconds (JVM running for 4.552)
2023-02-16 17:19:29.129  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:19:29.215  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:19:30.440  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:19:30.447  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:19:30.752  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 289 ms. Found 14 JPA repository interfaces.
2023-02-16 17:19:30.932  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:19:31.632  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:19:31.652  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:19:31.656  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:19:31.801  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:19:31.805  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2581 ms
2023-02-16 17:19:31.937  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:19:32.071  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:19:32.784  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:19:32.879  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:19:33.047  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:19:33.410  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:19:33.691  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:19:33.842  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:19:35.561  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:19:35.586  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:19:36.928  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:19:36.931  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:19:36.934  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:19:36.935  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:19:36.938  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:19:36.939  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:19:36.940  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:19:36.941  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:19:37.331  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:19:37.337  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:19:37.735  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:19:38.170  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:19:38.426  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:19:38.520 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:19:38.523 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:19:38.690  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:19:39.009  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:19:39.034  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:19:39.045  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:19:39.166  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:19:39.185  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.05 seconds (JVM running for 14.616)
2023-02-16 17:19:39.226  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:19:39.706  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:19:39.708  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:19:39.715  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:20:02.805  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:20:02.812  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:20:04.294  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:20:04.773  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:20:05.231  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:20:05.312  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:20:05.361  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.312 seconds (JVM running for 4.339)
2023-02-16 17:20:05.368  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:20:05.463  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:20:06.672  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:20:06.677  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:20:06.976  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 285 ms. Found 14 JPA repository interfaces.
2023-02-16 17:20:07.171  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:20:07.864  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:20:07.881  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:20:07.884  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:20:08.000  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:20:08.002  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2529 ms
2023-02-16 17:20:08.134  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:20:08.245  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:20:08.926  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:20:09.009  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:20:09.138  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:20:09.508  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:20:09.804  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:20:09.966  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:20:11.416  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:20:11.438  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:20:12.600  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:20:12.602  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:20:12.605  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:20:12.606  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:20:12.608  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:20:12.609  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:20:12.610  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:20:12.612  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:20:13.022  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:20:13.028  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:20:13.407  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:20:13.731  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:20:14.005  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:20:14.257 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:20:14.260 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:20:14.340  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:20:14.725  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:20:14.759  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:20:14.773  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:20:14.946  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:20:14.966  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.59 seconds (JVM running for 13.945)
2023-02-16 17:20:15.028  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:20:16.148  INFO 236 --- [http-nio-8070-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:20:16.151  INFO 236 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:20:16.155  INFO 236 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:20:39.413  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:20:39.422  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:20:41.271  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:20:41.755  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:20:42.189  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:20:42.274  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:20:42.322  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.611 seconds (JVM running for 4.677)
2023-02-16 17:20:42.329  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:20:42.428  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:20:43.611  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:20:43.616  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:20:43.939  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 308 ms. Found 14 JPA repository interfaces.
2023-02-16 17:20:44.123  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:20:44.782  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:20:44.801  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:20:44.805  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:20:44.970  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:20:44.972  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2537 ms
2023-02-16 17:20:45.182  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:20:45.342  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:20:46.023  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:20:46.120  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:20:46.268  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:20:46.635  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:20:46.894  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:20:47.061  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:20:48.433  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:20:48.461  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:20:49.745  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:20:49.748  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:20:49.751  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:20:49.752  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:20:49.755  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:20:49.756  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:20:49.759  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:20:49.761  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:20:50.200  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:20:50.206  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:20:50.668  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:20:51.106  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:20:51.414  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:20:51.458 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:20:51.463 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:20:51.753  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:20:52.154  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:20:52.186  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:20:52.198  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:20:52.343  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:20:52.362  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.026 seconds (JVM running for 14.716)
2023-02-16 17:20:52.406  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:20:52.785  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:20:52.787  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:20:52.798  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 17:21:21.492  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:21:21.500  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:21:29.335  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:21:30.686  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:21:31.542  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:21:31.703  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:21:31.832  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.409 seconds (JVM running for 12.587)
2023-02-16 17:21:31.852  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:21:32.066  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:21:34.815  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:21:34.823  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:21:35.353  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 510 ms. Found 14 JPA repository interfaces.
2023-02-16 17:21:35.596  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:21:36.349  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:21:36.367  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:21:36.370  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:21:36.537  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:21:36.539  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4452 ms
2023-02-16 17:21:36.699  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:21:36.923  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:21:37.707  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:21:37.884  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:21:38.088  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:21:38.536  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:21:38.860  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:21:39.042  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:21:40.610  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:21:40.632  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:21:42.083  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:21:42.087  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:21:42.089  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:21:42.091  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:21:42.094  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:21:42.095  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:21:42.097  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:21:42.099  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:21:42.521  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:21:42.526  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:21:42.934  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:21:43.395  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:21:43.698  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:21:44.031  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:21:44.428  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:21:44.474  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:21:44.485  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:21:44.628  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:21:44.655  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.787 seconds (JVM running for 25.408)
2023-02-16 17:21:44.731  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:21:45.220  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:21:45.222  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:21:45.227  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:22:17.947  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:22:17.962  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:22:19.774  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:22:20.260  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:22:20.703  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:22:20.778  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:22:20.820  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.784 seconds (JVM running for 7.623)
2023-02-16 17:22:20.827  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:22:20.911  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:22:22.404  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:22:22.410  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:22:23.002  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 573 ms. Found 14 JPA repository interfaces.
2023-02-16 17:22:23.373  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:22:24.491  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:22:24.529  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:22:24.538  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:22:24.853  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:22:24.856  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3936 ms
2023-02-16 17:22:25.093  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:22:25.287  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:22:26.120  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:22:26.240  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:22:26.407  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:22:26.809  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:22:27.136  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:22:27.290  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:22:28.718  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:22:28.738  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:22:29.978  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:22:29.982  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:22:29.984  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:22:29.986  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:22:29.988  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:22:29.990  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:22:29.991  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:22:29.992  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:22:30.449  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:22:30.455  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:22:30.889  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:22:31.340  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:22:31.642  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:22:31.693 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:22:31.697 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:22:31.929  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:22:32.410  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:22:32.450  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:22:32.463  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:22:32.583  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:22:32.603  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.769 seconds (JVM running for 19.407)
2023-02-16 17:22:32.657  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:22:33.383  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:22:33.385  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:22:33.391  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:23:02.197  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:23:02.203  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:23:03.751  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:23:04.329  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:23:05.240  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:23:05.372  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:23:05.433  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.998 seconds (JVM running for 5.237)
2023-02-16 17:23:05.442  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:23:05.542  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:23:07.274  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:23:07.281  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:23:07.589  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 290 ms. Found 14 JPA repository interfaces.
2023-02-16 17:23:07.812  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:23:08.503  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:23:08.524  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:23:08.527  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:23:08.654  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:23:08.657  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3105 ms
2023-02-16 17:23:08.794  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:23:08.912  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:23:09.862  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:23:10.016  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:23:10.150  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:23:10.525  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:23:11.099  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:23:11.528  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:23:15.960  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:23:16.346  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:23:18.692  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:23:18.695  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:23:18.698  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:23:18.699  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:23:18.702  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:23:18.705  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:23:18.707  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:23:18.708  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:23:19.266  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:23:19.275  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:23:19.863  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:23:20.583 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:23:20.587 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:23:20.610  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:23:21.006  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:23:21.519  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:23:22.016  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:23:22.055  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:23:22.067  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:23:22.232  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:23:22.257  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 16.807 seconds (JVM running for 22.063)
2023-02-16 17:23:22.338  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:23:25.668  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:23:25.671  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:23:25.677  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:23:53.761  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:23:53.768  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:23:55.238  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:23:55.663  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:23:56.071  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:23:56.147  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:23:56.190  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.135 seconds (JVM running for 4.131)
2023-02-16 17:23:56.197  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:23:56.277  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:23:57.473  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:23:57.479  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:23:57.802  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 14 JPA repository interfaces.
2023-02-16 17:23:57.998  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:23:58.658  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:23:58.675  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:23:58.677  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:23:58.805  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:23:58.807  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2522 ms
2023-02-16 17:23:58.954  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:23:59.078  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:23:59.811  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:23:59.927  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:24:00.081  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:24:00.458  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:24:00.736  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:24:00.889  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:24:02.146  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:24:02.162  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:24:03.417  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:24:03.421  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:24:03.425  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:24:03.426  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:24:03.429  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:24:03.430  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:24:03.432  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:24:03.433  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:24:03.881  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:24:03.889  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:24:04.220  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:24:04.540  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:24:04.800  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:24:05.079 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:24:05.082 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:24:05.110  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:24:05.439  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:24:05.464  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:24:05.473  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:24:05.604  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:24:05.627  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.423 seconds (JVM running for 13.567)
2023-02-16 17:24:05.673  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:24:07.189  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:24:07.193  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:24:07.199  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:24:35.849  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:24:35.855  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:24:37.507  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:24:37.952  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:24:38.362  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:24:38.431  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:24:38.475  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.503 seconds (JVM running for 4.735)
2023-02-16 17:24:38.483  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:24:38.566  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:24:39.767  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:24:39.772  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:24:40.050  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 14 JPA repository interfaces.
2023-02-16 17:24:40.211  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:24:40.826  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:24:40.840  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:24:40.842  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:24:40.952  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:24:40.954  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2380 ms
2023-02-16 17:24:41.071  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:24:41.179  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:24:41.812  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:24:41.895  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:24:42.012  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:24:42.290  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:24:42.513  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:24:42.633  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:24:43.730  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:24:43.746  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:24:44.772  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:24:44.776  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:24:44.778  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:24:44.779  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:24:44.781  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:24:44.782  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:24:44.783  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:24:44.784  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:24:45.134  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:24:45.139  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:24:45.476  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:24:45.852  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:24:46.135  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:24:46.323 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:24:46.325 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:24:46.481  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:24:46.926  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:24:46.964  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:24:46.979  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:24:47.193  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:24:47.225  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.735 seconds (JVM running for 13.485)
2023-02-16 17:24:47.313  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:24:48.844  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:24:48.847  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:24:48.851  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:25:22.910  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:25:22.921  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:25:25.090  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:25:25.759  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:25:26.343  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:25:26.450  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:25:26.514  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.542 seconds (JVM running for 6.046)
2023-02-16 17:25:26.523  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:25:26.634  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:25:28.230  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:25:28.238  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:25:28.656  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 400 ms. Found 14 JPA repository interfaces.
2023-02-16 17:25:28.883  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:25:29.806  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:25:29.827  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:25:29.830  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:25:29.996  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:25:29.998  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3354 ms
2023-02-16 17:25:30.163  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:25:30.306  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:25:31.136  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:25:31.238  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:25:31.416  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:25:31.808  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:25:32.092  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:25:32.255  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:25:33.696  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:25:33.718  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:25:35.022  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:25:35.025  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:25:35.027  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:25:35.029  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:25:35.031  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:25:35.033  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:25:35.034  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:25:35.035  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:25:35.505  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:25:35.510  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:25:35.940  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:25:36.405  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:25:36.686  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:25:36.742 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:25:36.746 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:25:36.999  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:25:37.382  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:25:37.412  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:25:37.423  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:25:37.590  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:25:37.612  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.081 seconds (JVM running for 17.144)
2023-02-16 17:25:37.674  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:25:40.595  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:25:40.598  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:25:40.602  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:28:48.879  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:28:48.886  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:28:50.361  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:28:50.839  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:28:51.329  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:28:51.399  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:28:51.446  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.332 seconds (JVM running for 4.484)
2023-02-16 17:28:51.453  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:28:51.539  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:28:52.904  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:28:52.910  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:28:53.305  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 380 ms. Found 14 JPA repository interfaces.
2023-02-16 17:28:53.514  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:28:54.308  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:28:54.330  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:28:54.334  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:28:54.483  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:28:54.484  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2936 ms
2023-02-16 17:28:54.611  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:28:54.754  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:28:55.380  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:28:55.493  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:28:55.645  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:28:55.935  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:28:56.151  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:28:56.341  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:28:58.134  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:28:58.151  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:28:59.275  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:28:59.278  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:28:59.281  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:28:59.282  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:28:59.284  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:28:59.286  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:28:59.287  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:28:59.288  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:28:59.744  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:28:59.752  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:29:00.153  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:29:00.550  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:29:00.837  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:29:00.973 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:29:00.978 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:29:01.138  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:29:01.576  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:29:01.608  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:29:01.625  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:29:01.814  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:29:01.835  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.376 seconds (JVM running for 14.873)
2023-02-16 17:29:01.896  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:29:02.113  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:29:02.115  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:29:02.122  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:29:31.882  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:29:31.889  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:29:34.438  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:29:35.148  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:29:35.737  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:29:35.870  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:29:35.927  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.172 seconds (JVM running for 7.005)
2023-02-16 17:29:35.936  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:29:36.062  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:29:38.000  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:29:38.009  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:29:38.325  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 297 ms. Found 14 JPA repository interfaces.
2023-02-16 17:29:38.527  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:29:39.249  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:29:39.269  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:29:39.272  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:29:39.395  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:29:39.397  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3323 ms
2023-02-16 17:29:39.584  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:29:39.714  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:29:40.340  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:29:40.480  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:29:40.617  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:29:40.913  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:29:41.158  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:29:41.293  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:29:42.625  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:29:42.662  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:29:44.365  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:29:44.370  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:29:44.373  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:29:44.375  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:29:44.379  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:29:44.381  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:29:44.382  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:29:44.384  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:29:45.047  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:29:45.053  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:29:45.654  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:29:46.278  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:29:46.347 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:29:46.349 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:29:46.656  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:29:46.983  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:29:47.349  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:29:47.377  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:29:47.387  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:29:47.561  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:29:47.584  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.64 seconds (JVM running for 18.662)
2023-02-16 17:29:47.649  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:29:49.085  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:29:49.088  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:29:49.092  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:30:18.271  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:30:18.278  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:30:20.175  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:30:20.673  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:30:21.079  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:30:21.151  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:30:21.197  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.094 seconds (JVM running for 5.646)
2023-02-16 17:30:21.205  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:30:21.300  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:30:22.664  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:30:22.671  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:30:23.109  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 409 ms. Found 14 JPA repository interfaces.
2023-02-16 17:30:23.442  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:30:24.427  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:30:24.448  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:30:24.451  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:30:24.604  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:30:24.606  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3298 ms
2023-02-16 17:30:24.906  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:30:25.145  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:30:26.077  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:30:26.176  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:30:26.324  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:30:26.602  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:30:26.825  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:30:26.945  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:30:28.272  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:30:28.293  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:30:29.295  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:30:29.297  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:30:29.300  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:30:29.301  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:30:29.304  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:30:29.305  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:30:29.306  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:30:29.307  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:30:29.738  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:30:29.743  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:30:30.094  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:30:30.500  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:30:30.780  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:30:30.923 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:30:30.925 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:30:31.043  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:30:31.429  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:30:31.457  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:30:31.467  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:30:31.591  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:30:31.611  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.397 seconds (JVM running for 16.059)
2023-02-16 17:30:31.655  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:30:35.695  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:30:35.697  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:30:35.702  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:31:04.313  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:31:04.320  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:31:06.309  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:31:06.944  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:31:07.543  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:31:07.638  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:31:07.694  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.297 seconds (JVM running for 5.524)
2023-02-16 17:31:07.702  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:31:07.802  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:31:09.672  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:31:09.679  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:31:10.039  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 344 ms. Found 14 JPA repository interfaces.
2023-02-16 17:31:10.216  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:31:10.885  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:31:10.906  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:31:10.909  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:31:11.065  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:31:11.067  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3254 ms
2023-02-16 17:31:11.211  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:31:11.330  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:31:12.002  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:31:12.087  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:31:12.191  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:31:12.440  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:31:12.638  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:31:12.757  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:31:13.996  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:31:14.019  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:31:15.014  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:31:15.025  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:31:15.028  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:31:15.029  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:31:15.033  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:31:15.034  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:31:15.036  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:31:15.037  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:31:15.409  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:31:15.415  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:31:15.782  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:31:16.191  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:31:16.450  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:31:16.613 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:31:16.615 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:31:16.752  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:31:17.114  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:31:17.143  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:31:17.155  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:31:17.268  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:31:17.288  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.58 seconds (JVM running for 15.12)
2023-02-16 17:31:17.346  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:31:22.331  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:31:22.334  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:31:22.338  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:31:51.636  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:31:51.643  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:31:53.677  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:31:54.375  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:31:54.952  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:31:55.078  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:31:55.140  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.397 seconds (JVM running for 5.777)
2023-02-16 17:31:55.148  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:31:55.254  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:31:56.903  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:31:56.910  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:31:57.336  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 410 ms. Found 14 JPA repository interfaces.
2023-02-16 17:31:57.560  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:31:58.288  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:31:58.311  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:31:58.314  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:31:58.799  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:31:58.801  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3534 ms
2023-02-16 17:31:59.012  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:31:59.251  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:32:00.099  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:32:00.189  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:32:00.303  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:32:00.615  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:32:01.000  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:32:01.252  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:32:02.941  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:32:02.963  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:32:04.303  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:32:04.306  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:32:04.309  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:32:04.310  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:32:04.313  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:32:04.315  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:32:04.316  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:32:04.318  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:32:04.753  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:32:04.758  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:32:05.194  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:32:05.719  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:32:05.966 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:32:05.969 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:32:05.992  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:32:06.303  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:32:06.740  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:32:06.763  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:32:06.773  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:32:06.939  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:32:06.962  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.805 seconds (JVM running for 17.598)
2023-02-16 17:32:07.017  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:32:09.517  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:32:09.521  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:32:09.527  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:32:38.368  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:32:38.375  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:32:40.076  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:32:40.555  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:32:41.097  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:32:41.177  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:32:41.238  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.671 seconds (JVM running for 4.866)
2023-02-16 17:32:41.248  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:32:41.344  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:32:42.999  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:32:43.008  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:32:43.452  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 426 ms. Found 14 JPA repository interfaces.
2023-02-16 17:32:43.781  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:32:44.511  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:32:44.527  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:32:44.531  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:32:44.667  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:32:44.669  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3317 ms
2023-02-16 17:32:44.812  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:32:44.960  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:32:45.669  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:32:45.759  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:32:45.874  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:32:46.152  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:32:46.375  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:32:46.504  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:32:47.855  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:32:47.872  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:32:49.072  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:32:49.077  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:32:49.080  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:32:49.082  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:32:49.084  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:32:49.085  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:32:49.087  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:32:49.088  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:32:49.514  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:32:49.519  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:32:49.960  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:32:50.384  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:32:50.635  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:32:50.741 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:32:50.744 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:32:50.909  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:32:51.261  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:32:51.308  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:32:51.317  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:32:51.418  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:32:51.452  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.196 seconds (JVM running for 15.08)
2023-02-16 17:32:51.510  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:32:51.535  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:32:51.537  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:32:51.543  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:33:20.417  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:33:20.423  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:33:22.243  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:33:22.900  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:33:23.529  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:33:23.644  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:33:23.755  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.227 seconds (JVM running for 5.419)
2023-02-16 17:33:23.767  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:33:23.911  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:33:25.696  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:33:25.707  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:33:26.153  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 429 ms. Found 14 JPA repository interfaces.
2023-02-16 17:33:26.464  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:33:27.294  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:33:27.312  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:33:27.315  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:33:27.492  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:33:27.494  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3554 ms
2023-02-16 17:33:27.691  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:33:27.922  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:33:28.769  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:33:28.897  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:33:29.136  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:33:29.652  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:33:30.053  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:33:31.070  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:33:36.509  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:33:36.563  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:33:45.449  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:33:45.454  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:33:45.457  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:33:45.459  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:33:45.462  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:33:45.464  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:33:45.466  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:33:45.467  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:33:46.993  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:33:47.014  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:33:47.827  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:33:48.701  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:33:49.100  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:33:49.464  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:33:49.878  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:33:49.907  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:33:49.918  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:33:50.071  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:33:50.094  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 26.31 seconds (JVM running for 31.754)
2023-02-16 17:33:50.169  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:33:54.587  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:33:54.590  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:33:54.594  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:34:24.809  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:34:24.823  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:34:26.719  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:34:27.244  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:34:27.783  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:34:27.867  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:34:27.914  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.651 seconds (JVM running for 6.736)
2023-02-16 17:34:27.921  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:34:28.019  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:34:29.408  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:34:29.414  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:34:29.735  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 305 ms. Found 14 JPA repository interfaces.
2023-02-16 17:34:29.918  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:34:30.652  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:34:30.674  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:34:30.677  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:34:30.822  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:34:30.824  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2794 ms
2023-02-16 17:34:30.958  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:34:31.077  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:34:31.712  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:34:31.805  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:34:31.931  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:34:32.291  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:34:32.539  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:34:32.743  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:34:34.456  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:34:34.480  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:34:36.176  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:34:36.180  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:34:36.183  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:34:36.185  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:34:36.188  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:34:36.190  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:34:36.192  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:34:36.193  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:34:36.839  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:34:36.847  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:34:37.339  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:34:37.734  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:34:37.997  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:34:38.135 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:34:38.139 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:34:38.292  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:34:38.759  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:34:38.787  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:34:38.797  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:34:38.913  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:34:38.934  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.006 seconds (JVM running for 17.756)
2023-02-16 17:34:38.990  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:34:41.298  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:34:41.301  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:34:41.306  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:35:10.370  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:35:10.379  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:35:12.413  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:35:12.968  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:35:13.568  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:35:13.656  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:35:13.701  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.421 seconds (JVM running for 5.87)
2023-02-16 17:35:13.707  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:35:13.787  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:35:15.124  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:35:15.130  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:35:15.428  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 285 ms. Found 14 JPA repository interfaces.
2023-02-16 17:35:15.610  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:35:16.226  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:35:16.240  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:35:16.243  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:35:16.357  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:35:16.359  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2563 ms
2023-02-16 17:35:16.481  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:35:16.600  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:35:17.190  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:35:17.270  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:35:17.378  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:35:17.636  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:35:17.857  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:35:17.970  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:35:19.302  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:35:19.324  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:35:20.541  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:35:20.544  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:35:20.547  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:35:20.548  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:35:20.551  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:35:20.552  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:35:20.554  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:35:20.555  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:35:20.943  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:35:20.949  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:35:21.312  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:35:21.683  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:35:21.926  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:35:22.134 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:35:22.139 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:35:22.263  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:35:22.605  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:35:22.632  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:35:22.643  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:35:22.771  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:35:22.790  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.077 seconds (JVM running for 14.959)
2023-02-16 17:35:22.835  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:35:22.954  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:35:22.956  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:35:22.962  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:35:56.669  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:35:56.675  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:35:58.348  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:35:59.058  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:35:59.516  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:35:59.591  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:35:59.635  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.872 seconds (JVM running for 5.267)
2023-02-16 17:35:59.643  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:35:59.723  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:36:01.384  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:36:01.389  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:36:01.846  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 443 ms. Found 14 JPA repository interfaces.
2023-02-16 17:36:02.139  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:36:02.786  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:36:02.810  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:36:02.814  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:36:02.970  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:36:02.972  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3242 ms
2023-02-16 17:36:03.100  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:36:03.205  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:36:03.837  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:36:03.955  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:36:04.138  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:36:04.506  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:36:04.786  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:36:04.906  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:36:06.302  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:36:06.322  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:36:07.391  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:36:07.393  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:36:07.396  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:36:07.398  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:36:07.400  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:36:07.402  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:36:07.403  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:36:07.405  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:36:07.732  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:36:07.737  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:36:08.058  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:36:08.438  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:36:08.673  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:36:08.897 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:36:08.899 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:36:08.942  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:36:09.292  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:36:09.316  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:36:09.326  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:36:09.430  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:36:09.448  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.798 seconds (JVM running for 15.08)
2023-02-16 17:36:09.492  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:36:14.489  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:36:14.492  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:36:14.497  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:36:37.830  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 232 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:36:37.838  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:36:39.522  INFO 232 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:36:39.967  INFO 232 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:36:40.448  INFO 232 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:36:40.546  WARN 232 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:36:40.601  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.698 seconds (JVM running for 4.83)
2023-02-16 17:36:40.608  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:36:40.711  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:36:42.326  INFO 232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:36:42.332  INFO 232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:36:42.631  INFO 232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 14 JPA repository interfaces.
2023-02-16 17:36:42.964  INFO 232 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:36:43.933  INFO 232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:36:43.955  INFO 232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:36:43.959  INFO 232 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:36:44.124  INFO 232 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:36:44.127  INFO 232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3403 ms
2023-02-16 17:36:44.363  INFO 232 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:36:44.553  INFO 232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:36:45.478  INFO 232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:36:45.583  INFO 232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:36:45.704  INFO 232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:36:45.972  INFO 232 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:36:46.166  INFO 232 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:36:46.282  WARN 232 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:36:47.648  INFO 232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:36:47.672  INFO 232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:36:48.909  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:36:48.912  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:36:48.916  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:36:48.917  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:36:48.919  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:36:48.920  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:36:48.921  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:36:48.923  INFO 232 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:36:49.308  INFO 232 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:36:49.313  INFO 232 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:36:49.641  INFO 232 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:36:50.025  WARN 232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:36:50.300  INFO 232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:36:50.486 ERROR 232 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:36:50.490 ERROR 232 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:36:50.598  INFO 232 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:36:50.893  INFO 232 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:36:50.925  WARN 232 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:36:50.935  INFO 232 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:36:51.053  INFO 232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:36:51.073  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.458 seconds (JVM running for 15.302)
2023-02-16 17:36:51.118  INFO 232 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:36:55.891  INFO 232 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:36:55.893  INFO 232 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:36:55.898  INFO 232 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:37:24.418  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:37:24.424  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:37:25.742  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:37:26.360  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:37:26.819  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:37:26.884  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:37:26.928  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.22 seconds (JVM running for 4.364)
2023-02-16 17:37:26.934  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:37:27.017  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:37:28.257  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:37:28.263  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:37:28.642  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 364 ms. Found 14 JPA repository interfaces.
2023-02-16 17:37:28.830  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:37:29.446  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:37:29.474  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:37:29.477  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:37:29.668  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:37:29.670  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2646 ms
2023-02-16 17:37:29.864  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:37:29.976  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:37:30.529  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:37:30.611  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:37:30.737  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:37:31.121  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:37:31.343  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:37:31.481  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:37:32.788  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:37:32.810  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:37:34.173  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:37:34.177  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:37:34.182  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:37:34.183  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:37:34.186  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:37:34.188  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:37:34.189  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:37:34.191  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:37:34.611  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:37:34.616  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:37:35.276  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:37:35.802  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:37:35.987 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:37:36.004 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:37:36.202  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:37:36.599  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:37:37.128  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:37:37.170  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:37:37.185  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:37:37.418  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:37:37.469  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.528 seconds (JVM running for 14.905)
2023-02-16 17:37:37.578  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:37:37.755  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:37:37.759  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:37:37.767  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:38:06.752  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:38:06.757  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:38:08.137  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:38:08.577  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:38:09.089  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:38:09.166  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:38:09.223  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.186 seconds (JVM running for 4.337)
2023-02-16 17:38:09.232  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:38:09.329  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:38:10.616  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:38:10.621  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:38:10.988  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 354 ms. Found 14 JPA repository interfaces.
2023-02-16 17:38:11.214  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:38:11.876  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:38:11.897  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:38:11.901  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:38:12.075  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:38:12.077  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2740 ms
2023-02-16 17:38:12.352  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:38:12.484  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:38:13.194  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:38:13.286  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:38:13.405  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:38:13.655  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:38:13.857  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:38:13.985  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:38:15.379  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:38:15.402  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:38:16.874  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:38:16.877  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:38:16.880  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:38:16.881  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:38:16.883  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:38:16.884  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:38:16.885  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:38:16.886  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:38:17.351  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:38:17.360  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:38:17.917  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:38:18.381  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:38:18.645  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:38:18.706 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:38:18.710 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:38:19.000  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:38:19.542  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:38:19.573  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:38:19.588  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:38:19.798  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:38:19.821  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.582 seconds (JVM running for 14.935)
2023-02-16 17:38:19.887  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:38:20.071  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:38:20.073  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:38:20.082  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 17:38:48.702  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:38:48.713  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:38:50.306  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:38:50.764  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:38:51.346  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:38:51.476  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:38:51.604  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.897 seconds (JVM running for 5.155)
2023-02-16 17:38:51.625  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:38:51.750  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:38:53.072  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:38:53.079  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:38:53.400  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 305 ms. Found 14 JPA repository interfaces.
2023-02-16 17:38:53.587  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:38:54.307  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:38:54.328  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:38:54.331  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:38:54.456  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:38:54.458  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2699 ms
2023-02-16 17:38:54.585  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:38:54.730  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:38:55.607  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:38:55.705  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:38:55.859  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:38:56.227  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:38:56.476  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:38:56.672  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:38:58.247  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:38:58.266  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:38:59.426  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:38:59.429  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:38:59.431  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:38:59.432  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:38:59.434  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:38:59.436  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:38:59.437  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:38:59.438  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:38:59.873  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:38:59.879  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:39:00.272  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:39:00.675  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:39:00.950  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:39:01.098 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:39:01.102 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:39:01.276  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:39:01.689  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:39:01.725  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:39:01.736  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:39:01.871  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:39:01.898  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.263 seconds (JVM running for 15.448)
2023-02-16 17:39:01.960  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:39:06.632  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:39:06.634  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:39:06.639  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:39:29.890  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:39:29.897  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:39:31.428  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:39:31.913  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:39:32.469  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:39:32.540  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:39:32.589  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.426 seconds (JVM running for 4.507)
2023-02-16 17:39:32.596  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:39:32.687  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:39:34.109  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:39:34.116  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:39:34.439  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 303 ms. Found 14 JPA repository interfaces.
2023-02-16 17:39:34.649  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:39:35.450  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:39:35.471  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:39:35.474  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:39:35.612  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:39:35.614  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2916 ms
2023-02-16 17:39:35.774  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:39:35.891  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:39:36.591  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:39:36.682  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:39:36.799  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:39:37.220  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:39:37.472  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:39:37.610  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:39:38.942  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:39:38.970  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:39:40.171  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:39:40.174  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:39:40.177  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:39:40.178  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:39:40.180  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:39:40.181  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:39:40.182  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:39:40.183  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:39:40.547  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:39:40.553  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:39:40.931  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:39:41.373  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:39:41.670  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:39:41.740 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:39:41.742 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:39:41.950  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:39:42.314  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:39:42.335  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:39:42.343  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:39:42.447  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:39:42.472  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.868 seconds (JVM running for 14.389)
2023-02-16 17:39:42.521  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:39:43.234  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:39:43.236  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:39:43.241  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:40:06.743  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:40:06.748  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:40:08.129  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:40:08.675  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:40:09.129  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:40:09.193  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:40:09.237  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.297 seconds (JVM running for 4.572)
2023-02-16 17:40:09.243  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:40:09.319  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:40:10.547  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:40:10.554  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:40:10.833  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 14 JPA repository interfaces.
2023-02-16 17:40:11.018  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:40:11.616  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:40:11.630  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:40:11.632  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:40:11.752  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:40:11.754  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2426 ms
2023-02-16 17:40:11.895  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:40:12.051  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:40:12.614  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:40:12.695  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:40:12.807  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:40:13.181  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:40:13.460  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:40:13.586  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:40:15.180  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:40:15.256  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:40:16.420  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:40:16.424  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:40:16.427  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:40:16.428  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:40:16.430  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:40:16.431  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:40:16.432  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:40:16.433  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:40:16.831  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:40:16.835  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:40:17.287  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:40:17.769  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:40:18.056  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:40:18.085 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:40:18.099 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:40:18.433  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:40:18.887  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:40:18.917  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:40:18.928  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:40:19.094  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:40:19.124  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.874 seconds (JVM running for 14.459)
2023-02-16 17:40:19.208  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:40:19.853  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:40:19.855  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:40:19.861  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:40:48.844  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:40:48.851  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:40:50.337  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:40:50.825  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:40:51.270  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:40:51.337  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:40:51.384  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.416 seconds (JVM running for 4.916)
2023-02-16 17:40:51.390  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:40:51.469  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:40:52.748  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:40:52.758  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:40:53.167  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 390 ms. Found 14 JPA repository interfaces.
2023-02-16 17:40:53.417  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:40:54.250  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:40:54.276  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:40:54.280  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:40:54.448  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:40:54.451  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2974 ms
2023-02-16 17:40:54.612  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:40:54.754  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:40:55.293  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:40:55.669  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:40:55.805  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:40:56.148  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:40:56.409  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:40:56.538  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:40:57.993  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:40:58.020  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:40:59.354  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:40:59.357  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:40:59.359  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:40:59.361  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:40:59.363  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:40:59.366  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:40:59.367  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:40:59.369  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:40:59.772  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:40:59.776  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:41:00.230  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:41:00.587  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:41:00.867  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:41:00.982 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:41:00.985 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:41:01.193  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:41:01.586  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:41:01.647  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:41:01.730  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:41:01.902  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:41:01.923  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.526 seconds (JVM running for 15.455)
2023-02-16 17:41:01.974  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:41:06.660  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:41:06.664  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:41:06.671  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:41:35.461  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:41:35.468  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:41:37.151  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:41:37.714  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:41:38.150  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:41:38.217  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:41:38.259  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.691 seconds (JVM running for 4.983)
2023-02-16 17:41:38.266  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:41:38.361  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:41:40.064  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:41:40.071  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:41:40.443  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 353 ms. Found 14 JPA repository interfaces.
2023-02-16 17:41:40.647  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:41:41.482  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:41:41.503  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:41:41.506  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:41:41.645  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:41:41.653  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3281 ms
2023-02-16 17:41:41.817  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:41:41.937  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:41:42.668  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:41:42.758  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:41:42.881  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:41:43.179  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:41:43.419  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:41:43.540  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:41:44.948  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:41:44.978  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:41:46.244  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:41:46.247  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:41:46.251  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:41:46.252  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:41:46.255  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:41:46.256  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:41:46.258  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:41:46.259  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:41:46.694  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:41:46.701  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:41:47.125  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:41:47.524  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:41:47.796  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:41:47.928 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:41:47.936 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:41:48.124  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:41:48.528  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:41:48.562  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:41:48.575  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:41:48.733  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:41:48.757  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.484 seconds (JVM running for 15.481)
2023-02-16 17:41:48.818  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:41:53.413  INFO 241 --- [http-nio-8070-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:41:53.417  INFO 241 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:41:53.422  INFO 241 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:42:21.894  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:42:21.901  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:42:23.916  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:42:24.531  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:42:25.099  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:42:25.194  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:42:25.263  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.294 seconds (JVM running for 5.361)
2023-02-16 17:42:25.273  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:42:25.500  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:42:27.242  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:42:27.250  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:42:27.596  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 326 ms. Found 14 JPA repository interfaces.
2023-02-16 17:42:27.894  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:42:28.567  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:42:28.587  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:42:28.590  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:42:28.754  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:42:28.756  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3218 ms
2023-02-16 17:42:28.895  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:42:29.016  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:42:29.717  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:42:29.813  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:42:29.936  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:42:30.351  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:42:30.608  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:42:30.747  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:42:32.338  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:42:32.360  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:42:33.629  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:42:33.713  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:42:33.716  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:42:33.718  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:42:33.721  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:42:33.723  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:42:33.724  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:42:33.726  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:42:34.207  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:42:34.212  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:42:34.696  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:42:35.120  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:42:35.506 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:42:35.509 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:42:35.664  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:42:36.005  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:42:36.473  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:42:36.506  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:42:36.518  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:42:36.666  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:42:36.686  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.405 seconds (JVM running for 16.785)
2023-02-16 17:42:36.747  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:42:40.054  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:42:40.056  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:42:40.065  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2023-02-16 17:43:08.332  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:43:08.338  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:43:09.954  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:43:10.489  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:43:10.992  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:43:11.074  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:43:11.125  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.621 seconds (JVM running for 4.728)
2023-02-16 17:43:11.132  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:43:11.217  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:43:12.771  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:43:12.776  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:43:13.105  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 313 ms. Found 14 JPA repository interfaces.
2023-02-16 17:43:13.304  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:43:14.132  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:43:14.157  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:43:14.160  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:43:14.289  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:43:14.290  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3065 ms
2023-02-16 17:43:14.430  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:43:14.557  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:43:15.173  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:43:15.260  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:43:15.388  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:43:15.694  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:43:15.916  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:43:16.043  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:43:17.203  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:43:17.220  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:43:18.288  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:43:18.291  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:43:18.293  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:43:18.294  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:43:18.297  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:43:18.298  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:43:18.299  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:43:18.301  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:43:18.724  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:43:18.729  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:43:19.089  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:43:19.485  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:43:19.737  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:43:19.921 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:43:19.923 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:43:20.019  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:43:20.345  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:43:20.375  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:43:20.385  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:43:20.526  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:43:20.545  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.406 seconds (JVM running for 14.149)
2023-02-16 17:43:20.591  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:43:21.513  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:43:21.516  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:43:21.521  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:43:50.744  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:43:50.756  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:43:53.350  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:43:53.980  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:43:54.517  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:43:54.600  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:43:54.655  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.198 seconds (JVM running for 6.706)
2023-02-16 17:43:54.663  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:43:54.752  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:43:56.414  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:43:56.426  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:43:56.910  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 458 ms. Found 14 JPA repository interfaces.
2023-02-16 17:43:57.177  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:43:57.938  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:43:57.960  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:43:57.964  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:43:58.085  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:43:58.086  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3324 ms
2023-02-16 17:43:58.206  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:43:58.312  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:43:58.952  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:43:59.041  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:43:59.184  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:43:59.490  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:43:59.757  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:43:59.882  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:44:01.150  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:44:01.177  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:44:02.298  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:44:02.300  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:44:02.303  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:44:02.304  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:44:02.306  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:44:02.307  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:44:02.309  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:44:02.310  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:44:02.693  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:44:02.698  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:44:03.052  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:44:03.515  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:44:03.763  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:44:03.877 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:44:03.880 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:44:04.068  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:44:04.423  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:44:04.453  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:44:04.470  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:44:04.581  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:44:04.599  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.928 seconds (JVM running for 16.65)
2023-02-16 17:44:04.647  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:44:08.110  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:44:08.113  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:44:08.118  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:44:31.683  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:44:31.689  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:44:33.032  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:44:33.474  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:44:33.915  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:44:33.983  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:44:34.027  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.06 seconds (JVM running for 4.051)
2023-02-16 17:44:34.033  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:44:34.114  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:44:35.380  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:44:35.388  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:44:35.712  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 14 JPA repository interfaces.
2023-02-16 17:44:35.881  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:44:36.546  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:44:36.566  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:44:36.570  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:44:36.720  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:44:36.722  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2599 ms
2023-02-16 17:44:36.907  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:44:37.028  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:44:37.796  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:44:37.888  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:44:38.063  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:44:38.381  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:44:38.589  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:44:38.711  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:44:40.207  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:44:40.225  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:44:41.326  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:44:41.329  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:44:41.332  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:44:41.333  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:44:41.336  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:44:41.337  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:44:41.338  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:44:41.340  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:44:41.793  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:44:41.799  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:44:42.177  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:44:42.636  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:44:42.868  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:44:43.014 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:44:43.020 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:44:43.245  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:44:43.586  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:44:43.608  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:44:43.617  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:44:43.748  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:44:43.770  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.73 seconds (JVM running for 13.794)
2023-02-16 17:44:43.817  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:44:45.137  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:44:45.141  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:44:45.148  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 17:45:13.737  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:45:13.744  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:45:15.532  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:45:16.172  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:45:16.708  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:45:16.798  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:45:16.852  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.991 seconds (JVM running for 5.228)
2023-02-16 17:45:16.859  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:45:16.952  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:45:18.548  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:45:18.554  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:45:18.900  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 332 ms. Found 14 JPA repository interfaces.
2023-02-16 17:45:19.098  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:45:19.932  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:45:19.953  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:45:19.956  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:45:20.082  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:45:20.084  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3122 ms
2023-02-16 17:45:20.211  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:45:20.324  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:45:20.962  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:45:21.061  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:45:21.174  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:45:21.443  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:45:21.670  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:45:21.789  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:45:22.972  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:45:22.989  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:45:23.990  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:45:23.993  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:45:23.995  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:45:23.996  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:45:23.999  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:45:24.000  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:45:24.001  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:45:24.002  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:45:24.375  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:45:24.380  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:45:24.844  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:45:25.250  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:45:25.486  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:45:25.595 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:45:25.600 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:45:25.806  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:45:26.173  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:45:26.197  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:45:26.215  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:45:26.383  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:45:26.407  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.541 seconds (JVM running for 14.783)
2023-02-16 17:45:26.470  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:45:26.767  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:45:26.769  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:45:26.774  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:45:50.561  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 231 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:45:50.567  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:45:52.145  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:45:52.640  INFO 231 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:45:53.100  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:45:53.177  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:45:53.224  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.516 seconds (JVM running for 5.023)
2023-02-16 17:45:53.230  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:45:53.314  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:45:54.835  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:45:54.841  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:45:55.197  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 342 ms. Found 14 JPA repository interfaces.
2023-02-16 17:45:55.415  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:45:56.172  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:45:56.191  INFO 231 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:45:56.194  INFO 231 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:45:56.343  INFO 231 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:45:56.345  INFO 231 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3023 ms
2023-02-16 17:45:56.496  INFO 231 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:45:56.628  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:45:57.302  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:45:57.392  INFO 231 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:45:57.522  INFO 231 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:45:57.837  INFO 231 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:45:58.074  INFO 231 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:45:58.216  WARN 231 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:45:59.534  INFO 231 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:45:59.552  INFO 231 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:46:00.657  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:46:00.660  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:46:00.663  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:46:00.664  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:46:00.666  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:46:00.668  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:46:00.669  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:46:00.670  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:46:01.028  INFO 231 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:46:01.033  INFO 231 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:46:01.416  INFO 231 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:46:01.809  WARN 231 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:46:02.054  INFO 231 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:46:02.233 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:46:02.235 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:46:02.334  INFO 231 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:46:02.697  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:46:02.730  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:46:02.744  INFO 231 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:46:02.861  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:46:02.881  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.645 seconds (JVM running for 14.681)
2023-02-16 17:46:02.931  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:46:03.347  INFO 231 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:46:03.348  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:46:03.354  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:46:31.865  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:46:31.876  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:46:33.647  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:46:34.147  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:46:34.725  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:46:34.808  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:46:34.860  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.818 seconds (JVM running for 5.008)
2023-02-16 17:46:34.868  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:46:34.991  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:46:36.481  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:46:36.493  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:46:36.874  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 367 ms. Found 14 JPA repository interfaces.
2023-02-16 17:46:37.110  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:46:37.837  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:46:37.855  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:46:37.859  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:46:37.997  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:46:38.000  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3000 ms
2023-02-16 17:46:38.138  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:46:38.245  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:46:38.936  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:46:39.034  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:46:39.181  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:46:39.474  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:46:39.705  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:46:39.881  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:46:41.238  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:46:41.255  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:46:42.427  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:46:42.443  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:46:42.463  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:46:42.482  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:46:42.501  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:46:42.502  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:46:42.503  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:46:42.505  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:46:42.898  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:46:42.904  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:46:43.338  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:46:43.724  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:46:43.984  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:46:44.139 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:46:44.144 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:46:44.311  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:46:44.701  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:46:44.733  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:46:44.743  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:46:44.870  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:46:44.896  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.987 seconds (JVM running for 15.026)
2023-02-16 17:46:44.959  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:46:45.044  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:46:45.046  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:46:45.052  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:47:13.486  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:47:13.493  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:47:14.986  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:47:15.435  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:47:15.976  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:47:16.051  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:47:16.095  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.568 seconds (JVM running for 4.665)
2023-02-16 17:47:16.102  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:47:16.195  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:47:17.524  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:47:17.530  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:47:17.931  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 383 ms. Found 14 JPA repository interfaces.
2023-02-16 17:47:18.126  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:47:18.864  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:47:18.888  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:47:18.893  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:47:19.038  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:47:19.040  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2836 ms
2023-02-16 17:47:19.183  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:47:19.330  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:47:20.121  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:47:20.213  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:47:20.322  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:47:20.587  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:47:20.815  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:47:20.932  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:47:22.353  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:47:22.377  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:47:23.753  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:47:23.759  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:47:23.763  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:47:23.766  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:47:23.768  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:47:23.770  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:47:23.773  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:47:23.775  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:47:24.148  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:47:24.153  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:47:24.523  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:47:24.953  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:47:25.211  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:47:25.357 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:47:25.359 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:47:25.456  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:47:25.779  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:47:25.801  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:47:25.809  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:47:25.900  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:47:25.917  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.808 seconds (JVM running for 14.487)
2023-02-16 17:47:25.959  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:47:26.569  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:47:26.571  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:47:26.575  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:47:54.584  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:47:54.591  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:47:56.054  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:47:56.480  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:47:56.919  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:47:56.983  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:47:57.037  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.12 seconds (JVM running for 4.075)
2023-02-16 17:47:57.043  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:47:57.127  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:47:58.242  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:47:58.248  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:47:58.527  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 267 ms. Found 14 JPA repository interfaces.
2023-02-16 17:47:58.704  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:47:59.320  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:47:59.336  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:47:59.339  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:47:59.450  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:47:59.452  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2317 ms
2023-02-16 17:47:59.645  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:47:59.765  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:48:00.441  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:48:00.514  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:48:00.626  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:48:01.026  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:48:01.241  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:48:01.364  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:48:02.646  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:48:02.671  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:48:03.749  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:48:03.756  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:48:03.761  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:48:03.763  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:48:03.767  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:48:03.769  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:48:03.771  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:48:03.773  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:48:04.169  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:48:04.174  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:48:04.570  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:48:04.937  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:48:05.196  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:48:05.385 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:48:05.387 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:48:05.449  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:48:05.789  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:48:05.813  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:48:05.822  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:48:05.917  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:48:05.935  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.884 seconds (JVM running for 12.973)
2023-02-16 17:48:05.975  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:48:08.074  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:48:08.078  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:48:08.084  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:48:31.603  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:48:31.609  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:48:33.380  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:48:33.895  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:48:34.423  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:48:34.516  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:48:34.583  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.872 seconds (JVM running for 5.09)
2023-02-16 17:48:34.594  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:48:34.753  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:48:36.682  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:48:36.690  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:48:37.255  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 533 ms. Found 14 JPA repository interfaces.
2023-02-16 17:48:37.512  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:48:38.413  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:48:38.439  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:48:38.444  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:48:38.616  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:48:38.628  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3861 ms
2023-02-16 17:48:38.853  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:48:39.015  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:48:39.766  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:48:39.862  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:48:40.009  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:48:40.272  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:48:40.610  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:48:40.773  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:48:42.329  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:48:42.350  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:48:43.655  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:48:43.659  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:48:43.663  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:48:43.666  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:48:43.673  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:48:43.675  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:48:43.677  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:48:43.678  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:48:44.107  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:48:44.113  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:48:44.572  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:48:44.917  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:48:45.180  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:48:45.356 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:48:45.382 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:48:45.480  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:48:45.899  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:48:45.933  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:48:45.943  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:48:46.064  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:48:46.087  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.479 seconds (JVM running for 16.593)
2023-02-16 17:48:46.144  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:48:49.662  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:48:49.666  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:48:49.676  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 17:49:13.760  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:49:13.767  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:49:15.622  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:49:16.255  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:49:16.867  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:49:16.957  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:49:17.026  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.219 seconds (JVM running for 5.924)
2023-02-16 17:49:17.038  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:49:17.200  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:49:18.885  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:49:18.892  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:49:19.245  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 339 ms. Found 14 JPA repository interfaces.
2023-02-16 17:49:19.462  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:49:20.361  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:49:20.377  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:49:20.380  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:49:20.491  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:49:20.492  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3280 ms
2023-02-16 17:49:20.627  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:49:20.763  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:49:21.444  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:49:21.529  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:49:21.660  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:49:22.028  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:49:22.250  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:49:22.393  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:49:23.724  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:49:23.753  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:49:24.913  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:49:24.916  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:49:24.921  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:49:24.922  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:49:24.925  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:49:24.926  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:49:24.927  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:49:24.928  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:49:25.316  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:49:25.321  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:49:25.723  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:49:26.105  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:49:26.337  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:49:26.528 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:49:26.530 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:49:26.593  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:49:27.009  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:49:27.054  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:49:27.077  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:49:27.199  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:49:27.224  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.175 seconds (JVM running for 16.122)
2023-02-16 17:49:27.286  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:49:31.238  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:49:31.241  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:49:31.247  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:49:55.952  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:49:55.959  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:49:58.220  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:49:58.976  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:49:59.763  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:49:59.850  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:49:59.910  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.089 seconds (JVM running for 6.814)
2023-02-16 17:49:59.927  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:50:00.089  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:50:01.995  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:50:02.006  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:50:02.432  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 402 ms. Found 14 JPA repository interfaces.
2023-02-16 17:50:02.696  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:50:03.694  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:50:03.809  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:50:03.812  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:50:03.986  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:50:03.989  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3885 ms
2023-02-16 17:50:04.277  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:50:04.408  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:50:05.047  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:50:05.249  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:50:05.482  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:50:05.816  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:50:06.129  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:50:06.308  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:50:08.105  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:50:08.131  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:50:09.752  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:50:09.756  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:50:09.758  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:50:09.759  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:50:09.762  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:50:09.763  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:50:09.764  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:50:09.765  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:50:10.322  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:50:10.329  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:50:10.857  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:50:11.272  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:50:11.591  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:50:11.600 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:50:11.606 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:50:11.888  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:50:12.290  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:50:12.334  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:50:12.350  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:50:12.481  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:50:12.501  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.564 seconds (JVM running for 19.404)
2023-02-16 17:50:12.549  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:50:13.307  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:50:13.309  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:50:13.317  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:50:41.859  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:50:41.865  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:50:43.549  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:50:44.234  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:50:44.818  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:50:44.922  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:50:44.971  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.81 seconds (JVM running for 4.952)
2023-02-16 17:50:44.977  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:50:45.066  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:50:46.537  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:50:46.542  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:50:46.912  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 353 ms. Found 14 JPA repository interfaces.
2023-02-16 17:50:47.113  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:50:47.791  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:50:47.810  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:50:47.814  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:50:47.926  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:50:47.928  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2853 ms
2023-02-16 17:50:48.073  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:50:48.223  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:50:48.948  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:50:49.063  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:50:49.169  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:50:49.497  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:50:49.726  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:50:49.862  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:50:51.063  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:50:51.092  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:50:52.264  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:50:52.268  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:50:52.271  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:50:52.273  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:50:52.279  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:50:52.280  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:50:52.282  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:50:52.283  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:50:52.659  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:50:52.664  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:50:52.992  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:50:53.447  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:50:53.713  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:50:53.848 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:50:53.850 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:50:54.090  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:50:54.493  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:50:54.537  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:50:54.547  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:50:54.664  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:50:54.684  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.7 seconds (JVM running for 14.665)
2023-02-16 17:50:54.737  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:50:55.178  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:50:55.180  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:50:55.186  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:51:18.211  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:51:18.217  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:51:19.573  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:51:20.029  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:51:20.409  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:51:20.472  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:51:20.514  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.992 seconds (JVM running for 4.034)
2023-02-16 17:51:20.520  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:51:20.613  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:51:21.797  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:51:21.802  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:51:22.270  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 454 ms. Found 14 JPA repository interfaces.
2023-02-16 17:51:22.525  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:51:23.196  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:51:23.212  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:51:23.215  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:51:23.339  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:51:23.341  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2720 ms
2023-02-16 17:51:23.555  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:51:23.691  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:51:24.303  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:51:24.395  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:51:24.504  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:51:24.834  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:51:25.065  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:51:25.185  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:51:26.384  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:51:26.401  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:51:27.445  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:51:27.448  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:51:27.450  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:51:27.451  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:51:27.454  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:51:27.455  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:51:27.456  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:51:27.457  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:51:27.887  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:51:27.891  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:51:28.271  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:51:28.613  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:51:28.860  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:51:29.115 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:51:29.119 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:51:29.136  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:51:29.460  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:51:29.485  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:51:29.493  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:51:29.603  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:51:29.650  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.122 seconds (JVM running for 13.171)
2023-02-16 17:51:29.700  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:51:31.589  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:51:31.592  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:51:31.596  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:51:55.389  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:51:55.395  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:51:57.138  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:51:57.759  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:51:58.209  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:51:58.282  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:51:58.327  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.794 seconds (JVM running for 5.025)
2023-02-16 17:51:58.334  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:51:58.410  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:51:59.557  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:51:59.562  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:51:59.856  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 283 ms. Found 14 JPA repository interfaces.
2023-02-16 17:52:00.015  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:52:00.752  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:52:00.771  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:52:00.775  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:52:00.890  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:52:00.908  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2491 ms
2023-02-16 17:52:01.044  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:52:01.199  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:52:01.890  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:52:01.990  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:52:02.147  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:52:02.445  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:52:02.669  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:52:02.796  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:52:03.984  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:52:04.001  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:52:05.143  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:52:05.148  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:52:05.151  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:52:05.152  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:52:05.154  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:52:05.155  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:52:05.157  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:52:05.158  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:52:05.499  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:52:05.503  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:52:05.867  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:52:06.271  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:52:06.493  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:52:06.684 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:52:06.686 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:52:06.799  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:52:07.139  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:52:07.170  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:52:07.182  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:52:07.331  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:52:07.355  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.015 seconds (JVM running for 14.053)
2023-02-16 17:52:07.416  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:52:08.430  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:52:08.434  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:52:08.440  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:52:37.443  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:52:37.449  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:52:38.852  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:52:39.302  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:52:39.740  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:52:39.809  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:52:39.854  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.079 seconds (JVM running for 4.095)
2023-02-16 17:52:39.860  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:52:39.942  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:52:41.372  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:52:41.384  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:52:41.789  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 369 ms. Found 14 JPA repository interfaces.
2023-02-16 17:52:41.963  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:52:42.876  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:52:42.893  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:52:42.899  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:52:43.047  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:52:43.049  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3099 ms
2023-02-16 17:52:43.180  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:52:43.305  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:52:43.917  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:52:44.009  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:52:44.179  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:52:44.864  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:52:45.114  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:52:45.310  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:52:47.487  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:52:47.521  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:52:48.953  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:52:48.956  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:52:48.959  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:52:48.960  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:52:48.963  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:52:48.964  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:52:48.966  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:52:48.967  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:52:49.353  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:52:49.358  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:52:49.733  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:52:50.130  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:52:50.400  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:52:50.575 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:52:50.577 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:52:50.681  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:52:50.998  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:52:51.027  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:52:51.037  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:52:51.146  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:52:51.164  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.296 seconds (JVM running for 15.404)
2023-02-16 17:52:51.210  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:52:55.911  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:52:55.913  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:52:55.918  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:53:24.124  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:53:24.130  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:53:25.456  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:53:25.900  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:53:26.322  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:53:26.412  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:53:26.464  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.073 seconds (JVM running for 4.181)
2023-02-16 17:53:26.471  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:53:26.556  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:53:28.033  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:53:28.038  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:53:28.318  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 14 JPA repository interfaces.
2023-02-16 17:53:28.530  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:53:29.166  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:53:29.186  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:53:29.191  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:53:29.334  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:53:29.336  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2771 ms
2023-02-16 17:53:29.502  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:53:29.642  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:53:30.256  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:53:30.339  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:53:30.452  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:53:30.731  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:53:30.938  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:53:31.057  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:53:32.192  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:53:32.210  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:53:33.231  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:53:33.234  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:53:33.237  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:53:33.239  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:53:33.242  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:53:33.243  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:53:33.244  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:53:33.245  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:53:33.644  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:53:33.649  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:53:34.058  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:53:34.416  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:53:34.640  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:53:34.880 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:53:34.884 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:53:34.887  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:53:35.183  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:53:35.207  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:53:35.215  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:53:35.314  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:53:35.335  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.858 seconds (JVM running for 13.051)
2023-02-16 17:53:35.381  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:53:37.431  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:53:37.434  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:53:37.441  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:54:00.757  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:54:00.763  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:54:02.329  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:54:02.790  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:54:03.489  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:54:03.613  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:54:03.685  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.583 seconds (JVM running for 4.576)
2023-02-16 17:54:03.716  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:54:03.840  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:54:05.704  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:54:05.711  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:54:06.067  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 336 ms. Found 14 JPA repository interfaces.
2023-02-16 17:54:06.287  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:54:06.949  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:54:06.965  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:54:06.968  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:54:07.079  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:54:07.081  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3229 ms
2023-02-16 17:54:07.210  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:54:07.322  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:54:07.947  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:54:08.050  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:54:08.184  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:54:08.484  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:54:08.726  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:54:08.903  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:54:10.339  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:54:10.368  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:54:11.776  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:54:11.783  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:54:11.786  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:54:11.788  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:54:11.790  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:54:11.792  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:54:11.793  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:54:11.795  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:54:12.236  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:54:12.242  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:54:12.623  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:54:13.095  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:54:13.410  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:54:13.475 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:54:13.478 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:54:13.740  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:54:14.140  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:54:14.173  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:54:14.186  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:54:14.356  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:54:14.377  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.644 seconds (JVM running for 15.267)
2023-02-16 17:54:14.433  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:54:19.280  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:54:19.283  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:54:19.288  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:54:47.525  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:54:47.532  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:54:49.088  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:54:49.514  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:54:50.041  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:54:50.118  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:54:50.167  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.293 seconds (JVM running for 4.251)
2023-02-16 17:54:50.174  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:54:50.288  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:54:51.463  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:54:51.468  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:54:51.737  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 256 ms. Found 14 JPA repository interfaces.
2023-02-16 17:54:51.908  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:54:52.512  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:54:52.527  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:54:52.529  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:54:52.643  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:54:52.645  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2339 ms
2023-02-16 17:54:52.778  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:54:52.886  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:54:53.440  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:54:53.518  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:54:53.612  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:54:53.884  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:54:54.081  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:54:54.195  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:54:55.404  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:54:55.423  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:54:56.543  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:54:56.546  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:54:56.549  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:54:56.550  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:54:56.553  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:54:56.554  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:54:56.555  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:54:56.556  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:54:56.968  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:54:56.973  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:54:57.354  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:54:57.742  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:54:58.029  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:54:58.174 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:54:58.178 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:54:58.315  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:54:58.785  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:54:58.834  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:54:58.850  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:54:59.031  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:54:59.053  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.857 seconds (JVM running for 13.137)
2023-02-16 17:54:59.108  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:55:01.075  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:55:01.079  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:55:01.084  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:55:29.094  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:55:29.101  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:55:30.483  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:55:30.910  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:55:31.349  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:55:31.415  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:55:31.462  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.064 seconds (JVM running for 4.053)
2023-02-16 17:55:31.469  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:55:31.556  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:55:32.995  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:55:33.000  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:55:33.358  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 343 ms. Found 14 JPA repository interfaces.
2023-02-16 17:55:33.636  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:55:34.448  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:55:34.465  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:55:34.468  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:55:34.638  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:55:34.640  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3076 ms
2023-02-16 17:55:34.875  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:55:35.020  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:55:35.750  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:55:35.837  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:55:35.983  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:55:36.315  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:55:36.572  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:55:36.734  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:55:38.038  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:55:38.057  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:55:39.045  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:55:39.049  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:55:39.052  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:55:39.053  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:55:39.057  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:55:39.058  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:55:39.060  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:55:39.061  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:55:39.481  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:55:39.487  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:55:39.877  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:55:40.291  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:55:40.558  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:55:40.698 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:55:40.702 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:55:40.859  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:55:41.202  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:55:41.228  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:55:41.241  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:55:41.384  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:55:41.409  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.932 seconds (JVM running for 13.998)
2023-02-16 17:55:41.477  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:55:42.531  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:55:42.534  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:55:42.539  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:56:10.951  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:56:10.956  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:56:12.492  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:56:12.937  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:56:13.376  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:56:13.453  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:56:13.497  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.338 seconds (JVM running for 4.399)
2023-02-16 17:56:13.503  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:56:13.583  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:56:14.802  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:56:14.808  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:56:15.071  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 249 ms. Found 14 JPA repository interfaces.
2023-02-16 17:56:15.250  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:56:15.859  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:56:15.873  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:56:15.876  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:56:15.986  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:56:15.988  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2398 ms
2023-02-16 17:56:16.121  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:56:16.235  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:56:16.779  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:56:16.861  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:56:16.961  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:56:17.220  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:56:17.429  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:56:17.550  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:56:18.727  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:56:18.743  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:56:19.896  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:56:19.899  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:56:19.901  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:56:19.902  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:56:19.905  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:56:19.906  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:56:19.907  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:56:19.908  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:56:20.279  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:56:20.284  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:56:20.653  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:56:21.027  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:56:21.257  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:56:21.478 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:56:21.498 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:56:21.551  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:56:21.878  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:56:21.907  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:56:21.918  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:56:22.036  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:56:22.060  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.55 seconds (JVM running for 12.962)
2023-02-16 17:56:22.110  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:56:24.224  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:56:24.227  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:56:24.234  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 17:56:53.122  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:56:53.132  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:56:55.102  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:56:55.536  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:56:55.974  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:56:56.051  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:56:56.098  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.86 seconds (JVM running for 5.297)
2023-02-16 17:56:56.105  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:56:56.191  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:56:57.351  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:56:57.357  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:56:57.652  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 14 JPA repository interfaces.
2023-02-16 17:56:57.845  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:56:58.533  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:56:58.550  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:56:58.552  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:56:58.667  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:56:58.669  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2470 ms
2023-02-16 17:56:58.818  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:56:58.938  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:56:59.523  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:56:59.600  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:56:59.717  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:56:59.990  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:57:00.201  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:57:00.320  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:57:01.498  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:57:01.515  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:57:02.550  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:57:02.553  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:57:02.555  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:57:02.556  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:57:02.559  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:57:02.560  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:57:02.561  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:57:02.562  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:57:02.938  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:57:02.942  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:57:03.326  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:57:03.689  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:57:03.941  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:57:04.144 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:57:04.146 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:57:04.201  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:57:04.525  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:57:04.580  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:57:04.590  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:57:04.698  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:57:04.718  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.607 seconds (JVM running for 13.916)
2023-02-16 17:57:04.767  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:57:05.929  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:57:05.932  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:57:05.937  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:57:34.341  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:57:34.347  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:57:35.830  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:57:36.357  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:57:36.820  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:57:36.913  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:57:36.972  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.468 seconds (JVM running for 4.61)
2023-02-16 17:57:36.980  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:57:37.080  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:57:38.554  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:57:38.560  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:57:38.929  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 353 ms. Found 14 JPA repository interfaces.
2023-02-16 17:57:39.109  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:57:40.043  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:57:40.063  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:57:40.067  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:57:40.222  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:57:40.225  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3137 ms
2023-02-16 17:57:40.432  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:57:40.577  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:57:41.615  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:57:41.747  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:57:41.874  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:57:42.234  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:57:42.692  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:57:42.895  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:57:44.354  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:57:44.372  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:57:45.698  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:57:45.702  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:57:45.706  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:57:45.707  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:57:45.710  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:57:45.712  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:57:45.713  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:57:45.714  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:57:46.215  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:57:46.224  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:57:46.648  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:57:47.132  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:57:47.428  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:57:47.466 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:57:47.470 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:57:47.780  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:57:48.192  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:57:48.217  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:57:48.227  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:57:48.350  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:57:48.375  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.385 seconds (JVM running for 16.012)
2023-02-16 17:57:48.425  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:57:52.487  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:57:52.490  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:57:52.495  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 17:58:20.938  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:58:20.944  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:58:22.473  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:58:22.962  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:58:23.452  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:58:23.525  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:58:23.580  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.412 seconds (JVM running for 4.58)
2023-02-16 17:58:23.588  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:58:23.677  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:58:25.084  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:58:25.089  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:58:25.484  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 382 ms. Found 14 JPA repository interfaces.
2023-02-16 17:58:25.727  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:58:26.580  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:58:26.604  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:58:26.608  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:58:26.755  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:58:26.757  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3071 ms
2023-02-16 17:58:26.918  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:58:27.052  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:58:27.751  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:58:27.891  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:58:28.048  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:58:28.359  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:58:28.592  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:58:28.715  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:58:30.041  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:58:30.063  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:58:31.312  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:58:31.315  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:58:31.319  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:58:31.339  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:58:31.360  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:58:31.379  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:58:31.381  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:58:31.382  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:58:31.769  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:58:31.776  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:58:32.253  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:58:32.721  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:58:33.019 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:58:33.024 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:58:33.033  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:58:33.372  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:58:33.901  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:58:33.940  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:58:33.957  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:58:34.109  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:58:34.133  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.538 seconds (JVM running for 15.133)
2023-02-16 17:58:34.194  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:58:39.161  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:58:39.170  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:58:39.176  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:59:07.233  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:59:07.238  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:59:08.767  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:59:09.179  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:59:09.611  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:59:09.676  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:59:09.719  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.189 seconds (JVM running for 4.17)
2023-02-16 17:59:09.727  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:59:09.809  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:59:10.972  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:59:10.977  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:59:11.272  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 14 JPA repository interfaces.
2023-02-16 17:59:11.419  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:59:12.012  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:59:12.033  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:59:12.036  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:59:12.147  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:59:12.148  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2329 ms
2023-02-16 17:59:12.269  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:59:12.374  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:59:12.878  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:59:12.957  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:59:13.076  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:59:13.319  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:59:13.505  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:59:13.610  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:59:14.730  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:59:14.745  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:59:15.783  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:59:15.786  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:59:15.788  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:59:15.790  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:59:15.792  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:59:15.793  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:59:15.793  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:59:15.795  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:59:16.117  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:59:16.121  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:59:16.444  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:59:16.761  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:59:16.986  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:59:17.242  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:59:17.298 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:59:17.300 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:59:17.562  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:59:17.592  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:59:17.602  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:59:17.737  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:59:17.760  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.025 seconds (JVM running for 12.21)
2023-02-16 17:59:17.812  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 17:59:20.688  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 17:59:20.692  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 17:59:20.698  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 17:59:44.289  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 17:59:44.297  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:59:46.173  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 17:59:46.873  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 17:59:47.374  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:59:47.445  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:59:47.490  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.171 seconds (JVM running for 5.455)
2023-02-16 17:59:47.496  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 17:59:47.602  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 17:59:49.146  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 17:59:49.152  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 17:59:49.543  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 374 ms. Found 14 JPA repository interfaces.
2023-02-16 17:59:49.765  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 17:59:50.578  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 17:59:50.599  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 17:59:50.601  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 17:59:50.757  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 17:59:50.760  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3147 ms
2023-02-16 17:59:50.960  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 17:59:51.129  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 17:59:52.224  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 17:59:52.363  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 17:59:52.532  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 17:59:52.879  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 17:59:53.127  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 17:59:53.263  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 17:59:54.647  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 17:59:54.667  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 17:59:55.963  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 17:59:55.968  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 17:59:55.971  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 17:59:55.972  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 17:59:55.975  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 17:59:55.976  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 17:59:55.977  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 17:59:55.979  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 17:59:56.399  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 17:59:56.404  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 17:59:56.848  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 17:59:57.304  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 17:59:57.631  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 17:59:57.637 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 17:59:57.643 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 17:59:57.945  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 17:59:58.314  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 17:59:58.346  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 17:59:58.359  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 17:59:58.481  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 17:59:58.503  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.999 seconds (JVM running for 16.468)
2023-02-16 17:59:58.569  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:00:02.229  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:00:02.232  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:00:02.238  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:01:50.812  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 250 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:01:50.817  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:01:52.231  INFO 250 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:01:52.677  INFO 250 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:01:53.117  INFO 250 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:01:53.185  WARN 250 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:01:53.230  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.126 seconds (JVM running for 4.254)
2023-02-16 18:01:53.237  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:01:53.316  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:01:54.721  INFO 250 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:01:54.728  INFO 250 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:01:55.028  INFO 250 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 14 JPA repository interfaces.
2023-02-16 18:01:55.201  INFO 250 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:01:55.920  INFO 250 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:01:55.936  INFO 250 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:01:55.939  INFO 250 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:01:56.054  INFO 250 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:01:56.056  INFO 250 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2732 ms
2023-02-16 18:01:56.186  INFO 250 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:01:56.308  INFO 250 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:01:56.891  INFO 250 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:01:56.973  INFO 250 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:01:57.093  INFO 250 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:01:57.472  INFO 250 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:01:57.680  INFO 250 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:01:57.797  WARN 250 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:01:59.150  INFO 250 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:01:59.173  INFO 250 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:02:00.400  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:02:00.404  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:02:00.407  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:02:00.409  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:02:00.414  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:02:00.415  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:02:00.417  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:02:00.418  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:02:01.083  INFO 250 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:02:01.088  INFO 250 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:02:01.502  INFO 250 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:02:01.876  WARN 250 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:02:02.189  INFO 250 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:02:02.282 ERROR 250 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:02:02.286 ERROR 250 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:02:02.541  INFO 250 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:02:03.043  INFO 250 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:02:03.075  WARN 250 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:02:03.087  INFO 250 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:02:03.206  INFO 250 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:02:03.229  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.985 seconds (JVM running for 14.252)
2023-02-16 18:02:03.282  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:02:04.186  INFO 250 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:02:04.191  INFO 250 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:02:04.201  INFO 250 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 18:02:32.809  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:02:32.816  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:02:34.360  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:02:34.881  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:02:35.314  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:02:35.378  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:02:35.419  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.31 seconds (JVM running for 4.412)
2023-02-16 18:02:35.426  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:02:35.508  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:02:36.745  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:02:36.750  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:02:37.046  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 14 JPA repository interfaces.
2023-02-16 18:02:37.215  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:02:37.783  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:02:37.801  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:02:37.803  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:02:37.937  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:02:37.940  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2424 ms
2023-02-16 18:02:38.093  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:02:38.239  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:02:38.822  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:02:38.901  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:02:39.028  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:02:39.345  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:02:39.597  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:02:39.735  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:02:40.970  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:02:40.987  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:02:42.023  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:02:42.026  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:02:42.029  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:02:42.031  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:02:42.033  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:02:42.034  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:02:42.035  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:02:42.036  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:02:42.430  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:02:42.435  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:02:42.832  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:02:43.223  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:02:43.496  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:02:43.661 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:02:43.664 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:02:43.820  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:02:44.138  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:02:44.178  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:02:44.189  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:02:44.333  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:02:44.356  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.923 seconds (JVM running for 13.348)
2023-02-16 18:02:44.411  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:02:46.191  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:02:46.193  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:02:46.197  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:03:20.134  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:03:20.140  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:03:21.490  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:03:21.940  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:03:22.372  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:03:22.474  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:03:22.554  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.176 seconds (JVM running for 4.223)
2023-02-16 18:03:22.565  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:03:22.722  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:03:24.211  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:03:24.217  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:03:24.578  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 347 ms. Found 14 JPA repository interfaces.
2023-02-16 18:03:24.785  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:03:25.657  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:03:25.678  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:03:25.682  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:03:25.820  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:03:25.821  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3085 ms
2023-02-16 18:03:26.009  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:03:26.178  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:03:26.806  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:03:26.884  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:03:27.021  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:03:27.349  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:03:27.563  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:03:27.685  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:03:29.139  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:03:29.156  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:03:30.421  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:03:30.425  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:03:30.427  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:03:30.429  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:03:30.431  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:03:30.432  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:03:30.434  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:03:30.435  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:03:30.977  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:03:30.986  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:03:31.692  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:03:32.291  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:03:32.390 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:03:32.391 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:03:32.600  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:03:32.998  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:03:33.522  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:03:33.553  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:03:33.564  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:03:33.678  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:03:33.700  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.127 seconds (JVM running for 15.368)
2023-02-16 18:03:33.750  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:03:38.491  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:03:38.494  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:03:38.498  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:04:07.458  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:04:07.463  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:04:09.072  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:04:09.576  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:04:10.044  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:04:10.113  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:04:10.162  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.541 seconds (JVM running for 4.789)
2023-02-16 18:04:10.169  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:04:10.266  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:04:11.817  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:04:11.823  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:04:12.110  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 14 JPA repository interfaces.
2023-02-16 18:04:12.283  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:04:12.878  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:04:12.892  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:04:12.894  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:04:13.007  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:04:13.009  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2734 ms
2023-02-16 18:04:13.149  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:04:13.263  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:04:13.897  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:04:13.985  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:04:14.110  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:04:14.394  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:04:14.594  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:04:14.720  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:04:15.959  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:04:15.987  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:04:17.072  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:04:17.075  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:04:17.078  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:04:17.079  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:04:17.082  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:04:17.084  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:04:17.085  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:04:17.086  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:04:17.436  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:04:17.440  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:04:17.804  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:04:18.153  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:04:18.385  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:04:18.627  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:04:18.632 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:04:18.634 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:04:18.907  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:04:18.928  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:04:18.935  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:04:19.035  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:04:19.055  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.879 seconds (JVM running for 13.683)
2023-02-16 18:04:19.104  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:04:20.484  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:04:20.487  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:04:20.493  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:04:49.191  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:04:49.198  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:04:50.920  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:04:51.388  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:04:51.829  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:04:51.901  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:04:51.943  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.902 seconds (JVM running for 5.235)
2023-02-16 18:04:51.949  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:04:52.038  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:04:53.293  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:04:53.299  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:04:53.637  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 320 ms. Found 14 JPA repository interfaces.
2023-02-16 18:04:53.865  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:04:54.652  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:04:54.674  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:04:54.678  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:04:54.862  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:04:54.864  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2819 ms
2023-02-16 18:04:55.036  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:04:55.224  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:04:55.797  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:04:55.895  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:04:56.031  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:04:56.294  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:04:56.530  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:04:56.677  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:04:57.885  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:04:57.901  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:04:58.889  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:04:58.893  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:04:58.896  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:04:58.897  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:04:58.900  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:04:58.901  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:04:58.903  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:04:58.904  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:04:59.311  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:04:59.316  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:04:59.741  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:05:00.159  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:05:00.382  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:05:00.527 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:05:00.531 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:05:00.641  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:05:00.981  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:05:01.012  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:05:01.022  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:05:01.142  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:05:01.162  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.206 seconds (JVM running for 14.453)
2023-02-16 18:05:01.216  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:05:01.850  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:05:01.851  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:05:01.859  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 18:05:42.509  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:05:42.518  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:05:45.457  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:05:46.340  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:05:46.981  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:05:47.055  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:05:47.110  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.756 seconds (JVM running for 7.272)
2023-02-16 18:05:47.117  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:05:47.216  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:05:48.830  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:05:48.837  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:05:49.168  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 310 ms. Found 14 JPA repository interfaces.
2023-02-16 18:05:49.376  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:05:50.230  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:05:50.250  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:05:50.253  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:05:50.505  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:05:50.507  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3280 ms
2023-02-16 18:05:50.939  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:05:51.301  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:05:52.612  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:05:52.928  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:05:53.165  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:05:53.843  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:05:54.295  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:05:54.501  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:05:56.358  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:05:56.390  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:05:59.443  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:05:59.446  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:05:59.453  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:05:59.455  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:05:59.477  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:05:59.479  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:05:59.481  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:05:59.484  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:06:00.212  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:06:00.229  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:06:00.693  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:06:01.194  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:06:01.483 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:06:01.485 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:06:01.536  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:06:02.037  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:06:02.537  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:06:02.583  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:06:02.595  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:06:02.752  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:06:02.798  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 15.675 seconds (JVM running for 22.96)
2023-02-16 18:06:02.937  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:06:05.713  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:06:05.728  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:06:05.734  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:06:40.974  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:06:40.979  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:06:43.226  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:06:43.812  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:06:44.373  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:06:44.504  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:06:44.563  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.728 seconds (JVM running for 6.464)
2023-02-16 18:06:44.576  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:06:44.689  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:06:46.478  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:06:46.487  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:06:47.064  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 555 ms. Found 14 JPA repository interfaces.
2023-02-16 18:06:47.627  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:06:49.206  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:06:49.244  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:06:49.255  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:06:49.509  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:06:49.512  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4810 ms
2023-02-16 18:06:49.810  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:06:50.081  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:06:51.457  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:06:51.677  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:06:51.904  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:06:52.354  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:06:52.909  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:06:53.177  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:06:56.632  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:06:56.684  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:06:59.828  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:06:59.831  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:06:59.835  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:06:59.836  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:06:59.839  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:06:59.841  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:06:59.843  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:06:59.844  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:07:00.295  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:07:00.302  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:07:00.821  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:07:01.266  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:07:01.535  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:07:01.606 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:07:01.610 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:07:01.821  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:07:02.194  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:07:02.220  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:07:02.229  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:07:02.345  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:07:02.365  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 17.778 seconds (JVM running for 24.267)
2023-02-16 18:07:02.431  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:07:03.342  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:07:03.345  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:07:03.349  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:07:31.819  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:07:31.828  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:07:33.276  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:07:33.710  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:07:34.153  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:07:34.609  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:07:34.746  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.627 seconds (JVM running for 4.652)
2023-02-16 18:07:34.769  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:07:34.906  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:07:36.096  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:07:36.101  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:07:36.386  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 272 ms. Found 14 JPA repository interfaces.
2023-02-16 18:07:36.593  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:07:37.144  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:07:37.158  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:07:37.159  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:07:37.278  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:07:37.280  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2366 ms
2023-02-16 18:07:37.422  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:07:37.565  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:07:38.085  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:07:38.163  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:07:38.267  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:07:38.518  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:07:38.713  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:07:38.830  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:07:39.939  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:07:39.956  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:07:40.912  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:07:40.915  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:07:40.917  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:07:40.919  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:07:40.922  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:07:40.923  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:07:40.924  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:07:40.925  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:07:41.304  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:07:41.308  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:07:41.647  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:07:41.967  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:07:42.184  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:07:42.420  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:07:42.495 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:07:42.498 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:07:42.742  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:07:42.764  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:07:42.773  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:07:42.882  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:07:42.930  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.143 seconds (JVM running for 12.83)
2023-02-16 18:07:42.967  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:07:45.209  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:07:45.213  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:07:45.218  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:10:37.218  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 260 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:10:37.226  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:11:29.557  INFO 260 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:11:32.561  INFO 260 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:11:33.348  INFO 260 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:11:33.458  WARN 260 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:11:33.545  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 57.397 seconds (JVM running for 58.904)
2023-02-16 18:11:33.558  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:11:33.727  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:11:35.883  INFO 260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:11:35.891  INFO 260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:11:36.379  INFO 260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 468 ms. Found 14 JPA repository interfaces.
2023-02-16 18:11:36.617  INFO 260 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:11:37.546  INFO 260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:11:37.572  INFO 260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:11:37.576  INFO 260 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:11:37.761  INFO 260 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:11:37.765  INFO 260 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4027 ms
2023-02-16 18:11:37.977  INFO 260 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:11:38.184  INFO 260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:11:40.701  INFO 260 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:11:41.543  INFO 260 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:11:42.581  INFO 260 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:11:44.372  INFO 260 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:11:45.864  INFO 260 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:11:46.641  WARN 260 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:11:55.195  INFO 260 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:11:55.298  INFO 260 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:12:18.728  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:12:18.750  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:12:18.757  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:12:18.760  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:12:18.763  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:12:18.766  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:12:18.769  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:12:18.772  INFO 260 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:12:19.615  INFO 260 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:12:19.625  INFO 260 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:12:20.198  INFO 260 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:12:20.767  WARN 260 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:12:21.190  INFO 260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:12:21.631  INFO 260 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:12:22.158  INFO 260 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:12:22.201  WARN 260 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:12:22.214  INFO 260 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:12:22.381  INFO 260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:12:22.408  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 48.789 seconds (JVM running for 107.717)
2023-02-16 18:12:22.490  INFO 260 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:12:26.942  INFO 260 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:12:26.954  INFO 260 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:12:26.982  INFO 260 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2023-02-16 18:12:27.735  WARN 260 --- [http-nio-8070-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [183] milliseconds.
2023-02-16 18:42:16.169  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 296 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:42:16.176  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:42:18.098  INFO 296 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:42:18.675  INFO 296 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:42:19.216  INFO 296 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:42:19.296  WARN 296 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:42:19.358  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.078 seconds (JVM running for 5.332)
2023-02-16 18:42:19.365  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:42:19.485  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:42:21.277  INFO 296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:42:21.283  INFO 296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:42:21.600  INFO 296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 301 ms. Found 14 JPA repository interfaces.
2023-02-16 18:42:21.822  INFO 296 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:42:22.744  INFO 296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:42:22.768  INFO 296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:42:22.771  INFO 296 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:42:22.952  INFO 296 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:42:22.955  INFO 296 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3459 ms
2023-02-16 18:42:23.203  INFO 296 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:42:23.456  INFO 296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:42:24.199  INFO 296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:42:24.311  INFO 296 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:42:24.497  INFO 296 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:42:24.909  INFO 296 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:42:25.169  INFO 296 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:42:25.347  WARN 296 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:42:27.346  INFO 296 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:42:27.379  INFO 296 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:42:29.079  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:42:29.085  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:42:29.089  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:42:29.092  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:42:29.096  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:42:29.101  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:42:29.103  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:42:29.106  INFO 296 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:42:29.946  INFO 296 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:42:29.954  INFO 296 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:42:30.582  INFO 296 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:42:31.287  WARN 296 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:42:31.290 ERROR 296 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:42:31.293 ERROR 296 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:42:31.648  INFO 296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:42:32.118  INFO 296 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:42:32.691  INFO 296 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:42:32.723  WARN 296 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:42:32.734  INFO 296 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:42:32.884  INFO 296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:42:32.904  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.53 seconds (JVM running for 18.878)
2023-02-16 18:42:32.977  INFO 296 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:42:34.356  INFO 296 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:42:34.360  INFO 296 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:42:34.371  INFO 296 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2023-02-16 18:42:58.364  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:42:58.371  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:43:00.163  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:43:00.736  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:43:01.236  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:43:01.308  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:43:01.351  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.722 seconds (JVM running for 4.821)
2023-02-16 18:43:01.359  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:43:01.443  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:43:02.537  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:43:02.542  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:43:02.792  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 237 ms. Found 14 JPA repository interfaces.
2023-02-16 18:43:02.944  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:43:03.525  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:43:03.542  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:43:03.545  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:43:03.660  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:43:03.662  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2211 ms
2023-02-16 18:43:03.821  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:43:03.996  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:43:04.531  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:43:04.611  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:43:04.704  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:43:04.946  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:43:05.130  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:43:05.234  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:43:06.371  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:43:06.387  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:43:07.340  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:43:07.343  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:43:07.344  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:43:07.346  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:43:07.348  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:43:07.349  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:43:07.349  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:43:07.350  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:43:07.730  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:43:07.734  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:43:08.067  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:43:08.385  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:43:08.610  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:43:08.847  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:43:08.907 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:43:08.910 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:43:09.140  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:43:09.162  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:43:09.170  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:43:09.276  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:43:09.294  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 7.929 seconds (JVM running for 12.764)
2023-02-16 18:43:09.342  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:43:11.643  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:43:11.646  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:43:11.651  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:43:34.676  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:43:34.682  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:43:36.171  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:43:36.649  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:43:37.038  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:43:37.100  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:43:37.141  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.161 seconds (JVM running for 4.15)
2023-02-16 18:43:37.147  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:43:37.237  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:43:38.486  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:43:38.492  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:43:38.820  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 312 ms. Found 14 JPA repository interfaces.
2023-02-16 18:43:39.012  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:43:39.626  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:43:39.643  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:43:39.647  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:43:39.762  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:43:39.763  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2518 ms
2023-02-16 18:43:39.900  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:43:40.059  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:43:40.766  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:43:40.852  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:43:40.958  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:43:41.256  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:43:41.464  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:43:41.591  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:43:42.785  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:43:42.801  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:43:43.919  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:43:43.921  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:43:43.923  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:43:43.924  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:43:43.925  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:43:43.926  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:43:43.927  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:43:43.929  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:43:44.349  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:43:44.354  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:43:44.805  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:43:45.266  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:43:45.527  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:43:45.623 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:43:45.626 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:43:45.826  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:43:46.183  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:43:46.209  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:43:46.219  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:43:46.315  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:43:46.342  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.187 seconds (JVM running for 13.351)
2023-02-16 18:43:46.396  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:43:48.107  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:43:48.109  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:43:48.113  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:44:17.528  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:44:17.538  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:44:19.709  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:44:20.228  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:44:20.696  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:44:20.770  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:44:20.821  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.363 seconds (JVM running for 5.916)
2023-02-16 18:44:20.827  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:44:20.913  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:44:22.106  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:44:22.112  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:44:22.393  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 267 ms. Found 14 JPA repository interfaces.
2023-02-16 18:44:22.545  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:44:23.182  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:44:23.200  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:44:23.202  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:44:23.326  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:44:23.327  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2404 ms
2023-02-16 18:44:23.486  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:44:23.664  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:44:24.355  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:44:24.481  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:44:24.645  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:44:24.962  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:44:25.162  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:44:25.269  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:44:26.557  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:44:26.577  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:44:27.769  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:44:27.771  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:44:27.773  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:44:27.774  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:44:27.777  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:44:27.778  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:44:27.779  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:44:27.780  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:44:28.232  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:44:28.237  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:44:28.744  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:44:29.150  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:44:29.455 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:44:29.456  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:44:29.458 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:44:29.734  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:44:30.098  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:44:30.123  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:44:30.133  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:44:30.270  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:44:30.293  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.458 seconds (JVM running for 15.387)
2023-02-16 18:44:30.356  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:44:35.073  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:44:35.077  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:44:35.084  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 18:45:03.450  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:45:03.457  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:45:05.274  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:45:05.853  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:45:06.333  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:45:06.407  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:45:06.456  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.746 seconds (JVM running for 4.794)
2023-02-16 18:45:06.465  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:45:06.570  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:45:08.157  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:45:08.162  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:45:08.468  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 291 ms. Found 14 JPA repository interfaces.
2023-02-16 18:45:08.767  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:45:09.559  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:45:09.577  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:45:09.580  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:45:09.702  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:45:09.707  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3129 ms
2023-02-16 18:45:09.850  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:45:10.006  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:45:10.722  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:45:10.811  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:45:10.959  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:45:11.345  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:45:11.568  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:45:11.749  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:45:13.936  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:45:13.968  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:45:15.810  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:45:15.812  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:45:15.815  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:45:15.817  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:45:15.819  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:45:15.820  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:45:15.821  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:45:15.822  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:45:16.441  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:45:16.466  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:45:17.039  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:45:17.795 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:45:17.801 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:45:18.282  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:45:19.150  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:45:20.411  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:45:21.297  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:45:21.356  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:45:21.371  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:45:21.548  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:45:21.571  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 15.099 seconds (JVM running for 19.909)
2023-02-16 18:45:21.641  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:45:21.888  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:45:21.890  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:45:21.896  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:45:50.399  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:45:50.406  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:45:51.939  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:45:52.383  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:45:52.871  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:45:52.942  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:45:52.987  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.347 seconds (JVM running for 4.537)
2023-02-16 18:45:53.000  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:45:53.091  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:45:54.336  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:45:54.342  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:45:54.651  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 295 ms. Found 14 JPA repository interfaces.
2023-02-16 18:45:54.861  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:45:55.462  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:45:55.482  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:45:55.486  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:45:55.606  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:45:55.607  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2507 ms
2023-02-16 18:45:55.772  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:45:55.953  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:45:56.518  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:45:56.590  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:45:56.691  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:45:56.950  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:45:57.156  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:45:57.296  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:45:58.695  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:45:58.714  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:45:59.974  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:45:59.978  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:45:59.985  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:45:59.987  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:45:59.992  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:45:59.994  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:45:59.996  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:45:59.999  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:46:00.628  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:46:00.634  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:46:01.322  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:46:01.898  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:46:01.999 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:46:02.001 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:46:02.151  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:46:02.427  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:46:02.781  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:46:02.810  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:46:02.822  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:46:02.943  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:46:02.961  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.954 seconds (JVM running for 14.511)
2023-02-16 18:46:03.017  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:46:03.585  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:46:03.586  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:46:03.591  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:46:32.209  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:46:32.217  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:46:33.888  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:46:34.357  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:46:34.774  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:46:34.840  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:46:34.885  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.61 seconds (JVM running for 4.754)
2023-02-16 18:46:34.891  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:46:34.973  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:46:36.268  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:46:36.273  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:46:36.565  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 14 JPA repository interfaces.
2023-02-16 18:46:36.726  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:46:37.317  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:46:37.332  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:46:37.334  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:46:37.447  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:46:37.449  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2465 ms
2023-02-16 18:46:37.602  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:46:37.753  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:46:38.348  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:46:38.434  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:46:38.557  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:46:38.810  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:46:39.020  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:46:39.127  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:46:40.290  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:46:40.308  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:46:41.301  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:46:41.304  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:46:41.307  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:46:41.307  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:46:41.309  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:46:41.310  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:46:41.312  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:46:41.313  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:46:41.678  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:46:41.683  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:46:42.077  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:46:42.438  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:46:42.671  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:46:42.900 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:46:42.904 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:46:42.939  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:46:43.318  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:46:43.346  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:46:43.356  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:46:43.475  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:46:43.495  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.598 seconds (JVM running for 13.365)
2023-02-16 18:46:43.544  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:46:45.235  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:46:45.238  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:46:45.244  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:47:08.247  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:47:08.254  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:47:09.647  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:47:10.080  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:47:10.462  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:47:10.529  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:47:10.575  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.027 seconds (JVM running for 4.033)
2023-02-16 18:47:10.581  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:47:10.662  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:47:11.855  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:47:11.860  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:47:12.153  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 14 JPA repository interfaces.
2023-02-16 18:47:12.326  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:47:12.918  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:47:12.934  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:47:12.936  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:47:13.063  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:47:13.065  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2394 ms
2023-02-16 18:47:13.233  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:47:13.398  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:47:13.914  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:47:13.994  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:47:14.107  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:47:14.363  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:47:14.586  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:47:14.699  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:47:15.832  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:47:15.850  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:47:16.950  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:47:16.952  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:47:16.954  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:47:16.956  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:47:16.958  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:47:16.959  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:47:16.960  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:47:16.961  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:47:17.367  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:47:17.371  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:47:17.803  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:47:18.197  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:47:18.489  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:47:18.625 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:47:18.629 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:47:18.812  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:47:19.163  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:47:19.202  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:47:19.214  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:47:19.343  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:47:19.367  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.779 seconds (JVM running for 12.825)
2023-02-16 18:47:19.433  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:47:21.651  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:47:21.655  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:47:21.659  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:47:44.889  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:47:44.895  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:47:46.248  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:47:46.686  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:47:47.118  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:47:47.197  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:47:47.257  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.119 seconds (JVM running for 4.247)
2023-02-16 18:47:47.267  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:47:47.363  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:47:48.971  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:47:48.977  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:47:49.524  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 531 ms. Found 14 JPA repository interfaces.
2023-02-16 18:47:49.996  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:47:51.434  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:47:51.536  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:47:51.547  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:47:51.908  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:47:51.911  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4539 ms
2023-02-16 18:47:52.258  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:47:52.504  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:47:55.152  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:47:55.341  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:47:55.578  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:47:56.085  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:47:56.386  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:47:56.573  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:47:58.178  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:47:58.203  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:48:00.079  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:48:00.085  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:48:00.104  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:48:00.137  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:48:00.161  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:48:00.163  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:48:00.165  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:48:00.166  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:48:00.644  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:48:00.660  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:48:01.042  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:48:01.447  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:48:01.711  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:48:01.875 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:48:01.883 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:48:02.029  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:48:02.374  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:48:02.407  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:48:02.426  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:48:02.558  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:48:02.591  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 15.316 seconds (JVM running for 19.58)
2023-02-16 18:48:02.642  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:48:03.164  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:48:03.165  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:48:03.171  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:48:31.592  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:48:31.598  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:48:33.163  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:48:33.655  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:48:34.167  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:48:34.255  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:48:34.317  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.522 seconds (JVM running for 4.689)
2023-02-16 18:48:34.324  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:48:34.421  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:48:35.709  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:48:35.716  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:48:36.095  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 362 ms. Found 14 JPA repository interfaces.
2023-02-16 18:48:36.259  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:48:36.880  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:48:36.908  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:48:36.914  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:48:37.044  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:48:37.047  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2616 ms
2023-02-16 18:48:37.212  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:48:37.378  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:48:37.911  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:48:37.988  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:48:38.105  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:48:38.364  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:48:38.586  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:48:38.700  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:48:39.877  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:48:39.893  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:48:41.092  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:48:41.095  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:48:41.097  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:48:41.099  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:48:41.101  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:48:41.102  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:48:41.104  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:48:41.105  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:48:41.495  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:48:41.501  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:48:41.847  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:48:42.240  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:48:42.514  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:48:42.701 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:48:42.704 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:48:42.806  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:48:43.174  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:48:43.205  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:48:43.215  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:48:43.336  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:48:43.356  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.024 seconds (JVM running for 13.729)
2023-02-16 18:48:43.415  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:48:44.734  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:48:44.736  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:48:44.740  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:49:12.816  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:49:12.822  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:49:14.510  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:49:14.988  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:49:15.399  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:49:15.474  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:49:15.517  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.399 seconds (JVM running for 4.429)
2023-02-16 18:49:15.524  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:49:15.612  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:49:16.876  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:49:16.891  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:49:17.238  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 317 ms. Found 14 JPA repository interfaces.
2023-02-16 18:49:17.460  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:49:18.040  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:49:18.055  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:49:18.058  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:49:18.164  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:49:18.165  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2544 ms
2023-02-16 18:49:18.278  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:49:18.392  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:49:18.957  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:49:19.047  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:49:19.155  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:49:19.429  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:49:19.623  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:49:19.738  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:49:21.090  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:49:21.107  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:49:22.287  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:49:22.289  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:49:22.292  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:49:22.293  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:49:22.295  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:49:22.297  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:49:22.298  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:49:22.299  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:49:22.695  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:49:22.702  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:49:23.048  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:49:23.424  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:49:23.713  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:49:23.899 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:49:23.904 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:49:23.980  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:49:24.416  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:49:24.456  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:49:24.469  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:49:24.597  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:49:24.636  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.104 seconds (JVM running for 13.549)
2023-02-16 18:49:24.686  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:49:26.278  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:49:26.282  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:49:26.286  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:49:49.971  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:49:49.976  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:49:51.714  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:49:52.165  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:49:52.605  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:49:52.668  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:49:52.711  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.454 seconds (JVM running for 4.549)
2023-02-16 18:49:52.717  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:49:52.797  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:49:53.991  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:49:53.997  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:49:54.356  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 340 ms. Found 14 JPA repository interfaces.
2023-02-16 18:49:54.578  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:49:55.278  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:49:55.296  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:49:55.299  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:49:55.439  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:49:55.441  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2635 ms
2023-02-16 18:49:55.613  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:49:55.816  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:49:56.436  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:49:56.531  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:49:56.659  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:49:56.969  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:49:57.178  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:49:57.302  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:49:58.662  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:49:58.681  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:49:59.815  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:49:59.818  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:49:59.822  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:49:59.823  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:49:59.825  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:49:59.827  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:49:59.828  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:49:59.829  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:50:00.266  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:50:00.271  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:50:00.775  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:50:01.278  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:50:01.505 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:50:01.507 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:50:01.539  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:50:01.813  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:50:02.157  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:50:02.189  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:50:02.201  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:50:02.322  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:50:02.345  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.62 seconds (JVM running for 14.183)
2023-02-16 18:50:02.394  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:50:03.268  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:50:03.271  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:50:03.275  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:50:31.430  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:50:31.439  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:50:32.907  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:50:33.355  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:50:33.757  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:50:33.821  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:50:33.865  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.11 seconds (JVM running for 4.109)
2023-02-16 18:50:33.871  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:50:33.951  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:50:35.172  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:50:35.177  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:50:35.499  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 310 ms. Found 14 JPA repository interfaces.
2023-02-16 18:50:35.687  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:50:36.253  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:50:36.267  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:50:36.269  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:50:36.371  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:50:36.373  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2414 ms
2023-02-16 18:50:36.518  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:50:36.686  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:50:37.212  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:50:37.289  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:50:37.391  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:50:37.703  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:50:37.913  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:50:38.026  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:50:39.153  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:50:39.168  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:50:40.141  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:50:40.144  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:50:40.147  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:50:40.148  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:50:40.150  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:50:40.151  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:50:40.152  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:50:40.153  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:50:40.489  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:50:40.493  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:50:40.877  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:50:41.231  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:50:41.444  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:50:41.696 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:50:41.697 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:50:41.703  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:50:42.022  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:50:42.045  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:50:42.055  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:50:42.159  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:50:42.180  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.303 seconds (JVM running for 12.423)
2023-02-16 18:50:42.225  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:50:44.862  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:50:44.864  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:50:44.869  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:51:13.089  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:51:13.097  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:51:14.932  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:51:15.777  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:51:16.646  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:51:16.795  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:51:16.877  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.558 seconds (JVM running for 5.596)
2023-02-16 18:51:16.891  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:51:17.027  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:51:19.336  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:51:19.343  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:51:19.667  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 310 ms. Found 14 JPA repository interfaces.
2023-02-16 18:51:19.874  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:51:20.558  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:51:20.578  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:51:20.581  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:51:20.707  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:51:20.710  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3672 ms
2023-02-16 18:51:20.891  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:51:21.083  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:51:21.715  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:51:21.792  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:51:21.908  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:51:22.263  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:51:22.500  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:51:22.618  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:51:23.940  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:51:23.959  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:51:25.107  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:51:25.110  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:51:25.112  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:51:25.113  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:51:25.115  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:51:25.116  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:51:25.117  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:51:25.118  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:51:25.522  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:51:25.527  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:51:25.968  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:51:26.417  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:51:26.721  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:51:26.768 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:51:26.773 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:51:27.025  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:51:27.419  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:51:27.448  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:51:27.460  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:51:27.584  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:51:27.604  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.703 seconds (JVM running for 16.322)
2023-02-16 18:51:27.654  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:51:31.431  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:51:31.434  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:51:31.438  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:51:59.649  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:51:59.655  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:52:01.047  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:52:01.576  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:52:02.014  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:52:02.081  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:52:02.126  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.206 seconds (JVM running for 4.29)
2023-02-16 18:52:02.133  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:52:02.219  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:52:03.517  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:52:03.523  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:52:03.831  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 294 ms. Found 14 JPA repository interfaces.
2023-02-16 18:52:04.055  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:52:04.735  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:52:04.752  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:52:04.755  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:52:04.864  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:52:04.866  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2637 ms
2023-02-16 18:52:05.033  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:52:05.194  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:52:05.775  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:52:05.914  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:52:06.033  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:52:06.339  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:52:06.564  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:52:06.714  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:52:07.995  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:52:08.012  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:52:09.169  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:52:09.172  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:52:09.174  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:52:09.176  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:52:09.179  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:52:09.180  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:52:09.182  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:52:09.183  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:52:09.603  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:52:09.608  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:52:09.989  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:52:10.397  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:52:10.639  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:52:10.830 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:52:10.833 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:52:10.894  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:52:11.238  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:52:11.273  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:52:11.284  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:52:11.413  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:52:11.434  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.296 seconds (JVM running for 13.598)
2023-02-16 18:52:11.483  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:52:12.947  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:52:12.951  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:52:12.957  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 18:52:41.419  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:52:41.425  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:52:42.811  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:52:43.430  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:52:43.969  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:52:44.063  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:52:44.122  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.46 seconds (JVM running for 4.535)
2023-02-16 18:52:44.132  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:52:44.261  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:52:45.753  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:52:45.760  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:52:46.117  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 337 ms. Found 14 JPA repository interfaces.
2023-02-16 18:52:46.338  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:52:47.018  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:52:47.037  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:52:47.040  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:52:47.172  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:52:47.174  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2899 ms
2023-02-16 18:52:47.358  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:52:47.531  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:52:48.186  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:52:48.274  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:52:48.433  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:52:48.747  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:52:49.005  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:52:49.151  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:52:50.680  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:52:50.698  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:52:51.786  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:52:51.789  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:52:51.791  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:52:51.792  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:52:51.794  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:52:51.795  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:52:51.796  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:52:51.797  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:52:52.186  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:52:52.191  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:52:52.625  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:52:53.152  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:52:53.425 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:52:53.428 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:52:53.494  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:52:53.801  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:52:54.156  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:52:54.189  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:52:54.202  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:52:54.351  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:52:54.372  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.231 seconds (JVM running for 14.785)
2023-02-16 18:52:54.451  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:52:54.732  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:52:54.734  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:52:54.739  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:53:23.066  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:53:23.073  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:53:24.610  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:53:25.077  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:53:25.564  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:53:25.649  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:53:25.695  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.427 seconds (JVM running for 4.479)
2023-02-16 18:53:25.703  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:53:25.806  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:53:27.094  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:53:27.099  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:53:27.386  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 14 JPA repository interfaces.
2023-02-16 18:53:27.589  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:53:28.291  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:53:28.308  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:53:28.312  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:53:28.459  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:53:28.461  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2642 ms
2023-02-16 18:53:28.663  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:53:28.860  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:53:29.458  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:53:29.535  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:53:29.640  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:53:29.925  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:53:30.146  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:53:30.259  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:53:31.611  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:53:31.631  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:53:32.773  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:53:32.777  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:53:32.779  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:53:32.780  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:53:32.782  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:53:32.783  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:53:32.785  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:53:32.786  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:53:33.229  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:53:33.235  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:53:33.678  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:53:34.081  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:53:34.366  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:53:34.482 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:53:34.485 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:53:34.680  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:53:35.026  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:53:35.052  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:53:35.062  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:53:35.178  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:53:35.197  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.486 seconds (JVM running for 13.981)
2023-02-16 18:53:35.241  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:53:36.344  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:53:36.347  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:53:36.353  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:54:04.667  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:54:04.674  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:54:06.243  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:54:06.729  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:54:07.207  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:54:07.292  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:54:07.344  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.533 seconds (JVM running for 4.643)
2023-02-16 18:54:07.351  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:54:07.448  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:54:08.896  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:54:08.902  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:54:09.257  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 337 ms. Found 14 JPA repository interfaces.
2023-02-16 18:54:09.495  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:54:10.356  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:54:10.374  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:54:10.377  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:54:10.507  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:54:10.509  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3053 ms
2023-02-16 18:54:10.693  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:54:10.863  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:54:11.557  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:54:11.687  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:54:11.831  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:54:12.208  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:54:12.530  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:54:12.768  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:54:14.313  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:54:14.330  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:54:15.549  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:54:15.554  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:54:15.557  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:54:15.558  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:54:15.562  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:54:15.563  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:54:15.564  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:54:15.566  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:54:15.959  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:54:15.964  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:54:16.418  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:54:16.784  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:54:17.053  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:54:17.242 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:54:17.246 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:54:17.313  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:54:17.597  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:54:17.618  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:54:17.625  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:54:17.722  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:54:17.740  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.381 seconds (JVM running for 15.039)
2023-02-16 18:54:17.791  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:54:17.845  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:54:17.846  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:54:17.852  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:54:46.482  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:54:46.490  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:54:48.249  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:54:48.781  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:54:49.236  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:54:49.309  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:54:49.356  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.76 seconds (JVM running for 5.116)
2023-02-16 18:54:49.363  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:54:49.455  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:54:51.010  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:54:51.015  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:54:51.324  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 295 ms. Found 14 JPA repository interfaces.
2023-02-16 18:54:51.489  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:54:52.186  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:54:52.208  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:54:52.211  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:54:52.365  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:54:52.367  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2903 ms
2023-02-16 18:54:52.534  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:54:52.697  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:54:53.340  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:54:53.455  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:54:53.562  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:54:53.895  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:54:54.154  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:54:54.355  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:54:56.071  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:54:56.100  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:54:57.171  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:54:57.173  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:54:57.177  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:54:57.178  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:54:57.180  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:54:57.181  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:54:57.182  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:54:57.183  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:54:57.554  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:54:57.558  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:54:57.996  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:54:58.395  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:54:58.638  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:54:58.764 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:54:58.767 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:54:58.886  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:54:59.178  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:54:59.220  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:54:59.234  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:54:59.370  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:54:59.409  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.04 seconds (JVM running for 15.169)
2023-02-16 18:54:59.471  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:55:04.388  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:55:04.393  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:55:04.401  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 18:55:32.715  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:55:32.726  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:55:34.368  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:55:34.855  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:55:35.276  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:55:35.344  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:55:35.383  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.35 seconds (JVM running for 4.375)
2023-02-16 18:55:35.389  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:55:35.471  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:55:36.687  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:55:36.693  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:55:36.965  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 259 ms. Found 14 JPA repository interfaces.
2023-02-16 18:55:37.124  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:55:37.682  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:55:37.695  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:55:37.697  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:55:37.805  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:55:37.806  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2326 ms
2023-02-16 18:55:37.958  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:55:38.090  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:55:38.684  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:55:38.760  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:55:38.863  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:55:39.129  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:55:39.346  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:55:39.470  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:55:40.653  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:55:40.670  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:55:41.606  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:55:41.609  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:55:41.612  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:55:41.613  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:55:41.615  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:55:41.617  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:55:41.618  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:55:41.619  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:55:42.033  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:55:42.039  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:55:42.438  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:55:42.835  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:55:43.151  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:55:43.236 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:55:43.239 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:55:43.433  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:55:43.755  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:55:43.781  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:55:43.791  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:55:43.919  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:55:43.939  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.55 seconds (JVM running for 12.938)
2023-02-16 18:55:43.999  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:55:46.117  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:55:46.120  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:55:46.125  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:56:14.259  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:56:14.269  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:56:15.902  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:56:16.364  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:56:16.807  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:56:16.879  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:56:16.922  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.347 seconds (JVM running for 4.377)
2023-02-16 18:56:16.929  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:56:17.016  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:56:18.343  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:56:18.348  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:56:18.636  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 273 ms. Found 14 JPA repository interfaces.
2023-02-16 18:56:18.801  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:56:19.399  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:56:19.415  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:56:19.417  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:56:19.534  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:56:19.535  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2510 ms
2023-02-16 18:56:19.690  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:56:19.857  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:56:20.379  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:56:20.455  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:56:20.575  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:56:20.845  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:56:21.058  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:56:21.184  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:56:22.412  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:56:22.427  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:56:23.446  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:56:23.449  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:56:23.452  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:56:23.454  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:56:23.457  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:56:23.458  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:56:23.460  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:56:23.461  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:56:23.858  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:56:23.862  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:56:24.272  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:56:24.709  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:56:24.967  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:56:25.089 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:56:25.094 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:56:25.275  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:56:25.630  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:56:25.666  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:56:25.680  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:56:25.814  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:56:25.836  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.902 seconds (JVM running for 13.292)
2023-02-16 18:56:25.893  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:56:27.645  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:56:27.647  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:56:27.652  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:56:55.866  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:56:55.873  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:56:57.630  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:56:58.139  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:56:58.672  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:56:58.735  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:56:58.779  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.63 seconds (JVM running for 4.712)
2023-02-16 18:56:58.785  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:56:58.867  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:57:00.540  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:57:00.548  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:57:00.912  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 341 ms. Found 14 JPA repository interfaces.
2023-02-16 18:57:01.129  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:57:01.770  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:57:01.785  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:57:01.788  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:57:01.913  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:57:01.915  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3038 ms
2023-02-16 18:57:02.117  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:57:02.276  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:57:02.884  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:57:02.979  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:57:03.091  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:57:03.354  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:57:03.621  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:57:03.737  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:57:05.051  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:57:05.073  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:57:06.181  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:57:06.184  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:57:06.186  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:57:06.187  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:57:06.190  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:57:06.192  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:57:06.193  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:57:06.194  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:57:06.619  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:57:06.625  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:57:07.049  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:57:07.446  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:57:07.821  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:57:07.846 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:57:07.849 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:57:08.201  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:57:08.548  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:57:08.582  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:57:08.599  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:57:08.703  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:57:08.748  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.957 seconds (JVM running for 14.682)
2023-02-16 18:57:08.792  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:57:09.228  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:57:09.231  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:57:09.236  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:57:32.497  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:57:32.503  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:57:34.109  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:57:34.648  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:57:35.141  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:57:35.231  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:57:35.285  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.509 seconds (JVM running for 4.585)
2023-02-16 18:57:35.291  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:57:35.381  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:57:36.714  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:57:36.720  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:57:37.025  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 292 ms. Found 14 JPA repository interfaces.
2023-02-16 18:57:37.199  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:57:37.778  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:57:37.792  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:57:37.794  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:57:37.901  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:57:37.903  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2513 ms
2023-02-16 18:57:38.025  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:57:38.140  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:57:38.730  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:57:38.878  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:57:38.986  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:57:39.294  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:57:39.526  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:57:39.644  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:57:40.815  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:57:40.834  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:57:41.895  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:57:41.897  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:57:41.900  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:57:41.901  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:57:41.904  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:57:41.905  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:57:41.906  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:57:41.907  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:57:42.326  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:57:42.331  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:57:42.682  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:57:43.049  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:57:43.301  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:57:43.521 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:57:43.524 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:57:43.560  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:57:43.892  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:57:43.921  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:57:43.933  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:57:44.052  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:57:44.073  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.77 seconds (JVM running for 13.373)
2023-02-16 18:57:44.121  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:57:45.805  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:57:45.808  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:57:45.813  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 18:58:09.047  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 237 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:58:09.054  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:58:10.615  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:58:11.127  INFO 237 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:58:11.554  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:58:11.626  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:58:11.673  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.383 seconds (JVM running for 4.567)
2023-02-16 18:58:11.684  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:58:11.769  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:58:13.011  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:58:13.018  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:58:13.399  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 361 ms. Found 14 JPA repository interfaces.
2023-02-16 18:58:13.579  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:58:14.291  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:58:14.311  INFO 237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:58:14.314  INFO 237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:58:14.480  INFO 237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:58:14.483  INFO 237 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2705 ms
2023-02-16 18:58:14.703  INFO 237 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:58:14.876  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:58:15.648  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:58:15.734  INFO 237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:58:15.874  INFO 237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:58:16.182  INFO 237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:58:16.652  INFO 237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:58:16.809  WARN 237 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:58:18.301  INFO 237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:58:18.319  INFO 237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:58:19.477  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:58:19.481  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:58:19.483  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:58:19.484  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:58:19.487  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:58:19.489  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:58:19.491  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:58:19.492  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:58:19.955  INFO 237 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:58:19.961  INFO 237 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:58:20.440  INFO 237 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:58:20.902  WARN 237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:58:21.180  INFO 237 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:58:21.228 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:58:21.232 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:58:21.559  INFO 237 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:58:21.935  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:58:21.959  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:58:21.969  INFO 237 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:58:22.082  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:58:22.104  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.413 seconds (JVM running for 14.998)
2023-02-16 18:58:22.166  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:58:22.270  INFO 237 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:58:22.272  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:58:22.277  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:58:50.888  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:58:50.894  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:58:52.519  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:58:52.998  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:58:53.426  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:58:53.504  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:58:53.548  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.424 seconds (JVM running for 4.424)
2023-02-16 18:58:53.555  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:58:53.653  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:58:54.912  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:58:54.918  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:58:55.172  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 14 JPA repository interfaces.
2023-02-16 18:58:55.338  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:58:55.936  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:58:55.952  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:58:55.953  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:58:56.069  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:58:56.071  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2410 ms
2023-02-16 18:58:56.215  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:58:56.354  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:58:56.922  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:58:56.994  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:58:57.091  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:58:57.350  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:58:57.587  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:58:57.709  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:58:58.880  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:58:58.896  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:58:59.935  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:58:59.938  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:58:59.940  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:58:59.941  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:58:59.942  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:58:59.944  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:58:59.945  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:58:59.946  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:59:00.388  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:59:00.394  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:59:00.744  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:59:01.200  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:59:01.416  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:59:01.595 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:59:01.600 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:59:01.661  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:59:01.953  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:59:01.976  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:59:01.984  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:59:02.083  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:59:02.102  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.539 seconds (JVM running for 12.978)
2023-02-16 18:59:02.144  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:59:04.256  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:59:04.258  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:59:04.263  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 18:59:27.391  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 18:59:27.397  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:59:28.890  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 18:59:29.419  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 18:59:29.880  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:59:29.970  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:59:30.028  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.328 seconds (JVM running for 4.366)
2023-02-16 18:59:30.037  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 18:59:30.142  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 18:59:31.587  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 18:59:31.593  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 18:59:31.913  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 305 ms. Found 14 JPA repository interfaces.
2023-02-16 18:59:32.089  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 18:59:32.801  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 18:59:32.817  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 18:59:32.820  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 18:59:32.943  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 18:59:32.945  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2792 ms
2023-02-16 18:59:33.116  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 18:59:33.291  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 18:59:33.908  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 18:59:33.993  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 18:59:34.110  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 18:59:34.436  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 18:59:34.694  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 18:59:34.838  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 18:59:36.169  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 18:59:36.187  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 18:59:37.164  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 18:59:37.166  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 18:59:37.169  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 18:59:37.170  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 18:59:37.172  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 18:59:37.173  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 18:59:37.174  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 18:59:37.175  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 18:59:37.521  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 18:59:37.525  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 18:59:37.896  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 18:59:38.264  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 18:59:38.545  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 18:59:38.721 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 18:59:38.722 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 18:59:38.851  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 18:59:39.202  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 18:59:39.231  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 18:59:39.241  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 18:59:39.364  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 18:59:39.387  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.341 seconds (JVM running for 13.726)
2023-02-16 18:59:39.440  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 18:59:40.789  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 18:59:40.791  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 18:59:40.796  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:00:08.988  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:00:08.995  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:00:10.649  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:00:11.157  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:00:11.638  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:00:11.716  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:00:11.768  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.581 seconds (JVM running for 4.62)
2023-02-16 19:00:11.777  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:00:11.867  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:00:13.233  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:00:13.239  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:00:13.610  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 355 ms. Found 14 JPA repository interfaces.
2023-02-16 19:00:13.809  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:00:14.498  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:00:14.520  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:00:14.524  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:00:14.675  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:00:14.677  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2802 ms
2023-02-16 19:00:14.892  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:00:15.092  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:00:15.775  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:00:15.889  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:00:16.023  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:00:16.384  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:00:16.630  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:00:16.763  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:00:18.197  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:00:18.217  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:00:19.381  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:00:19.384  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:00:19.386  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:00:19.387  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:00:19.389  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:00:19.391  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:00:19.392  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:00:19.393  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:00:19.720  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:00:19.725  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:00:20.045  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:00:20.377  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:00:20.651  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:00:20.896 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:00:20.898 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:00:20.929  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:00:21.261  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:00:21.287  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:00:21.297  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:00:21.411  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:00:21.430  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.646 seconds (JVM running for 14.282)
2023-02-16 19:00:21.480  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:00:22.271  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:00:22.273  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:00:22.278  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:00:46.107  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:00:46.115  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:00:47.864  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:00:48.428  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:00:48.877  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:00:48.952  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:00:49.005  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.849 seconds (JVM running for 5.152)
2023-02-16 19:00:49.014  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:00:49.121  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:00:50.730  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:00:50.735  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:00:51.087  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 337 ms. Found 14 JPA repository interfaces.
2023-02-16 19:00:51.376  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:00:52.052  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:00:52.071  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:00:52.074  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:00:52.216  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:00:52.218  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3087 ms
2023-02-16 19:00:52.368  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:00:52.492  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:00:53.107  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:00:53.197  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:00:53.311  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:00:53.663  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:00:53.887  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:00:54.009  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:00:55.419  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:00:55.441  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:00:56.807  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:00:56.810  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:00:56.812  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:00:56.814  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:00:56.816  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:00:56.817  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:00:56.819  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:00:56.820  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:00:57.229  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:00:57.235  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:00:57.650  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:00:58.074  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:00:58.350  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:00:58.455 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:00:58.462 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:00:58.620  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:00:58.941  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:00:58.965  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:00:58.975  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:00:59.079  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:00:59.097  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.076 seconds (JVM running for 15.244)
2023-02-16 19:00:59.145  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:01:03.991  INFO 236 --- [http-nio-8070-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:01:03.994  INFO 236 --- [http-nio-8070-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:01:04.001  INFO 236 --- [http-nio-8070-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:01:27.492  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 231 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:01:27.498  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:01:29.050  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:01:29.511  INFO 231 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:01:29.956  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:01:30.035  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:01:30.082  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.345 seconds (JVM running for 4.535)
2023-02-16 19:01:30.089  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:01:30.174  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:01:31.466  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:01:31.471  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:01:31.763  INFO 231 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 14 JPA repository interfaces.
2023-02-16 19:01:31.936  INFO 231 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:01:32.580  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:01:32.595  INFO 231 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:01:32.599  INFO 231 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:01:32.717  INFO 231 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:01:32.719  INFO 231 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2533 ms
2023-02-16 19:01:32.874  INFO 231 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:01:33.038  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:01:33.553  INFO 231 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:01:33.643  INFO 231 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:01:33.757  INFO 231 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:01:34.005  INFO 231 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:01:34.210  INFO 231 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:01:34.323  WARN 231 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:01:35.522  INFO 231 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:01:35.538  INFO 231 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:01:36.632  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:01:36.635  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:01:36.637  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:01:36.638  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:01:36.640  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:01:36.642  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:01:36.644  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:01:36.646  INFO 231 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:01:37.049  INFO 231 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:01:37.055  INFO 231 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:01:37.428  INFO 231 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:01:37.797  WARN 231 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:01:38.049  INFO 231 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:01:38.277 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:01:38.279 ERROR 231 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:01:38.364  INFO 231 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:01:38.693  INFO 231 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:01:38.728  WARN 231 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:01:38.738  INFO 231 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:01:38.853  INFO 231 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:01:38.873  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.777 seconds (JVM running for 13.326)
2023-02-16 19:01:38.914  INFO 231 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:01:40.691  INFO 231 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:01:40.713  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:01:40.738  INFO 231 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:02:04.025  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:02:04.031  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:02:05.684  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:02:06.188  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:02:06.615  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:02:06.704  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:02:06.777  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.507 seconds (JVM running for 4.559)
2023-02-16 19:02:06.787  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:02:06.894  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:02:08.255  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:02:08.262  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:02:08.625  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 344 ms. Found 14 JPA repository interfaces.
2023-02-16 19:02:08.791  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:02:09.470  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:02:09.490  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:02:09.493  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:02:09.665  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:02:09.667  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2764 ms
2023-02-16 19:02:09.844  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:02:10.017  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:02:10.606  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:02:10.694  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:02:10.813  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:02:11.085  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:02:11.312  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:02:11.425  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:02:12.745  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:02:12.764  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:02:13.915  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:02:13.919  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:02:13.922  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:02:13.923  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:02:13.926  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:02:13.928  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:02:13.930  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:02:13.931  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:02:14.421  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:02:14.428  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:02:14.802  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:02:15.133  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:02:15.352  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:02:15.596  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:02:15.634 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:02:15.637 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:02:16.008  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:02:16.036  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:02:16.045  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:02:16.164  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:02:16.186  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.388 seconds (JVM running for 13.967)
2023-02-16 19:02:16.228  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:02:17.353  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:02:17.356  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:02:17.361  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:02:45.980  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:02:45.987  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:02:47.820  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:02:48.390  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:02:48.883  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:02:48.960  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:02:49.008  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.825 seconds (JVM running for 5.08)
2023-02-16 19:02:49.015  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:02:49.102  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:02:50.555  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:02:50.561  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:02:50.874  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 14 JPA repository interfaces.
2023-02-16 19:02:51.035  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:02:51.643  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:02:51.659  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:02:51.661  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:02:51.777  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:02:51.779  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2669 ms
2023-02-16 19:02:51.930  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:02:52.102  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:02:52.774  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:02:52.857  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:02:53.038  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:02:53.372  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:02:53.612  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:02:53.761  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:02:55.042  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:02:55.060  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:02:56.254  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:02:56.256  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:02:56.259  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:02:56.260  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:02:56.262  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:02:56.264  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:02:56.265  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:02:56.266  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:02:56.646  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:02:56.651  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:02:57.024  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:02:57.396  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:02:57.627  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:02:57.848 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:02:57.850 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:02:57.857  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:02:58.178  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:02:58.204  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:02:58.215  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:02:58.332  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:02:58.350  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.328 seconds (JVM running for 14.422)
2023-02-16 19:02:58.396  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:02:59.054  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:02:59.056  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:02:59.061  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:03:27.345  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:03:27.351  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:03:29.046  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:03:29.658  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:03:30.235  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:03:30.309  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:03:30.355  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.737 seconds (JVM running for 4.992)
2023-02-16 19:03:30.361  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:03:30.450  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:03:32.131  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:03:32.136  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:03:32.461  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 312 ms. Found 14 JPA repository interfaces.
2023-02-16 19:03:32.655  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:03:33.447  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:03:33.470  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:03:33.474  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:03:33.707  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:03:33.709  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3228 ms
2023-02-16 19:03:33.886  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:03:34.086  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:03:34.607  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:03:34.850  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:03:34.977  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:03:35.309  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:03:35.539  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:03:35.664  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:03:36.972  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:03:37.008  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:03:38.352  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:03:38.356  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:03:38.362  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:03:38.365  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:03:38.369  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:03:38.371  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:03:38.372  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:03:38.373  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:03:38.819  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:03:38.824  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:03:39.210  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:03:39.638  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:03:39.887  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:03:40.020 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:03:40.025 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:03:40.207  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:03:40.645  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:03:40.684  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:03:40.701  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:03:40.890  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:03:40.914  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.546 seconds (JVM running for 15.551)
2023-02-16 19:03:40.970  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:03:45.480  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:03:45.484  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:03:45.489  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:04:13.835  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:04:13.841  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:04:15.621  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:04:16.084  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:04:16.533  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:04:16.647  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:04:16.769  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.794 seconds (JVM running for 4.886)
2023-02-16 19:04:16.778  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:04:16.905  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:04:18.548  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:04:18.554  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:04:18.954  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 384 ms. Found 14 JPA repository interfaces.
2023-02-16 19:04:19.140  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:04:19.851  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:04:19.868  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:04:19.871  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:04:19.983  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:04:19.985  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3071 ms
2023-02-16 19:04:20.118  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:04:20.259  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:04:20.870  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:04:20.967  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:04:21.126  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:04:21.624  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:04:21.885  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:04:22.029  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:04:23.315  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:04:23.336  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:04:24.530  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:04:24.532  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:04:24.536  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:04:24.537  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:04:24.540  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:04:24.541  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:04:24.544  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:04:24.546  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:04:25.021  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:04:25.027  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:04:25.657  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:04:26.084  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:04:26.319 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:04:26.321 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:04:26.359  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:04:26.608  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:04:26.963  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:04:26.988  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:04:26.998  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:04:27.111  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:04:27.133  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.345 seconds (JVM running for 15.25)
2023-02-16 19:04:27.192  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:04:32.026  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:04:32.030  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:04:32.035  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:05:00.498  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:05:00.503  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:05:02.263  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:05:02.897  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:05:03.701  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:05:03.827  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:05:03.900  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.164 seconds (JVM running for 5.355)
2023-02-16 19:05:03.917  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:05:04.107  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:05:05.917  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:05:05.923  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:05:06.391  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 450 ms. Found 14 JPA repository interfaces.
2023-02-16 19:05:06.720  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:05:07.332  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:05:07.349  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:05:07.352  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:05:07.463  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:05:07.465  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3347 ms
2023-02-16 19:05:07.599  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:05:07.714  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:05:08.326  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:05:08.404  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:05:08.506  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:05:08.774  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:05:08.972  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:05:09.087  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:05:10.281  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:05:10.301  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:05:11.269  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:05:11.271  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:05:11.274  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:05:11.275  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:05:11.277  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:05:11.278  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:05:11.279  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:05:11.280  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:05:11.606  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:05:11.611  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:05:11.937  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:05:12.275  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:05:12.525  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:05:12.788  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:05:12.789 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:05:12.791 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:05:13.175  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:05:13.204  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:05:13.214  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:05:13.321  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:05:13.338  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.409 seconds (JVM running for 14.793)
2023-02-16 19:05:13.386  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:05:13.677  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:05:13.679  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:05:13.684  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:05:42.598  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:05:42.605  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:05:45.182  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:05:46.260  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:05:46.881  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:05:46.996  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:05:47.070  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.631 seconds (JVM running for 6.86)
2023-02-16 19:05:47.084  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:05:47.247  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:05:49.127  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:05:49.133  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:05:49.538  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 391 ms. Found 14 JPA repository interfaces.
2023-02-16 19:05:49.756  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:05:50.458  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:05:50.477  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:05:50.481  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:05:50.609  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:05:50.611  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3352 ms
2023-02-16 19:05:50.796  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:05:50.960  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:05:51.634  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:05:51.716  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:05:51.835  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:05:52.148  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:05:52.402  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:05:52.558  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:05:53.847  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:05:53.864  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:05:55.282  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:05:55.285  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:05:55.287  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:05:55.288  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:05:55.291  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:05:55.293  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:05:55.296  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:05:55.297  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:05:55.719  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:05:55.724  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:05:56.151  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:05:56.585  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:05:56.864  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:05:56.944 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:05:56.949 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:05:57.173  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:05:57.643  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:05:57.677  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:05:57.688  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:05:57.852  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:05:57.873  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.776 seconds (JVM running for 17.664)
2023-02-16 19:05:57.928  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:06:00.381  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:06:00.384  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:06:00.390  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:06:28.803  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:06:28.809  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:06:30.467  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:06:30.948  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:06:31.414  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:06:31.483  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:06:31.534  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.535 seconds (JVM running for 4.627)
2023-02-16 19:06:31.541  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:06:31.631  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:06:32.986  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:06:32.993  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:06:33.325  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 312 ms. Found 14 JPA repository interfaces.
2023-02-16 19:06:33.523  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:06:34.333  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:06:34.358  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:06:34.365  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:06:34.519  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:06:34.521  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2882 ms
2023-02-16 19:06:34.695  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:06:34.853  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:06:35.457  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:06:35.542  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:06:35.662  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:06:35.972  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:06:36.196  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:06:36.324  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:06:37.643  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:06:37.662  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:06:38.706  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:06:38.709  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:06:38.714  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:06:38.716  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:06:38.718  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:06:38.719  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:06:38.720  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:06:38.721  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:06:39.074  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:06:39.080  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:06:39.447  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:06:39.852  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:06:40.124  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:06:40.278 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:06:40.280 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:06:40.433  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:06:40.794  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:06:40.823  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:06:40.835  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:06:40.957  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:06:40.986  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.437 seconds (JVM running for 14.079)
2023-02-16 19:06:41.042  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:06:42.039  INFO 242 --- [http-nio-8070-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:06:42.042  INFO 242 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:06:42.046  INFO 242 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:07:10.499  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:07:10.505  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:07:12.106  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:07:12.638  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:07:13.095  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:07:13.170  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:07:13.222  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.517 seconds (JVM running for 4.723)
2023-02-16 19:07:13.231  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:07:13.321  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:07:14.855  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:07:14.861  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:07:15.201  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 14 JPA repository interfaces.
2023-02-16 19:07:15.396  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:07:16.037  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:07:16.053  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:07:16.056  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:07:16.186  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:07:16.188  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2859 ms
2023-02-16 19:07:16.350  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:07:16.504  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:07:17.104  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:07:17.189  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:07:17.309  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:07:17.614  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:07:17.836  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:07:17.957  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:07:19.209  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:07:19.226  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:07:20.353  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:07:20.356  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:07:20.359  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:07:20.361  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:07:20.364  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:07:20.365  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:07:20.367  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:07:20.368  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:07:20.776  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:07:20.781  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:07:21.165  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:07:21.544  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:07:21.804  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:07:21.982 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:07:21.985 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:07:22.086  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:07:22.425  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:07:22.450  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:07:22.460  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:07:22.558  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:07:22.577  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.34 seconds (JVM running for 14.078)
2023-02-16 19:07:22.624  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:07:23.621  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:07:23.624  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:07:23.630  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:07:52.049  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:07:52.055  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:07:53.626  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:07:54.264  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:07:54.798  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:07:54.882  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:07:54.940  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.66 seconds (JVM running for 4.753)
2023-02-16 19:07:54.949  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:07:55.052  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:07:56.442  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:07:56.449  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:07:56.773  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 308 ms. Found 14 JPA repository interfaces.
2023-02-16 19:07:56.955  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:07:57.637  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:07:57.656  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:07:57.660  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:07:57.793  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:07:57.796  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2735 ms
2023-02-16 19:07:57.959  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:07:58.141  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:07:58.741  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:07:58.822  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:07:58.940  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:07:59.258  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:07:59.490  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:07:59.622  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:08:00.948  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:08:00.966  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:08:02.054  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:08:02.057  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:08:02.060  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:08:02.061  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:08:02.064  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:08:02.065  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:08:02.066  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:08:02.067  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:08:02.464  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:08:02.468  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:08:02.881  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:08:03.281  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:08:03.530  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:08:03.702 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:08:03.705 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:08:03.829  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:08:04.308  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:08:04.343  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:08:04.355  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:08:04.490  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:08:04.510  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.552 seconds (JVM running for 14.323)
2023-02-16 19:08:04.571  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:08:05.311  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:08:05.313  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:08:05.319  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:08:33.665  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:08:33.671  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:08:35.330  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:08:35.765  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:08:36.171  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:08:36.246  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:08:36.291  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.41 seconds (JVM running for 4.477)
2023-02-16 19:08:36.298  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:08:36.385  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:08:37.731  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:08:37.736  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:08:38.060  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 14 JPA repository interfaces.
2023-02-16 19:08:38.254  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:08:38.840  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:08:38.855  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:08:38.856  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:08:38.976  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:08:38.978  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2585 ms
2023-02-16 19:08:39.144  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:08:39.328  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:08:39.953  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:08:40.030  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:08:40.138  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:08:40.426  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:08:40.643  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:08:40.834  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:08:42.056  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:08:42.071  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:08:43.099  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:08:43.102  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:08:43.105  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:08:43.106  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:08:43.108  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:08:43.109  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:08:43.110  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:08:43.111  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:08:43.489  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:08:43.493  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:08:43.911  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:08:44.313  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:08:44.559  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:08:44.731 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:08:44.735 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:08:44.809  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:08:45.096  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:08:45.120  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:08:45.128  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:08:45.237  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:08:45.257  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.953 seconds (JVM running for 13.443)
2023-02-16 19:08:45.302  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:08:46.917  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:08:46.919  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:08:46.924  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:09:15.375  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:09:15.383  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:09:16.934  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:09:17.418  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:09:17.880  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:09:17.952  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:09:18.004  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.429 seconds (JVM running for 4.733)
2023-02-16 19:09:18.011  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:09:18.109  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:09:19.528  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:09:19.534  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:09:19.863  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 315 ms. Found 14 JPA repository interfaces.
2023-02-16 19:09:20.085  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:09:20.743  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:09:20.761  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:09:20.764  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:09:20.891  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:09:20.893  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2775 ms
2023-02-16 19:09:21.040  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:09:21.172  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:09:21.870  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:09:21.954  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:09:22.073  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:09:22.419  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:09:22.665  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:09:22.801  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:09:24.106  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:09:24.124  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:09:25.304  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:09:25.306  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:09:25.309  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:09:25.311  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:09:25.313  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:09:25.314  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:09:25.315  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:09:25.316  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:09:25.742  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:09:25.748  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:09:26.114  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:09:26.558  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:09:26.818  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:09:26.935 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:09:26.937 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:09:27.110  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:09:27.458  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:09:27.488  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:09:27.501  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:09:27.617  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:09:27.640  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.621 seconds (JVM running for 14.369)
2023-02-16 19:09:27.694  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:09:28.389  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:09:28.391  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:09:28.398  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:09:56.804  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:09:56.810  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:09:58.248  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:09:58.759  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:09:59.239  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:09:59.379  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:09:59.441  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.408 seconds (JVM running for 4.557)
2023-02-16 19:09:59.453  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:09:59.544  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:10:00.910  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:10:00.915  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:10:01.260  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 331 ms. Found 14 JPA repository interfaces.
2023-02-16 19:10:01.459  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:10:02.136  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:10:02.154  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:10:02.157  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:10:02.300  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:10:02.310  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2756 ms
2023-02-16 19:10:02.486  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:10:02.648  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:10:03.249  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:10:03.334  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:10:03.448  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:10:03.726  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:10:03.942  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:10:04.068  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:10:05.464  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:10:05.484  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:10:06.630  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:10:06.633  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:10:06.635  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:10:06.636  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:10:06.638  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:10:06.640  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:10:06.641  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:10:06.642  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:10:07.040  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:10:07.046  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:10:07.441  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:10:07.820  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:10:08.090  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:10:08.261 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:10:08.268 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:10:08.386  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:10:08.742  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:10:08.770  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:10:08.779  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:10:08.911  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:10:08.930  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.47 seconds (JVM running for 14.045)
2023-02-16 19:10:08.983  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:10:10.025  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:10:10.029  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:10:10.035  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:10:38.258  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:10:38.266  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:10:39.963  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:10:40.461  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:10:40.952  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:10:41.026  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:10:41.071  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.563 seconds (JVM running for 4.637)
2023-02-16 19:10:41.078  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:10:41.166  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:10:42.559  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:10:42.564  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:10:42.849  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 272 ms. Found 14 JPA repository interfaces.
2023-02-16 19:10:43.062  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:10:43.751  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:10:43.769  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:10:43.772  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:10:43.924  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:10:43.926  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2752 ms
2023-02-16 19:10:44.110  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:10:44.366  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:10:45.002  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:10:45.079  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:10:45.187  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:10:45.462  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:10:45.670  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:10:45.797  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:10:47.086  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:10:47.103  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:10:48.143  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:10:48.149  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:10:48.153  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:10:48.154  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:10:48.157  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:10:48.158  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:10:48.159  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:10:48.160  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:10:48.542  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:10:48.548  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:10:48.942  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:10:49.380  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:10:49.640  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:10:49.782 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:10:49.786 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:10:49.953  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:10:50.303  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:10:50.333  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:10:50.344  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:10:50.477  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:10:50.498  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.412 seconds (JVM running for 14.064)
2023-02-16 19:10:50.549  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:10:51.560  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:10:51.563  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:10:51.568  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:11:20.031  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:11:20.036  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:11:21.538  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:11:22.011  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:11:22.522  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:11:22.598  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:11:22.645  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.41 seconds (JVM running for 4.658)
2023-02-16 19:11:22.653  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:11:22.736  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:11:24.147  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:11:24.155  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:11:24.511  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 341 ms. Found 14 JPA repository interfaces.
2023-02-16 19:11:24.713  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:11:25.424  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:11:25.440  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:11:25.443  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:11:25.574  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:11:25.576  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2832 ms
2023-02-16 19:11:25.738  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:11:25.934  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:11:26.576  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:11:26.665  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:11:26.778  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:11:27.054  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:11:27.275  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:11:27.402  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:11:28.659  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:11:28.679  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:11:29.835  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:11:29.838  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:11:29.842  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:11:29.843  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:11:29.846  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:11:29.847  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:11:29.849  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:11:29.850  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:11:30.271  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:11:30.276  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:11:30.695  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:11:31.089  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:11:31.323  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:11:31.508 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:11:31.514 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:11:31.578  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:11:31.926  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:11:31.953  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:11:31.962  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:11:32.083  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:11:32.108  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.448 seconds (JVM running for 14.12)
2023-02-16 19:11:32.159  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:11:33.097  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:11:33.099  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:11:33.104  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:11:56.784  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:11:56.790  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:11:58.295  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:11:58.788  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:11:59.295  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:11:59.372  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:11:59.431  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.444 seconds (JVM running for 4.573)
2023-02-16 19:11:59.452  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:11:59.546  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:12:00.956  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:12:00.962  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:12:01.281  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 304 ms. Found 14 JPA repository interfaces.
2023-02-16 19:12:01.476  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:12:02.124  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:12:02.141  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:12:02.146  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:12:02.279  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:12:02.282  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2727 ms
2023-02-16 19:12:02.447  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:12:02.617  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:12:03.250  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:12:03.338  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:12:03.488  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:12:03.824  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:12:04.057  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:12:04.234  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:12:05.508  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:12:05.525  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:12:06.563  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:12:06.565  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:12:06.567  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:12:06.568  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:12:06.570  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:12:06.572  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:12:06.573  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:12:06.574  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:12:06.953  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:12:06.958  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:12:07.369  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:12:07.732  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:12:07.978  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:12:08.194 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:12:08.198 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:12:08.277  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:12:08.625  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:12:08.654  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:12:08.663  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:12:08.793  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:12:08.815  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.355 seconds (JVM running for 13.957)
2023-02-16 19:12:08.867  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:12:09.966  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:12:09.968  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:12:09.973  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:12:38.328  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:12:38.334  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:12:40.054  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:12:40.526  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:12:41.016  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:12:41.105  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:12:41.154  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.612 seconds (JVM running for 4.751)
2023-02-16 19:12:41.161  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:12:41.263  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:12:42.626  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:12:42.631  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:12:42.932  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 286 ms. Found 14 JPA repository interfaces.
2023-02-16 19:12:43.139  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:12:43.780  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:12:43.799  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:12:43.802  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:12:43.944  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:12:43.950  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2679 ms
2023-02-16 19:12:44.249  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:12:44.415  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:12:45.078  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:12:45.165  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:12:45.294  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:12:45.626  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:12:45.861  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:12:45.985  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:12:47.195  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:12:47.215  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:12:48.338  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:12:48.341  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:12:48.343  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:12:48.345  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:12:48.347  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:12:48.349  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:12:48.350  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:12:48.351  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:12:48.801  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:12:48.806  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:12:49.288  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:12:49.667  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:12:49.913  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:12:50.026 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:12:50.030 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:12:50.210  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:12:50.567  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:12:50.596  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:12:50.609  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:12:50.741  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:12:50.765  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.597 seconds (JVM running for 14.361)
2023-02-16 19:12:50.816  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:12:51.537  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:12:51.538  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:12:51.544  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:13:19.949  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:13:19.955  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:13:21.568  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:13:22.052  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:13:22.517  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:13:22.595  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:13:22.652  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.476 seconds (JVM running for 4.571)
2023-02-16 19:13:22.659  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:13:22.760  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:13:24.191  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:13:24.198  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:13:24.549  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 335 ms. Found 14 JPA repository interfaces.
2023-02-16 19:13:24.805  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:13:25.505  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:13:25.524  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:13:25.527  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:13:25.670  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:13:25.672  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2903 ms
2023-02-16 19:13:25.844  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:13:26.004  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:13:26.644  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:13:26.727  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:13:26.852  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:13:27.134  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:13:27.360  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:13:27.486  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:13:28.782  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:13:28.799  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:13:29.896  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:13:29.899  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:13:29.901  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:13:29.902  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:13:29.905  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:13:29.906  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:13:29.907  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:13:29.908  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:13:30.432  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:13:30.438  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:13:30.864  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:13:31.321  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:13:31.601  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:13:31.672 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:13:31.676 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:13:31.896  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:13:32.331  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:13:32.361  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:13:32.372  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:13:32.498  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:13:32.519  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.851 seconds (JVM running for 14.438)
2023-02-16 19:13:32.570  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:13:33.203  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:13:33.205  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:13:33.212  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:14:01.575  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:14:01.580  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:14:03.088  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:14:03.629  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:14:04.187  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:14:04.286  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:14:04.338  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.504 seconds (JVM running for 4.585)
2023-02-16 19:14:04.345  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:14:04.444  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:14:05.744  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:14:05.751  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:14:06.050  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 14 JPA repository interfaces.
2023-02-16 19:14:06.256  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:14:06.913  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:14:06.931  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:14:06.934  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:14:07.069  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:14:07.071  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2619 ms
2023-02-16 19:14:07.236  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:14:07.412  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:14:08.008  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:14:08.103  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:14:08.269  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:14:08.590  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:14:08.828  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:14:08.958  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:14:10.198  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:14:10.214  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:14:11.250  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:14:11.254  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:14:11.257  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:14:11.258  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:14:11.261  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:14:11.263  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:14:11.264  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:14:11.265  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:14:11.653  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:14:11.659  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:14:12.086  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:14:12.451  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:14:12.691  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:14:12.897 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:14:12.900 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:14:12.980  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:14:13.349  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:14:13.378  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:14:13.387  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:14:13.505  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:14:13.525  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.174 seconds (JVM running for 13.773)
2023-02-16 19:14:13.583  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:14:14.875  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:14:14.877  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:14:14.882  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:14:43.238  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:14:43.244  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:14:44.920  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:14:45.437  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:14:45.927  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:14:46.003  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:14:46.051  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.63 seconds (JVM running for 4.769)
2023-02-16 19:14:46.059  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:14:46.159  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:14:47.590  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:14:47.606  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:14:47.943  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 318 ms. Found 14 JPA repository interfaces.
2023-02-16 19:14:48.164  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:14:48.883  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:14:48.904  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:14:48.908  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:14:49.036  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:14:49.038  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2868 ms
2023-02-16 19:14:49.225  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:14:49.475  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:14:50.126  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:14:50.224  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:14:50.348  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:14:50.635  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:14:50.862  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:14:50.995  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:14:52.258  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:14:52.279  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:14:53.321  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:14:53.324  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:14:53.326  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:14:53.328  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:14:53.330  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:14:53.331  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:14:53.332  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:14:53.333  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:14:53.812  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:14:53.818  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:14:54.350  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:14:54.760  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:14:55.051  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:14:55.052 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:14:55.055 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:14:55.347  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:14:55.704  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:14:55.734  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:14:55.744  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:14:55.859  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:14:55.880  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.809 seconds (JVM running for 14.598)
2023-02-16 19:14:55.942  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:14:56.412  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:14:56.414  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:14:56.419  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:15:24.724  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:15:24.733  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:15:26.302  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:15:26.814  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:15:27.256  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:15:27.336  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:15:27.384  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.531 seconds (JVM running for 4.635)
2023-02-16 19:15:27.392  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:15:27.486  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:15:28.776  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:15:28.781  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:15:29.111  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 314 ms. Found 14 JPA repository interfaces.
2023-02-16 19:15:29.315  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:15:30.028  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:15:30.048  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:15:30.052  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:15:30.193  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:15:30.196  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2702 ms
2023-02-16 19:15:30.358  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:15:30.528  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:15:31.191  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:15:31.303  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:15:31.411  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:15:31.688  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:15:31.902  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:15:32.024  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:15:33.281  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:15:33.299  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:15:34.419  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:15:34.421  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:15:34.423  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:15:34.425  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:15:34.427  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:15:34.429  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:15:34.430  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:15:34.431  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:15:34.902  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:15:34.906  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:15:35.353  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:15:35.738  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:15:35.994  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:15:36.150 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:15:36.154 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:15:36.292  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:15:36.646  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:15:36.672  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:15:36.682  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:15:36.803  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:15:36.825  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.426 seconds (JVM running for 14.076)
2023-02-16 19:15:36.878  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:15:37.885  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:15:37.888  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:15:37.893  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:16:06.596  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:16:06.602  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:16:08.221  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:16:08.778  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:16:09.271  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:16:09.431  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:16:09.482  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.774 seconds (JVM running for 5.015)
2023-02-16 19:16:09.489  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:16:09.581  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:16:10.978  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:16:10.986  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:16:11.297  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 297 ms. Found 14 JPA repository interfaces.
2023-02-16 19:16:11.480  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:16:12.124  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:16:12.142  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:16:12.145  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:16:12.271  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:16:12.273  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2682 ms
2023-02-16 19:16:12.413  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:16:12.532  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:16:13.186  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:16:13.275  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:16:13.400  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:16:13.756  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:16:14.044  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:16:14.193  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:16:15.554  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:16:15.575  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:16:16.740  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:16:16.743  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:16:16.745  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:16:16.746  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:16:16.749  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:16:16.750  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:16:16.751  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:16:16.752  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:16:17.145  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:16:17.151  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:16:17.553  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:16:17.960  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:16:18.273  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:16:18.366 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:16:18.370 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:16:18.559  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:16:18.922  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:16:18.956  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:16:18.971  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:16:19.103  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:16:19.133  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.636 seconds (JVM running for 14.666)
2023-02-16 19:16:19.196  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:16:19.588  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:16:19.590  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:16:19.594  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:16:48.107  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:16:48.113  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:16:49.693  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:16:50.181  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:16:50.648  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:16:50.724  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:16:50.775  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.425 seconds (JVM running for 4.658)
2023-02-16 19:16:50.782  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:16:50.905  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:16:52.279  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:16:52.284  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:16:52.611  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 313 ms. Found 14 JPA repository interfaces.
2023-02-16 19:16:52.801  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:16:53.388  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:16:53.405  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:16:53.407  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:16:53.521  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:16:53.522  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2608 ms
2023-02-16 19:16:53.677  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:16:53.858  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:16:54.464  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:16:54.560  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:16:54.708  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:16:55.042  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:16:55.260  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:16:55.396  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:16:56.588  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:16:56.605  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:16:57.579  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:16:57.582  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:16:57.584  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:16:57.585  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:16:57.587  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:16:57.588  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:16:57.589  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:16:57.590  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:16:57.907  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:16:57.911  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:16:58.289  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:16:58.641  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:16:58.901  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:16:59.136 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:16:59.139 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:16:59.237  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:16:59.636  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:16:59.660  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:16:59.669  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:16:59.765  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:16:59.784  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.996 seconds (JVM running for 13.668)
2023-02-16 19:16:59.833  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:17:01.236  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:17:01.240  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:17:01.245  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:17:25.487  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 237 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:17:25.493  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:17:27.294  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:17:27.827  INFO 237 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:17:28.299  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:17:28.387  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:17:28.441  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.798 seconds (JVM running for 5.462)
2023-02-16 19:17:28.448  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:17:28.541  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:17:29.903  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:17:29.910  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:17:30.243  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 317 ms. Found 14 JPA repository interfaces.
2023-02-16 19:17:30.467  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:17:31.097  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:17:31.113  INFO 237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:17:31.116  INFO 237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:17:31.236  INFO 237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:17:31.239  INFO 237 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2685 ms
2023-02-16 19:17:31.367  INFO 237 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:17:31.520  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:17:32.212  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:17:32.306  INFO 237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:17:32.425  INFO 237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:17:32.703  INFO 237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:17:32.912  INFO 237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:17:33.039  WARN 237 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:17:34.298  INFO 237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:17:34.315  INFO 237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:17:35.377  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:17:35.380  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:17:35.382  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:17:35.384  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:17:35.388  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:17:35.389  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:17:35.391  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:17:35.392  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:17:35.800  INFO 237 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:17:35.805  INFO 237 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:17:36.233  INFO 237 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:17:36.634  WARN 237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:17:36.891  INFO 237 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:17:37.033 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:17:37.037 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:17:37.177  INFO 237 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:17:37.528  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:17:37.553  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:17:37.565  INFO 237 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:17:37.676  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:17:37.697  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.243 seconds (JVM running for 14.718)
2023-02-16 19:17:37.746  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:17:38.104  INFO 237 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:17:38.108  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:17:38.115  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:18:06.546  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:18:06.551  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:18:08.298  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:18:08.840  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:18:09.254  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:18:09.336  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:18:09.381  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.7 seconds (JVM running for 4.798)
2023-02-16 19:18:09.388  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:18:09.477  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:18:11.072  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:18:11.078  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:18:11.418  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 323 ms. Found 14 JPA repository interfaces.
2023-02-16 19:18:11.611  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:18:12.347  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:18:12.367  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:18:12.370  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:18:12.515  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:18:12.516  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3031 ms
2023-02-16 19:18:12.676  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:18:12.812  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:18:13.500  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:18:13.593  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:18:13.718  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:18:14.018  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:18:14.259  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:18:14.387  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:18:15.716  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:18:15.737  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:18:16.852  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:18:16.855  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:18:16.859  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:18:16.861  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:18:16.863  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:18:16.865  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:18:16.866  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:18:16.867  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:18:17.256  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:18:17.264  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:18:17.732  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:18:18.148  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:18:18.428  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:18:18.513 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:18:18.518 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:18:18.719  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:18:19.102  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:18:19.131  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:18:19.141  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:18:19.269  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:18:19.289  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.893 seconds (JVM running for 14.706)
2023-02-16 19:18:19.339  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:18:19.707  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:18:19.708  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:18:19.714  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:18:48.237  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:18:48.244  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:18:49.709  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:18:50.165  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:18:50.607  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:18:50.688  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:18:50.736  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.278 seconds (JVM running for 4.379)
2023-02-16 19:18:50.745  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:18:50.850  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:18:52.216  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:18:52.222  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:18:52.546  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 311 ms. Found 14 JPA repository interfaces.
2023-02-16 19:18:52.800  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:18:53.484  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:18:53.502  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:18:53.505  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:18:53.621  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:18:53.622  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2764 ms
2023-02-16 19:18:53.826  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:18:54.027  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:18:54.692  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:18:54.854  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:18:54.989  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:18:55.353  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:18:55.596  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:18:55.735  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:18:57.033  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:18:57.067  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:18:58.097  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:18:58.102  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:18:58.104  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:18:58.105  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:18:58.108  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:18:58.109  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:18:58.110  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:18:58.111  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:18:58.522  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:18:58.527  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:18:58.920  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:18:59.290  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:18:59.545  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:18:59.743 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:18:59.748 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:18:59.871  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:19:00.214  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:19:00.241  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:19:00.251  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:19:00.362  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:19:00.383  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.631 seconds (JVM running for 14.027)
2023-02-16 19:19:00.433  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:19:01.494  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:19:01.497  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:19:01.502  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:19:29.925  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:19:29.930  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:19:31.585  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:19:32.091  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:19:32.534  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:19:32.601  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:19:32.642  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.472 seconds (JVM running for 4.589)
2023-02-16 19:19:32.648  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:19:32.730  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:19:34.023  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:19:34.029  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:19:34.328  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 14 JPA repository interfaces.
2023-02-16 19:19:34.573  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:19:35.300  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:19:35.318  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:19:35.321  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:19:35.436  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:19:35.437  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2699 ms
2023-02-16 19:19:35.608  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:19:35.800  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:19:36.421  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:19:36.501  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:19:36.640  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:19:36.954  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:19:37.158  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:19:37.265  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:19:38.465  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:19:38.481  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:19:39.579  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:19:39.581  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:19:39.583  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:19:39.584  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:19:39.586  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:19:39.587  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:19:39.588  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:19:39.589  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:19:39.993  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:19:39.998  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:19:40.416  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:19:40.799  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:19:41.037  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:19:41.230 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:19:41.233 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:19:41.291  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:19:41.636  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:19:41.667  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:19:41.677  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:19:41.806  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:19:41.830  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.176 seconds (JVM running for 13.778)
2023-02-16 19:19:41.894  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:19:43.179  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:19:43.182  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:19:43.187  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:20:07.317  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:20:07.323  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:20:09.096  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:20:09.675  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:20:10.144  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:20:10.214  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:20:10.265  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.808 seconds (JVM running for 5.547)
2023-02-16 19:20:10.271  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:20:10.361  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:20:12.142  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:20:12.148  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:20:12.531  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 368 ms. Found 14 JPA repository interfaces.
2023-02-16 19:20:12.847  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:20:13.639  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:20:13.658  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:20:13.661  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:20:13.796  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:20:13.798  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3430 ms
2023-02-16 19:20:13.973  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:20:14.137  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:20:14.836  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:20:14.966  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:20:15.088  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:20:15.586  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:20:15.966  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:20:16.433  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:20:18.753  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:20:18.787  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:20:20.139  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:20:20.148  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:20:20.168  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:20:20.188  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:20:20.208  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:20:20.229  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:20:20.248  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:20:20.268  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:20:20.650  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:20:20.660  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:20:21.062  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:20:21.446  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:20:21.655  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:20:21.911 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:20:21.933 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:20:21.912  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:20:22.432  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:20:22.511  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:20:22.543  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:20:22.782  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:20:22.819  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.541 seconds (JVM running for 18.101)
2023-02-16 19:20:22.898  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:20:24.862  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:20:24.872  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:20:24.894  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:20:53.572  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:20:53.578  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:20:55.432  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:20:55.962  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:20:56.521  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:20:56.608  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:20:56.665  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.873 seconds (JVM running for 5.065)
2023-02-16 19:20:56.676  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:20:56.790  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:20:58.242  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:20:58.249  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:20:58.635  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 370 ms. Found 14 JPA repository interfaces.
2023-02-16 19:20:58.877  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:20:59.623  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:20:59.642  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:20:59.646  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:20:59.790  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:20:59.792  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2993 ms
2023-02-16 19:20:59.967  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:21:00.161  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:21:00.793  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:21:00.874  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:21:00.992  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:21:01.279  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:21:01.496  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:21:01.623  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:21:02.952  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:21:02.970  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:21:04.027  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:21:04.030  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:21:04.032  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:21:04.034  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:21:04.036  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:21:04.038  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:21:04.040  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:21:04.042  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:21:04.563  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:21:04.568  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:21:04.991  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:21:05.415  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:21:05.676  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:21:05.780 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:21:05.784 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:21:05.976  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:21:06.294  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:21:06.320  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:21:06.331  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:21:06.455  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:21:06.477  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.791 seconds (JVM running for 14.876)
2023-02-16 19:21:06.529  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:21:06.734  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:21:06.735  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:21:06.741  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:21:35.241  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:21:35.246  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:21:37.076  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:21:37.625  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:21:38.118  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:21:38.216  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:21:38.274  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.847 seconds (JVM running for 5.08)
2023-02-16 19:21:38.282  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:21:38.384  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:21:39.888  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:21:39.894  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:21:40.218  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 14 JPA repository interfaces.
2023-02-16 19:21:40.478  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:21:41.145  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:21:41.162  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:21:41.166  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:21:41.305  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:21:41.306  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2911 ms
2023-02-16 19:21:41.445  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:21:41.576  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:21:42.300  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:21:42.383  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:21:42.515  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:21:42.805  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:21:43.024  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:21:43.154  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:21:44.398  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:21:44.421  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:21:45.563  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:21:45.566  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:21:45.568  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:21:45.570  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:21:45.572  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:21:45.574  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:21:45.575  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:21:45.576  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:21:46.006  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:21:46.012  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:21:46.427  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:21:46.839  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:21:47.099  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:21:47.216 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:21:47.221 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:21:47.428  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:21:47.797  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:21:47.827  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:21:47.838  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:21:47.967  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:21:47.987  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.697 seconds (JVM running for 14.793)
2023-02-16 19:21:48.034  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:21:48.313  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:21:48.315  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:21:48.320  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:22:16.632  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:22:16.639  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:22:18.328  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:22:18.833  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:22:19.370  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:22:19.455  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:22:19.513  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.659 seconds (JVM running for 4.732)
2023-02-16 19:22:19.521  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:22:19.617  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:22:20.955  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:22:20.961  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:22:21.349  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 373 ms. Found 14 JPA repository interfaces.
2023-02-16 19:22:21.556  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:22:22.639  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:22:22.660  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:22:22.663  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:22:22.831  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:22:22.833  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3206 ms
2023-02-16 19:22:23.025  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:22:23.272  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:22:24.219  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:22:24.321  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:22:24.472  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:22:24.769  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:22:25.017  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:22:25.134  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:22:26.368  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:22:26.384  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:22:27.396  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:22:27.398  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:22:27.400  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:22:27.402  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:22:27.405  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:22:27.406  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:22:27.407  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:22:27.408  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:22:27.820  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:22:27.825  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:22:28.291  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:22:28.760  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:22:29.001  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:22:29.066 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:22:29.069 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:22:29.276  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:22:29.654  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:22:29.692  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:22:29.707  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:22:29.830  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:22:29.850  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.321 seconds (JVM running for 15.069)
2023-02-16 19:22:29.900  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:22:34.903  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:22:34.906  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:22:34.913  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:23:03.532  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:23:03.537  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:23:05.520  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:23:06.091  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:23:06.548  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:23:06.621  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:23:06.667  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.982 seconds (JVM running for 5.197)
2023-02-16 19:23:06.673  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:23:06.759  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:23:08.080  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:23:08.087  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:23:08.379  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 277 ms. Found 14 JPA repository interfaces.
2023-02-16 19:23:08.551  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:23:09.207  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:23:09.223  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:23:09.227  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:23:09.351  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:23:09.353  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2586 ms
2023-02-16 19:23:09.551  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:23:09.699  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:23:10.477  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:23:10.559  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:23:10.682  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:23:10.984  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:23:11.244  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:23:11.395  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:23:12.766  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:23:12.791  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:23:14.013  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:23:14.016  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:23:14.019  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:23:14.020  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:23:14.023  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:23:14.024  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:23:14.025  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:23:14.026  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:23:14.497  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:23:14.503  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:23:14.929  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:23:15.429  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:23:15.691  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:23:15.718 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:23:15.722 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:23:15.980  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:23:16.356  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:23:16.384  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:23:16.398  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:23:16.509  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:23:16.527  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.846 seconds (JVM running for 15.057)
2023-02-16 19:23:16.580  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:23:16.610  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:23:16.612  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:23:16.618  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:23:50.491  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:23:50.500  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:23:52.972  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:23:53.836  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:23:54.472  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:23:54.585  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:23:54.668  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.14 seconds (JVM running for 6.425)
2023-02-16 19:23:54.689  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:23:54.812  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:23:56.435  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:23:56.445  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:23:56.838  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 358 ms. Found 14 JPA repository interfaces.
2023-02-16 19:23:57.060  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:23:57.833  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:23:57.852  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:23:57.856  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:23:58.027  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:23:58.029  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3204 ms
2023-02-16 19:23:58.225  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:23:58.430  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:23:59.100  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:23:59.200  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:23:59.350  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:23:59.712  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:24:00.017  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:24:00.181  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:24:01.664  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:24:01.685  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:24:03.077  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:24:03.081  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:24:03.084  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:24:03.085  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:24:03.088  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:24:03.089  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:24:03.091  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:24:03.092  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:24:03.577  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:24:03.617  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:24:04.137  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:24:04.617  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:24:04.924 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:24:04.926 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:24:04.942  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:24:05.309  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:24:05.725  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:24:05.759  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:24:05.770  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:24:05.913  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:24:05.937  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.232 seconds (JVM running for 17.694)
2023-02-16 19:24:05.999  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:24:08.429  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:24:08.435  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:24:08.445  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2023-02-16 19:24:37.240  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:24:37.247  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:24:39.264  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:24:39.865  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:24:40.454  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:24:40.551  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:24:40.606  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.192 seconds (JVM running for 5.367)
2023-02-16 19:24:40.617  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:24:40.750  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:24:42.159  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:24:42.166  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:24:42.523  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 337 ms. Found 14 JPA repository interfaces.
2023-02-16 19:24:42.727  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:24:43.461  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:24:43.484  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:24:43.487  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:24:43.620  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:24:43.622  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2857 ms
2023-02-16 19:24:43.761  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:24:43.905  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:24:44.665  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:24:44.758  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:24:44.901  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:24:45.216  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:24:45.432  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:24:45.556  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:24:46.926  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:24:46.943  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:24:48.109  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:24:48.114  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:24:48.117  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:24:48.119  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:24:48.124  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:24:48.125  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:24:48.127  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:24:48.128  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:24:48.578  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:24:48.586  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:24:49.080  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:24:49.492  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:24:49.774  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:24:49.865 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:24:49.870 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:24:50.092  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:24:50.453  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:24:50.482  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:24:50.495  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:24:50.611  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:24:50.631  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.003 seconds (JVM running for 15.392)
2023-02-16 19:24:50.691  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:24:55.369  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:24:55.371  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:24:55.378  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:25:23.953  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:25:23.960  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:25:25.852  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:25:26.434  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:25:26.935  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:25:27.016  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:25:27.066  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.968 seconds (JVM running for 5.13)
2023-02-16 19:25:27.073  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:25:27.199  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:25:28.707  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:25:28.713  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:25:29.051  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 14 JPA repository interfaces.
2023-02-16 19:25:29.270  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:25:30.023  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:25:30.045  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:25:30.049  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:25:30.193  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:25:30.195  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2966 ms
2023-02-16 19:25:30.360  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:25:30.518  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:25:31.220  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:25:31.320  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:25:31.478  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:25:31.807  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:25:32.054  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:25:32.198  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:25:33.608  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:25:33.628  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:25:34.819  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:25:34.822  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:25:34.825  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:25:34.827  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:25:34.830  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:25:34.831  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:25:34.832  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:25:34.834  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:25:35.284  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:25:35.289  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:25:35.789  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:25:36.254  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:25:36.583 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:25:36.586 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:25:36.609  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:25:36.951  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:25:37.414  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:25:37.446  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:25:37.457  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:25:37.582  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:25:37.603  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.522 seconds (JVM running for 15.667)
2023-02-16 19:25:37.662  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:25:42.081  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:25:42.084  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:25:42.089  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:26:10.563  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:26:10.569  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:26:12.243  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:26:12.728  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:26:13.207  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:26:13.284  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:26:13.335  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.556 seconds (JVM running for 4.702)
2023-02-16 19:26:13.345  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:26:13.447  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:26:14.855  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:26:14.864  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:26:15.163  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 14 JPA repository interfaces.
2023-02-16 19:26:15.350  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:26:16.058  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:26:16.078  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:26:16.082  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:26:16.259  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:26:16.261  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2804 ms
2023-02-16 19:26:16.467  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:26:16.621  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:26:17.273  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:26:17.367  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:26:17.503  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:26:17.815  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:26:18.021  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:26:18.150  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:26:19.486  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:26:19.510  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:26:20.929  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:26:20.932  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:26:20.934  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:26:20.936  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:26:20.938  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:26:20.940  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:26:20.941  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:26:20.944  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:26:21.423  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:26:21.430  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:26:21.890  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:26:22.348  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:26:22.644  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:26:22.682 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:26:22.686 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:26:22.958  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:26:23.337  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:26:23.368  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:26:23.380  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:26:23.506  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:26:23.528  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.172 seconds (JVM running for 14.894)
2023-02-16 19:26:23.586  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:26:23.791  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:26:23.794  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:26:23.802  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-02-16 19:26:52.659  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:26:52.665  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:26:54.198  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:26:54.780  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:26:55.216  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:26:55.290  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:26:55.334  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.47 seconds (JVM running for 4.871)
2023-02-16 19:26:55.341  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:26:55.425  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:26:56.907  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:26:56.912  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:26:57.204  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 279 ms. Found 14 JPA repository interfaces.
2023-02-16 19:26:57.436  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:26:58.115  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:26:58.132  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:26:58.136  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:26:58.268  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:26:58.270  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2835 ms
2023-02-16 19:26:58.485  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:26:58.645  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:26:59.253  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:26:59.337  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:26:59.501  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:26:59.788  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:27:00.038  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:27:00.175  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:27:01.449  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:27:01.468  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:27:02.592  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:27:02.595  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:27:02.598  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:27:02.599  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:27:02.601  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:27:02.602  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:27:02.603  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:27:02.604  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:27:02.969  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:27:02.974  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:27:03.361  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:27:03.769  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:27:04.014  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:27:04.201 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:27:04.204 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:27:04.329  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:27:04.738  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:27:04.768  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:27:04.780  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:27:04.901  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:27:04.921  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.574 seconds (JVM running for 14.459)
2023-02-16 19:27:04.985  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:27:05.584  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:27:05.585  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:27:05.590  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:27:34.046  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:27:34.051  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:27:35.678  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:27:36.248  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:27:36.780  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:27:36.871  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:27:36.924  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.73 seconds (JVM running for 4.897)
2023-02-16 19:27:36.933  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:27:37.029  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:27:38.475  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:27:38.482  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:27:38.817  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 319 ms. Found 14 JPA repository interfaces.
2023-02-16 19:27:39.067  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:27:39.785  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:27:39.807  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:27:39.811  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:27:39.949  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:27:39.951  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2913 ms
2023-02-16 19:27:40.112  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:27:40.326  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:27:41.082  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:27:41.177  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:27:41.310  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:27:41.679  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:27:41.957  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:27:42.114  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:27:43.501  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:27:43.520  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:27:44.740  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:27:44.743  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:27:44.745  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:27:44.747  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:27:44.750  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:27:44.751  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:27:44.752  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:27:44.753  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:27:45.184  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:27:45.189  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:27:45.685  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:27:46.131  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:27:46.436  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:27:46.439 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:27:46.443 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:27:46.741  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:27:47.114  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:27:47.144  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:27:47.155  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:27:47.292  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:27:47.315  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.375 seconds (JVM running for 15.288)
2023-02-16 19:27:47.379  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:27:52.158  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:27:52.161  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:27:52.167  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:28:20.888  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:28:20.895  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:28:22.695  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:28:23.252  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:28:23.771  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:28:23.875  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:28:23.936  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.997 seconds (JVM running for 5.275)
2023-02-16 19:28:23.946  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:28:24.049  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:28:25.573  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:28:25.581  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:28:25.983  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 386 ms. Found 14 JPA repository interfaces.
2023-02-16 19:28:26.362  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:28:27.134  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:28:27.172  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:28:27.176  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:28:27.323  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:28:27.327  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3267 ms
2023-02-16 19:28:27.498  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:28:27.688  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:28:28.459  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:28:28.570  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:28:28.691  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:28:29.005  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:28:29.246  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:28:29.384  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:28:30.756  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:28:30.774  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:28:32.147  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:28:32.150  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:28:32.154  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:28:32.155  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:28:32.159  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:28:32.161  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:28:32.162  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:28:32.163  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:28:32.587  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:28:32.592  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:28:32.987  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:28:33.384  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:28:33.657  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:28:33.803 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:28:33.807 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:28:33.976  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:28:34.342  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:28:34.369  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:28:34.380  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:28:34.504  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:28:34.523  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.57 seconds (JVM running for 15.863)
2023-02-16 19:28:34.574  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:28:38.788  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:28:38.791  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:28:38.795  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:29:02.083  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:29:02.089  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:29:03.473  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:29:03.949  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:29:04.426  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:29:04.502  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:29:04.551  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.293 seconds (JVM running for 4.397)
2023-02-16 19:29:04.558  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:29:04.642  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:29:05.972  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:29:05.977  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:29:06.319  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 327 ms. Found 14 JPA repository interfaces.
2023-02-16 19:29:06.528  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:29:07.160  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:29:07.177  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:29:07.179  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:29:07.292  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:29:07.293  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2642 ms
2023-02-16 19:29:07.430  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:29:07.613  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:29:08.303  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:29:08.388  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:29:08.508  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:29:08.808  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:29:09.037  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:29:09.166  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:29:10.407  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:29:10.423  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:29:11.367  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:29:11.369  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:29:11.371  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:29:11.372  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:29:11.374  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:29:11.375  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:29:11.376  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:29:11.377  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:29:11.722  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:29:11.726  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:29:12.088  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:29:12.398  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:29:12.622  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:29:12.861  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:29:12.940 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:29:12.943 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:29:13.191  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:29:13.213  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:29:13.222  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:29:13.326  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:29:13.345  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.781 seconds (JVM running for 13.191)
2023-02-16 19:29:13.391  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:29:15.269  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:29:15.272  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:29:15.276  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:29:43.673  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:29:43.680  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:29:45.510  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:29:46.040  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:29:46.611  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:29:46.694  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:29:46.747  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.823 seconds (JVM running for 4.996)
2023-02-16 19:29:46.758  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:29:46.853  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:29:48.267  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:29:48.274  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:29:48.590  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 301 ms. Found 14 JPA repository interfaces.
2023-02-16 19:29:48.770  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:29:49.391  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:29:49.409  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:29:49.412  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:29:49.565  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:29:49.567  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2706 ms
2023-02-16 19:29:49.724  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:29:49.880  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:29:50.567  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:29:50.651  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:29:50.755  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:29:50.999  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:29:51.202  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:29:51.309  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:29:52.567  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:29:52.584  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:29:53.747  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:29:53.751  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:29:53.754  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:29:53.755  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:29:53.758  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:29:53.760  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:29:53.761  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:29:53.762  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:29:54.225  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:29:54.230  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:29:54.697  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:29:55.066  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:29:55.292  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:29:55.485 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:29:55.488 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:29:55.617  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:29:55.978  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:29:56.008  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:29:56.020  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:29:56.157  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:29:56.184  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.419 seconds (JVM running for 14.433)
2023-02-16 19:29:56.235  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:29:56.880  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:29:56.882  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:29:56.890  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:30:20.335  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:30:20.342  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:30:22.022  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:30:22.563  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:30:23.046  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:30:23.116  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:30:23.160  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.738 seconds (JVM running for 4.847)
2023-02-16 19:30:23.166  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:30:23.249  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:30:24.693  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:30:24.700  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:30:25.064  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 348 ms. Found 14 JPA repository interfaces.
2023-02-16 19:30:25.264  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:30:25.936  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:30:25.955  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:30:25.960  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:30:26.086  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:30:26.088  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2830 ms
2023-02-16 19:30:26.254  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:30:26.401  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:30:26.980  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:30:27.071  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:30:27.179  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:30:27.470  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:30:27.701  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:30:27.837  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:30:29.121  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:30:29.139  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:30:30.159  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:30:30.162  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:30:30.164  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:30:30.165  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:30:30.167  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:30:30.168  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:30:30.169  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:30:30.170  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:30:30.534  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:30:30.538  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:30:30.920  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:30:31.266  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:30:31.528  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:30:31.748 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:30:31.751 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:30:31.816  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:30:32.157  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:30:32.186  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:30:32.196  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:30:32.312  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:30:32.330  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.158 seconds (JVM running for 14.018)
2023-02-16 19:30:32.378  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:30:33.422  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:30:33.425  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:30:33.430  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:31:01.781  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:31:01.786  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:31:03.304  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:31:03.882  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:31:04.394  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:31:04.480  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:31:04.531  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.509 seconds (JVM running for 4.638)
2023-02-16 19:31:04.546  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:31:04.635  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:31:05.793  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:31:05.800  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:31:06.135  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 320 ms. Found 14 JPA repository interfaces.
2023-02-16 19:31:06.315  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:31:06.955  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:31:06.972  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:31:06.975  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:31:07.093  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:31:07.094  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2450 ms
2023-02-16 19:31:07.255  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:31:07.520  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:31:08.539  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:31:08.653  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:31:08.796  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:31:09.207  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:31:09.500  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:31:09.650  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:31:11.104  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:31:11.123  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:31:12.322  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:31:12.325  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:31:12.329  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:31:12.330  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:31:12.333  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:31:12.334  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:31:12.335  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:31:12.337  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:31:12.781  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:31:12.787  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:31:13.242  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:31:13.641  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:31:13.961  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:31:14.024 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:31:14.028 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:31:14.305  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:31:14.716  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:31:14.746  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:31:14.758  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:31:14.871  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:31:14.892  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.339 seconds (JVM running for 14.998)
2023-02-16 19:31:14.946  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:31:15.026  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:31:15.027  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:31:15.033  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:31:38.415  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 237 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:31:38.421  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:31:39.768  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:31:40.265  INFO 237 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:31:40.720  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:31:40.814  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:31:40.904  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.281 seconds (JVM running for 4.47)
2023-02-16 19:31:40.920  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:31:41.020  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:31:42.553  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:31:42.562  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:31:42.974  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 389 ms. Found 14 JPA repository interfaces.
2023-02-16 19:31:43.230  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:31:44.045  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:31:44.071  INFO 237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:31:44.074  INFO 237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:31:44.213  INFO 237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:31:44.214  INFO 237 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3184 ms
2023-02-16 19:31:44.396  INFO 237 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:31:44.602  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:31:45.204  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:31:45.303  INFO 237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:31:45.457  INFO 237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:31:45.853  INFO 237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:31:46.162  INFO 237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:31:46.350  WARN 237 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:31:47.825  INFO 237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:31:47.842  INFO 237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:31:48.980  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:31:48.983  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:31:48.986  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:31:48.987  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:31:48.989  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:31:48.991  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:31:48.992  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:31:48.993  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:31:49.511  INFO 237 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:31:49.519  INFO 237 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:31:49.949  INFO 237 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:31:50.349  WARN 237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:31:50.615  INFO 237 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:31:50.764 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:31:50.768 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:31:50.906  INFO 237 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:31:51.334  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:31:51.381  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:31:51.393  INFO 237 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:31:51.549  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:31:51.574  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.645 seconds (JVM running for 15.138)
2023-02-16 19:31:51.626  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:31:56.563  INFO 237 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:31:56.566  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:31:56.571  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:32:25.240  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:32:25.245  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:32:26.836  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:32:27.387  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:32:27.834  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:32:27.943  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:32:27.992  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.658 seconds (JVM running for 4.947)
2023-02-16 19:32:27.999  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:32:28.094  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:32:29.488  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:32:29.493  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:32:29.798  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 293 ms. Found 14 JPA repository interfaces.
2023-02-16 19:32:29.996  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:32:30.648  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:32:30.665  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:32:30.668  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:32:30.780  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:32:30.781  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2678 ms
2023-02-16 19:32:30.890  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:32:31.002  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:32:31.604  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:32:31.687  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:32:31.797  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:32:32.088  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:32:32.294  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:32:32.409  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:32:33.559  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:32:33.581  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:32:34.775  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:32:34.778  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:32:34.781  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:32:34.783  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:32:34.785  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:32:34.786  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:32:34.787  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:32:34.788  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:32:35.105  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:32:35.109  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:32:35.503  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:32:35.924  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:32:36.279  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:32:36.317 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:32:36.319 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:32:36.589  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:32:36.940  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:32:36.976  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:32:36.989  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:32:37.157  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:32:37.182  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.175 seconds (JVM running for 14.137)
2023-02-16 19:32:37.243  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:32:38.217  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:32:38.221  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:32:38.226  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:33:06.548  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:33:06.554  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:33:07.988  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:33:08.541  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:33:09.028  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:33:09.099  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:33:09.149  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.393 seconds (JVM running for 4.483)
2023-02-16 19:33:09.156  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:33:09.238  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:33:10.589  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:33:10.596  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:33:10.956  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 345 ms. Found 14 JPA repository interfaces.
2023-02-16 19:33:11.173  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:33:11.961  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:33:11.979  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:33:11.982  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:33:12.122  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:33:12.125  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2878 ms
2023-02-16 19:33:12.324  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:33:12.536  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:33:13.264  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:33:13.381  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:33:13.497  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:33:13.871  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:33:14.130  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:33:14.285  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:33:15.570  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:33:15.588  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:33:16.673  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:33:16.676  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:33:16.678  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:33:16.680  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:33:16.683  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:33:16.684  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:33:16.685  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:33:16.686  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:33:17.097  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:33:17.103  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:33:17.478  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:33:17.834  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:33:18.059  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:33:18.326 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:33:18.328 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:33:18.348  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:33:18.704  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:33:18.732  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:33:18.743  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:33:18.863  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:33:18.884  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.726 seconds (JVM running for 14.222)
2023-02-16 19:33:18.934  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:33:19.799  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:33:19.802  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:33:19.807  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:33:48.267  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:33:48.273  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:33:49.992  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:33:50.532  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:33:51.046  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:33:51.128  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:33:51.217  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.802 seconds (JVM running for 4.939)
2023-02-16 19:33:51.226  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:33:51.325  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:33:52.790  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:33:52.796  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:33:53.107  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 296 ms. Found 14 JPA repository interfaces.
2023-02-16 19:33:53.331  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:33:54.078  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:33:54.097  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:33:54.100  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:33:54.258  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:33:54.261  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2919 ms
2023-02-16 19:33:54.467  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:33:54.656  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:33:55.345  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:33:55.434  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:33:55.558  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:33:55.879  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:33:56.132  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:33:56.278  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:33:57.626  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:33:57.645  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:33:58.975  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:33:58.979  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:33:58.981  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:33:58.982  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:33:58.985  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:33:58.987  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:33:58.988  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:33:58.990  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:33:59.474  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:33:59.480  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:33:59.935  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:34:00.386  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:34:00.670  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:34:00.701 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:34:00.707 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:34:00.982  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:34:01.364  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:34:01.393  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:34:01.403  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:34:01.526  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:34:01.581  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.348 seconds (JVM running for 15.303)
2023-02-16 19:34:01.630  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:34:06.417  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:34:06.420  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:34:06.426  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:34:34.696  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:34:34.702  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:34:36.204  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:34:36.714  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:34:37.159  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:34:37.232  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:34:37.279  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.338 seconds (JVM running for 4.383)
2023-02-16 19:34:37.285  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:34:37.370  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:34:38.722  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:34:38.728  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:34:39.026  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 283 ms. Found 14 JPA repository interfaces.
2023-02-16 19:34:39.246  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:34:39.895  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:34:39.915  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:34:39.919  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:34:40.065  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:34:40.067  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2689 ms
2023-02-16 19:34:40.208  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:34:40.362  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:34:41.020  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:34:41.104  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:34:41.229  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:34:41.561  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:34:41.798  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:34:41.967  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:34:43.227  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:34:43.246  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:34:44.484  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:34:44.487  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:34:44.489  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:34:44.491  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:34:44.493  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:34:44.494  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:34:44.495  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:34:44.497  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:34:44.899  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:34:44.903  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:34:45.230  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:34:45.697  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:34:45.964  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:34:46.068 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:34:46.070 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:34:46.236  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:34:46.584  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:34:46.611  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:34:46.621  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:34:46.732  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:34:46.753  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.461 seconds (JVM running for 13.857)
2023-02-16 19:34:46.803  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:34:48.011  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:34:48.014  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:34:48.020  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:35:16.973  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:35:16.979  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:35:18.867  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:35:19.591  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:35:20.066  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:35:20.142  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:35:20.189  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.039 seconds (JVM running for 5.719)
2023-02-16 19:35:20.197  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:35:20.290  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:35:21.690  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:35:21.696  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:35:21.981  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 272 ms. Found 14 JPA repository interfaces.
2023-02-16 19:35:22.159  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:35:22.787  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:35:22.805  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:35:22.807  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:35:22.914  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:35:22.915  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2617 ms
2023-02-16 19:35:23.048  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:35:23.197  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:35:23.902  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:35:23.994  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:35:24.233  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:35:24.562  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:35:24.801  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:35:24.944  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:35:26.147  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:35:26.162  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:35:27.280  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:35:27.283  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:35:27.286  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:35:27.287  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:35:27.290  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:35:27.291  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:35:27.292  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:35:27.294  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:35:27.751  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:35:27.810  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:35:28.181  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:35:28.596  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:35:28.868  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:35:29.023 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:35:29.027 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:35:29.164  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:35:29.551  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:35:29.581  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:35:29.593  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:35:29.715  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:35:29.738  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.535 seconds (JVM running for 15.268)
2023-02-16 19:35:29.789  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:35:34.592  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:35:34.595  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:35:34.600  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:36:03.465  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:36:03.472  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:36:05.157  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:36:05.630  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:36:06.140  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:36:06.213  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:36:06.262  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.72 seconds (JVM running for 5.124)
2023-02-16 19:36:06.269  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:36:06.368  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:36:07.544  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:36:07.549  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:36:07.862  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 298 ms. Found 14 JPA repository interfaces.
2023-02-16 19:36:08.048  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:36:08.715  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:36:08.734  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:36:08.738  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:36:08.870  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:36:08.872  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2495 ms
2023-02-16 19:36:08.998  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:36:09.128  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:36:09.858  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:36:09.943  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:36:10.049  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:36:10.328  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:36:10.543  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:36:10.662  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:36:11.880  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:36:11.897  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:36:13.011  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:36:13.013  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:36:13.035  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:36:13.036  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:36:13.039  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:36:13.040  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:36:13.041  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:36:13.043  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:36:13.507  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:36:13.512  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:36:13.942  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:36:14.372  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:36:14.657  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:36:14.724 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:36:14.728 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:36:14.931  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:36:15.244  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:36:15.266  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:36:15.275  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:36:15.399  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:36:15.420  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.145 seconds (JVM running for 14.282)
2023-02-16 19:36:15.467  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:36:16.256  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:36:16.258  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:36:16.267  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2023-02-16 19:36:44.746  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:36:44.752  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:36:46.446  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:36:46.962  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:36:47.458  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:36:47.542  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:36:47.594  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.697 seconds (JVM running for 4.912)
2023-02-16 19:36:47.601  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:36:47.706  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:36:49.203  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:36:49.209  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:36:49.542  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 317 ms. Found 14 JPA repository interfaces.
2023-02-16 19:36:49.808  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:36:50.552  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:36:50.573  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:36:50.577  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:36:50.725  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:36:50.727  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3012 ms
2023-02-16 19:36:50.907  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:36:51.078  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:36:51.753  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:36:51.848  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:36:51.969  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:36:52.281  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:36:52.533  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:36:52.678  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:36:54.208  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:36:54.261  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:36:55.563  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:36:55.566  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:36:55.569  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:36:55.571  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:36:55.574  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:36:55.575  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:36:55.577  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:36:55.578  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:36:56.057  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:36:56.063  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:36:56.612  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:36:57.034  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:36:57.315  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:36:57.370 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:36:57.374 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:36:57.619  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:36:57.997  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:36:58.031  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:36:58.042  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:36:58.171  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:36:58.194  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.585 seconds (JVM running for 15.512)
2023-02-16 19:36:58.249  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:37:02.806  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:37:02.809  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:37:02.814  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:37:31.739  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:37:31.746  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:37:33.264  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:37:33.724  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:37:34.348  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:37:34.445  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:37:34.504  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.676 seconds (JVM running for 4.987)
2023-02-16 19:37:34.515  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:37:34.623  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:37:36.097  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:37:36.104  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:37:36.454  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 333 ms. Found 14 JPA repository interfaces.
2023-02-16 19:37:36.690  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:37:37.391  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:37:37.411  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:37:37.414  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:37:37.553  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:37:37.555  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2922 ms
2023-02-16 19:37:37.708  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:37:37.842  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:37:38.564  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:37:38.646  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:37:38.757  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:37:39.013  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:37:39.219  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:37:39.337  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:37:40.822  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:37:40.843  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:37:41.993  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:37:41.996  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:37:41.999  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:37:42.002  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:37:42.005  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:37:42.007  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:37:42.008  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:37:42.009  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:37:42.465  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:37:42.473  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:37:42.891  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:37:43.283  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:37:43.500  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:37:43.704 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:37:43.707 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:37:43.764  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:37:44.147  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:37:44.190  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:37:44.200  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:37:44.314  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:37:44.332  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.808 seconds (JVM running for 14.815)
2023-02-16 19:37:44.380  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:37:44.649  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:37:44.651  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:37:44.657  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:38:13.798  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:38:13.806  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:38:15.478  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:38:16.003  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:38:16.535  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:38:16.621  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:38:16.670  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.747 seconds (JVM running for 5.581)
2023-02-16 19:38:16.677  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:38:16.766  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:38:18.441  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:38:18.450  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:38:18.809  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 342 ms. Found 14 JPA repository interfaces.
2023-02-16 19:38:19.018  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:38:19.704  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:38:19.722  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:38:19.725  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:38:19.885  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:38:19.891  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3117 ms
2023-02-16 19:38:20.131  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:38:20.255  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:38:20.898  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:38:20.993  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:38:21.127  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:38:21.478  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:38:21.738  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:38:21.874  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:38:23.178  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:38:23.195  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:38:24.393  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:38:24.395  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:38:24.399  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:38:24.400  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:38:24.403  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:38:24.404  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:38:24.405  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:38:24.406  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:38:24.860  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:38:24.867  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:38:25.286  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:38:25.651  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:38:25.979  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:38:26.115 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:38:26.119 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:38:26.348  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:38:26.712  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:38:26.741  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:38:26.751  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:38:26.872  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:38:26.891  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.208 seconds (JVM running for 15.802)
2023-02-16 19:38:26.942  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:38:31.226  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:38:31.228  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:38:31.233  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:38:59.498  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:38:59.504  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:39:01.153  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:39:01.653  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:39:02.155  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:39:02.233  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:39:02.285  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.537 seconds (JVM running for 4.623)
2023-02-16 19:39:02.293  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:39:02.379  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:39:03.729  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:39:03.736  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:39:04.114  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 360 ms. Found 14 JPA repository interfaces.
2023-02-16 19:39:04.403  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:39:05.058  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:39:05.076  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:39:05.079  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:39:05.205  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:39:05.207  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2819 ms
2023-02-16 19:39:05.348  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:39:05.505  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:39:06.137  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:39:06.230  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:39:06.368  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:39:06.681  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:39:06.885  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:39:07.017  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:39:08.331  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:39:08.348  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:39:09.387  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:39:09.390  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:39:09.392  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:39:09.393  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:39:09.395  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:39:09.396  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:39:09.398  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:39:09.399  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:39:09.870  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:39:09.875  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:39:10.288  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:39:10.702  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:39:10.960  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:39:11.106 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:39:11.110 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:39:11.246  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:39:11.662  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:39:11.699  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:39:11.713  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:39:11.839  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:39:11.860  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.559 seconds (JVM running for 14.197)
2023-02-16 19:39:11.908  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:39:12.801  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:39:12.803  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:39:12.809  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:39:41.263  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:39:41.270  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:39:42.905  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:39:43.428  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:39:43.912  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:39:43.999  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:39:44.047  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.748 seconds (JVM running for 4.811)
2023-02-16 19:39:44.055  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:39:44.158  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:39:45.512  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:39:45.519  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:39:45.826  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 293 ms. Found 14 JPA repository interfaces.
2023-02-16 19:39:46.005  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:39:46.679  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:39:46.695  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:39:46.698  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:39:46.812  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:39:46.814  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2647 ms
2023-02-16 19:39:46.988  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:39:47.157  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:39:47.708  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:39:47.783  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:39:47.888  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:39:48.147  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:39:48.368  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:39:48.492  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:39:49.835  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:39:49.851  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:39:50.918  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:39:50.920  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:39:50.922  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:39:50.923  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:39:50.925  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:39:50.926  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:39:50.927  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:39:50.928  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:39:51.337  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:39:51.343  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:39:51.797  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:39:52.214  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:39:52.453  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:39:52.583 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:39:52.587 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:39:52.743  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:39:53.104  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:39:53.131  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:39:53.141  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:39:53.254  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:39:53.273  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.209 seconds (JVM running for 14.036)
2023-02-16 19:39:53.320  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:39:54.389  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:39:54.391  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:39:54.398  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:40:23.379  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:40:23.385  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:40:25.751  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:40:26.454  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:40:26.980  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:40:27.081  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:40:27.145  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.657 seconds (JVM running for 6.051)
2023-02-16 19:40:27.154  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:40:27.262  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:40:28.709  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:40:28.715  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:40:29.153  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 421 ms. Found 14 JPA repository interfaces.
2023-02-16 19:40:29.452  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:40:30.298  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:40:30.317  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:40:30.321  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:40:30.458  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:40:30.460  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3189 ms
2023-02-16 19:40:30.658  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:40:30.850  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:40:31.540  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:40:31.642  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:40:31.837  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:40:32.199  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:40:32.466  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:40:32.615  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:40:34.087  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:40:34.109  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:40:35.545  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:40:35.548  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:40:35.551  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:40:35.553  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:40:35.557  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:40:35.558  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:40:35.560  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:40:35.562  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:40:36.063  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:40:36.069  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:40:36.546  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:40:36.990  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:40:37.318 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:40:37.322 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:40:37.333  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:40:37.687  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:40:38.109  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:40:38.143  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:40:38.201  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:40:38.331  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:40:38.360  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.198 seconds (JVM running for 17.266)
2023-02-16 19:40:38.420  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:40:41.236  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:40:41.238  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:40:41.244  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:41:09.832  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:41:09.845  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:41:11.607  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:41:12.140  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:41:12.588  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:41:12.656  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:41:12.699  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.683 seconds (JVM running for 4.779)
2023-02-16 19:41:12.707  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:41:12.794  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:41:14.171  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:41:14.175  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:41:14.516  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 327 ms. Found 14 JPA repository interfaces.
2023-02-16 19:41:14.729  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:41:15.418  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:41:15.438  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:41:15.441  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:41:15.600  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:41:15.603  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2798 ms
2023-02-16 19:41:15.828  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:41:16.033  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:41:16.719  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:41:16.813  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:41:16.928  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:41:17.237  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:41:17.500  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:41:17.625  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:41:18.927  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:41:18.950  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:41:20.105  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:41:20.109  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:41:20.113  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:41:20.114  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:41:20.119  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:41:20.121  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:41:20.125  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:41:20.145  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:41:20.583  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:41:20.589  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:41:20.988  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:41:21.338  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:41:21.622  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:41:21.804 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:41:21.808 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:41:21.992  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:41:22.369  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:41:22.398  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:41:22.410  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:41:22.520  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:41:22.541  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.826 seconds (JVM running for 14.621)
2023-02-16 19:41:22.592  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:41:23.062  INFO 241 --- [http-nio-8070-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:41:23.065  INFO 241 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:41:23.071  INFO 241 --- [http-nio-8070-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:41:52.108  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:41:52.114  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:41:53.715  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:41:54.360  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:41:54.945  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:41:55.028  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:41:55.079  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.799 seconds (JVM running for 5.321)
2023-02-16 19:41:55.087  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:41:55.183  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:41:56.729  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:41:56.735  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:41:57.052  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 14 JPA repository interfaces.
2023-02-16 19:41:57.262  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:41:57.994  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:41:58.017  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:41:58.021  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:41:58.154  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:41:58.156  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2963 ms
2023-02-16 19:41:58.330  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:41:58.503  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:41:59.163  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:41:59.249  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:41:59.399  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:41:59.801  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:42:00.068  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:42:00.205  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:42:01.337  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:42:01.353  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:42:02.552  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:42:02.556  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:42:02.558  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:42:02.560  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:42:02.562  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:42:02.564  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:42:02.565  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:42:02.566  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:42:02.976  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:42:02.981  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:42:03.434  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:42:03.814  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:42:04.119  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:42:04.235 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:42:04.241 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:42:04.514  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:42:04.919  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:42:04.947  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:42:04.958  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:42:05.070  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:42:05.088  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.994 seconds (JVM running for 15.33)
2023-02-16 19:42:05.136  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:42:09.894  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:42:09.897  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:42:09.902  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:42:38.437  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:42:38.444  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:42:40.044  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:42:40.579  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:42:41.078  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:42:41.162  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:42:41.214  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.582 seconds (JVM running for 4.755)
2023-02-16 19:42:41.220  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:42:41.310  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:42:42.766  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:42:42.773  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:42:43.121  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 334 ms. Found 14 JPA repository interfaces.
2023-02-16 19:42:43.308  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:42:43.959  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:42:43.976  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:42:43.979  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:42:44.100  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:42:44.102  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2784 ms
2023-02-16 19:42:44.280  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:42:44.455  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:42:45.107  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:42:45.204  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:42:45.374  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:42:45.789  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:42:46.073  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:42:46.217  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:42:47.559  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:42:47.575  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:42:48.677  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:42:48.681  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:42:48.684  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:42:48.686  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:42:48.689  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:42:48.691  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:42:48.692  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:42:48.694  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:42:49.122  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:42:49.128  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:42:49.598  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:42:50.013  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:42:50.297  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:42:50.395 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:42:50.399 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:42:50.592  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:42:50.938  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:42:50.963  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:42:50.973  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:42:51.100  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:42:51.119  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.891 seconds (JVM running for 14.66)
2023-02-16 19:42:51.170  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:42:51.598  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:42:51.600  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:42:51.607  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:43:21.073  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:43:21.080  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:43:22.881  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:43:23.681  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:43:24.376  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:43:24.472  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:43:24.524  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.346 seconds (JVM running for 5.657)
2023-02-16 19:43:24.533  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:43:24.633  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:43:26.063  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:43:26.070  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:43:26.426  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 340 ms. Found 14 JPA repository interfaces.
2023-02-16 19:43:26.635  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:43:27.308  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:43:27.327  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:43:27.331  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:43:27.472  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:43:27.474  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2829 ms
2023-02-16 19:43:27.642  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:43:27.820  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:43:28.584  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:43:28.682  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:43:28.826  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:43:29.134  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:43:29.366  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:43:29.494  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:43:30.780  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:43:30.797  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:43:31.950  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:43:31.953  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:43:31.956  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:43:31.957  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:43:31.960  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:43:31.961  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:43:31.962  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:43:31.964  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:43:32.561  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:43:32.584  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:43:33.065  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:43:33.490  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:43:33.892 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:43:33.894 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:43:33.897  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:43:34.343  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:43:34.695  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:43:34.717  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:43:34.726  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:43:34.821  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:43:34.838  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.298 seconds (JVM running for 15.972)
2023-02-16 19:43:34.886  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:43:39.022  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:43:39.026  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:43:39.030  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:44:02.338  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:44:02.344  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:44:03.759  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:44:04.257  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:44:04.750  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:44:04.822  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:44:04.868  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.281 seconds (JVM running for 4.445)
2023-02-16 19:44:04.875  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:44:04.962  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:44:06.300  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:44:06.308  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:44:06.635  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 312 ms. Found 14 JPA repository interfaces.
2023-02-16 19:44:06.802  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:44:07.394  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:44:07.408  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:44:07.410  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:44:07.523  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:44:07.525  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2555 ms
2023-02-16 19:44:07.668  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:44:07.832  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:44:08.371  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:44:08.456  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:44:08.602  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:44:08.882  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:44:09.084  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:44:09.201  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:44:10.348  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:44:10.368  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:44:11.367  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:44:11.369  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:44:11.371  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:44:11.371  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:44:11.373  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:44:11.373  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:44:11.374  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:44:11.375  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:44:11.804  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:44:11.809  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:44:12.195  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:44:12.554  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:44:12.793  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:44:13.021 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:44:13.026 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:44:13.079  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:44:13.391  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:44:13.416  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:44:13.423  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:44:13.534  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:44:13.556  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.673 seconds (JVM running for 13.133)
2023-02-16 19:44:13.601  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:44:15.538  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:44:15.542  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:44:15.548  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:44:43.790  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:44:43.796  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:44:45.651  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:44:46.180  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:44:46.675  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:44:46.746  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:44:46.793  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.725 seconds (JVM running for 4.822)
2023-02-16 19:44:46.799  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:44:46.874  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:44:48.156  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:44:48.162  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:44:48.512  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 336 ms. Found 14 JPA repository interfaces.
2023-02-16 19:44:48.711  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:44:49.377  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:44:49.393  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:44:49.395  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:44:49.509  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:44:49.511  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2628 ms
2023-02-16 19:44:49.682  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:44:49.872  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:44:50.476  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:44:50.559  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:44:50.687  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:44:50.998  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:44:51.218  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:44:51.344  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:44:52.740  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:44:52.759  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:44:53.760  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:44:53.763  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:44:53.766  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:44:53.767  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:44:53.770  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:44:53.771  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:44:53.772  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:44:53.774  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:44:54.172  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:44:54.178  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:44:54.626  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:44:55.123  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:44:55.346  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:44:55.410 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:44:55.413 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:44:55.603  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:44:55.964  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:44:55.992  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:44:56.007  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:44:56.138  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:44:56.158  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.353 seconds (JVM running for 14.187)
2023-02-16 19:44:56.203  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:44:57.162  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:44:57.168  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:44:57.181  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2023-02-16 19:45:25.819  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:45:25.831  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:45:27.468  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:45:27.949  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:45:28.460  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:45:28.537  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:45:28.585  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.514 seconds (JVM running for 4.69)
2023-02-16 19:45:28.593  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:45:28.680  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:45:29.965  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:45:29.971  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:45:30.277  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 291 ms. Found 14 JPA repository interfaces.
2023-02-16 19:45:30.459  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:45:31.120  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:45:31.139  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:45:31.142  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:45:31.276  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:45:31.277  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2589 ms
2023-02-16 19:45:31.429  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:45:31.598  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:45:32.205  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:45:32.290  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:45:32.416  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:45:32.690  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:45:32.878  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:45:32.985  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:45:34.254  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:45:34.271  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:45:35.387  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:45:35.391  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:45:35.394  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:45:35.395  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:45:35.398  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:45:35.399  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:45:35.401  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:45:35.402  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:45:35.814  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:45:35.826  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:45:36.332  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:45:36.748  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:45:36.973  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:45:37.151 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:45:37.156 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:45:37.229  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:45:37.554  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:45:37.577  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:45:37.585  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:45:37.706  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:45:37.730  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.128 seconds (JVM running for 13.835)
2023-02-16 19:45:37.778  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:45:39.019  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:45:39.022  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:45:39.026  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:46:07.840  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:46:07.850  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:46:09.766  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:46:10.371  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:46:10.935  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:46:11.031  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:46:11.088  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.117 seconds (JVM running for 5.405)
2023-02-16 19:46:11.098  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:46:11.211  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:46:12.813  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:46:12.819  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:46:13.259  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 422 ms. Found 14 JPA repository interfaces.
2023-02-16 19:46:13.500  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:46:14.317  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:46:14.340  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:46:14.346  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:46:14.494  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:46:14.495  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3274 ms
2023-02-16 19:46:14.687  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:46:14.896  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:46:15.551  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:46:15.644  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:46:15.785  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:46:16.120  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:46:16.394  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:46:16.550  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:46:18.195  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:46:18.216  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:46:19.530  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:46:19.533  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:46:19.536  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:46:19.537  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:46:19.540  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:46:19.542  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:46:19.545  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:46:19.546  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:46:19.989  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:46:19.997  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:46:20.565  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:46:21.034  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:46:21.325  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:46:21.341 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:46:21.344 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:46:21.649  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:46:22.036  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:46:22.075  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:46:22.097  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:46:22.250  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:46:22.274  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.168 seconds (JVM running for 16.591)
2023-02-16 19:46:22.333  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:46:25.843  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:46:25.846  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:46:25.852  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:46:55.728  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:46:55.734  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:46:57.599  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:46:58.124  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:46:58.661  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:46:58.755  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:46:58.813  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.145 seconds (JVM running for 5.671)
2023-02-16 19:46:58.822  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:46:58.925  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:47:00.430  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:47:00.436  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:47:00.783  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 328 ms. Found 14 JPA repository interfaces.
2023-02-16 19:47:00.986  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:47:01.703  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:47:01.733  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:47:01.741  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:47:01.893  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:47:01.894  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2958 ms
2023-02-16 19:47:02.087  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:47:02.238  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:47:02.847  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:47:03.176  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:47:03.318  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:47:03.692  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:47:04.028  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:47:04.185  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:47:05.402  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:47:05.423  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:47:06.643  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:47:06.645  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:47:06.647  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:47:06.648  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:47:06.650  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:47:06.652  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:47:06.653  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:47:06.653  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:47:07.010  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:47:07.015  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:47:07.431  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:47:07.919  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:47:08.205  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:47:08.252 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:47:08.256 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:47:08.495  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:47:08.840  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:47:08.872  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:47:08.882  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:47:09.030  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:47:09.050  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.219 seconds (JVM running for 15.908)
2023-02-16 19:47:09.098  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:47:13.308  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:47:13.314  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:47:13.320  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:47:42.519  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:47:42.535  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:47:44.727  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:47:45.318  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:47:45.870  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:47:45.965  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:47:46.036  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.461 seconds (JVM running for 5.875)
2023-02-16 19:47:46.047  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:47:46.164  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:47:47.748  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:47:47.756  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:47:48.161  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 385 ms. Found 14 JPA repository interfaces.
2023-02-16 19:47:48.466  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:47:49.300  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:47:49.323  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:47:49.327  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:47:49.474  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:47:49.477  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3301 ms
2023-02-16 19:47:49.653  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:47:49.830  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:47:50.595  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:47:50.795  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:47:50.922  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:47:51.254  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:47:51.530  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:47:51.680  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:47:53.163  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:47:53.184  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:47:54.614  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:47:54.617  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:47:54.622  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:47:54.624  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:47:54.628  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:47:54.631  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:47:54.632  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:47:54.634  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:47:55.167  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:47:55.173  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:47:55.660  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:47:56.174  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:47:56.440 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:47:56.443 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:47:56.541  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:47:56.887  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:47:57.317  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:47:57.351  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:47:57.365  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:47:57.497  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:47:57.519  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.465 seconds (JVM running for 17.358)
2023-02-16 19:47:57.580  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:48:00.308  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:48:00.312  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:48:00.318  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:48:34.342  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:48:34.348  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:48:36.279  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:48:36.975  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:48:37.563  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:48:37.641  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:48:37.695  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.346 seconds (JVM running for 5.758)
2023-02-16 19:48:37.708  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:48:37.865  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:48:39.699  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:48:39.704  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:48:40.003  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 285 ms. Found 14 JPA repository interfaces.
2023-02-16 19:48:40.232  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:48:41.220  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:48:41.240  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:48:41.245  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:48:41.370  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:48:41.372  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3491 ms
2023-02-16 19:48:41.538  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:48:41.696  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:48:42.505  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:48:42.646  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:48:42.838  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:48:43.250  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:48:43.640  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:48:43.825  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:48:46.497  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:48:46.517  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:48:47.566  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:48:47.569  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:48:47.571  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:48:47.573  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:48:47.575  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:48:47.576  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:48:47.577  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:48:47.578  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:48:48.088  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:48:48.094  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:48:48.531  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:48:48.950  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:48:49.220  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:48:49.305 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:48:49.309 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:48:49.495  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:48:49.845  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:48:49.871  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:48:49.880  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:48:49.983  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:48:50.003  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.284 seconds (JVM running for 18.066)
2023-02-16 19:48:50.049  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:48:52.059  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:48:52.062  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:48:52.066  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:49:21.182  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:49:21.190  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:49:23.067  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:49:23.717  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:49:24.325  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:49:24.450  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:49:24.543  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.294 seconds (JVM running for 5.649)
2023-02-16 19:49:24.554  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:49:24.672  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:49:26.451  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:49:26.460  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:49:26.853  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 368 ms. Found 14 JPA repository interfaces.
2023-02-16 19:49:27.093  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:49:27.909  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:49:27.931  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:49:27.935  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:49:28.087  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:49:28.090  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3405 ms
2023-02-16 19:49:28.298  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:49:28.516  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:49:29.205  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:49:29.313  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:49:29.543  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:49:29.934  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:49:30.229  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:49:30.385  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:49:31.852  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:49:31.876  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:49:33.219  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:49:33.222  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:49:33.225  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:49:33.227  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:49:33.230  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:49:33.232  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:49:33.233  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:49:33.234  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:49:33.670  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:49:33.676  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:49:34.172  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:49:34.688  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:49:34.930 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:49:34.933 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:49:35.013  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:49:35.356  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:49:35.766  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:49:35.801  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:49:35.814  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:49:35.954  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:49:35.978  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.413 seconds (JVM running for 17.084)
2023-02-16 19:49:36.043  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:49:39.068  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:49:39.071  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:49:39.078  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:50:08.429  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:50:08.436  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:50:10.437  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:50:11.102  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:50:11.773  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:50:11.869  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:50:11.938  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.51 seconds (JVM running for 5.905)
2023-02-16 19:50:11.950  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:50:12.072  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:50:13.797  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:50:13.805  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:50:14.266  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 442 ms. Found 14 JPA repository interfaces.
2023-02-16 19:50:14.528  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:50:15.416  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:50:15.473  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:50:15.478  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:50:15.643  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:50:15.645  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3560 ms
2023-02-16 19:50:15.814  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:50:15.983  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:50:16.770  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:50:16.894  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:50:17.069  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:50:17.508  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:50:17.830  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:50:17.999  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:50:19.624  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:50:19.647  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:50:20.993  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:50:20.996  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:50:20.999  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:50:21.002  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:50:21.006  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:50:21.007  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:50:21.009  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:50:21.010  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:50:21.520  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:50:21.528  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:50:21.987  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:50:22.442  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:50:22.775 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:50:22.778 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:50:22.799  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:50:23.215  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:50:23.604  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:50:23.636  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:50:23.647  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:50:23.794  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:50:23.834  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.873 seconds (JVM running for 17.798)
2023-02-16 19:50:23.929  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:50:26.197  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:50:26.202  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:50:26.209  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:50:56.044  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:50:56.066  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:50:58.210  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:50:58.940  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:50:59.594  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:50:59.690  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:50:59.756  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.946 seconds (JVM running for 6.557)
2023-02-16 19:50:59.770  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:50:59.883  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:51:02.076  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:51:02.084  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:51:02.466  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 364 ms. Found 14 JPA repository interfaces.
2023-02-16 19:51:02.705  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:51:03.599  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:51:03.618  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:51:03.621  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:51:03.771  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:51:03.773  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3878 ms
2023-02-16 19:51:04.100  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:51:04.507  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:51:05.503  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:51:05.632  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:51:05.816  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:51:06.186  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:51:06.484  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:51:06.658  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:51:08.078  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:51:08.097  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:51:09.291  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:51:09.294  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:51:09.297  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:51:09.298  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:51:09.300  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:51:09.301  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:51:09.302  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:51:09.303  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:51:09.715  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:51:09.720  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:51:10.218  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:51:10.739  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:51:10.966 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:51:10.969 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:51:11.058  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:51:11.431  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:51:12.022  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:51:12.067  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:51:12.079  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:51:12.215  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:51:12.249  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.471 seconds (JVM running for 19.049)
2023-02-16 19:51:12.332  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:51:13.382  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:51:13.384  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:51:13.390  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:51:41.981  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:51:41.989  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:51:43.695  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:51:44.248  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:51:44.716  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:51:44.791  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:51:44.838  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.632 seconds (JVM running for 4.68)
2023-02-16 19:51:44.847  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:51:44.939  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:51:46.301  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:51:46.307  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:51:46.636  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 315 ms. Found 14 JPA repository interfaces.
2023-02-16 19:51:46.825  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:51:47.606  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:51:47.624  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:51:47.627  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:51:47.756  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:51:47.758  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2809 ms
2023-02-16 19:51:47.933  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:51:48.116  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:51:48.817  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:51:48.901  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:51:49.044  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:51:49.356  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:51:49.589  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:51:49.712  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:51:51.010  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:51:51.027  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:51:52.067  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:51:52.070  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:51:52.073  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:51:52.074  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:51:52.077  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:51:52.078  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:51:52.080  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:51:52.081  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:51:52.522  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:51:52.526  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:51:52.911  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:51:53.377  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:51:53.618  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:51:53.739 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:51:53.743 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:51:53.980  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:51:54.536  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:51:54.570  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:51:54.583  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:51:54.731  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:51:54.760  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.906 seconds (JVM running for 14.602)
2023-02-16 19:51:54.826  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:51:55.356  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:51:55.358  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:51:55.364  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:52:23.848  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:52:23.854  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:52:26.736  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:52:27.396  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:52:27.928  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:52:27.996  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:52:28.055  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 5.065 seconds (JVM running for 6.187)
2023-02-16 19:52:28.064  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:52:28.162  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:52:29.645  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:52:29.651  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:52:29.958  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 294 ms. Found 14 JPA repository interfaces.
2023-02-16 19:52:30.150  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:52:30.746  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:52:30.762  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:52:30.765  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:52:30.892  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:52:30.894  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2723 ms
2023-02-16 19:52:31.060  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:52:31.181  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:52:31.858  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:52:31.955  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:52:32.092  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:52:32.441  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:52:32.695  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:52:32.837  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:52:34.244  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:52:34.260  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:52:35.337  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:52:35.340  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:52:35.342  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:52:35.343  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:52:35.345  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:52:35.347  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:52:35.348  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:52:35.349  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:52:35.758  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:52:35.765  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:52:36.171  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:52:36.584  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:52:36.889  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:52:36.985 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:52:36.991 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:52:37.245  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:52:37.750  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:52:37.798  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:52:37.818  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:52:37.983  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:52:38.032  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.96 seconds (JVM running for 16.164)
2023-02-16 19:52:38.170  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:52:42.040  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:52:42.045  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:52:42.052  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:53:10.560  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:53:10.565  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:53:11.992  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:53:12.469  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:53:12.922  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:53:13.003  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:53:13.056  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.205 seconds (JVM running for 4.246)
2023-02-16 19:53:13.063  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:53:13.194  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:53:14.445  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:53:14.451  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:53:14.781  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 314 ms. Found 14 JPA repository interfaces.
2023-02-16 19:53:14.968  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:53:15.654  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:53:15.669  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:53:15.672  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:53:15.788  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:53:15.790  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2588 ms
2023-02-16 19:53:15.956  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:53:16.113  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:53:16.721  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:53:16.806  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:53:16.915  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:53:17.173  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:53:17.387  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:53:17.518  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:53:18.751  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:53:18.768  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:53:19.757  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:53:19.759  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:53:19.762  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:53:19.763  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:53:19.765  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:53:19.767  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:53:19.767  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:53:19.768  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:53:20.156  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:53:20.160  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:53:20.524  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:53:20.861  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:53:21.109  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:53:21.370 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:53:21.372 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:53:21.377  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:53:21.682  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:53:21.708  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:53:21.719  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:53:21.817  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:53:21.834  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.764 seconds (JVM running for 13.025)
2023-02-16 19:53:21.875  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:53:23.919  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:53:23.922  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:53:23.930  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:53:52.286  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:53:52.303  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:53:53.762  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:53:54.528  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:53:55.026  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:53:55.104  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:53:55.158  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.635 seconds (JVM running for 4.766)
2023-02-16 19:53:55.174  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:53:55.281  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:53:57.389  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:53:57.397  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:53:57.905  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 488 ms. Found 14 JPA repository interfaces.
2023-02-16 19:53:58.367  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:53:59.528  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:53:59.550  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:53:59.558  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:53:59.706  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:53:59.708  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4419 ms
2023-02-16 19:53:59.912  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:54:00.104  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:54:00.889  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:54:00.985  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:54:01.130  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:54:01.421  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:54:01.655  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:54:01.776  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:54:03.754  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:54:03.778  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:54:06.176  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:54:06.180  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:54:06.183  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:54:06.184  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:54:06.186  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:54:06.187  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:54:06.188  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:54:06.189  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:54:06.688  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:54:06.695  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:54:07.171  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:54:07.684  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:54:07.959 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:54:07.961 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:54:08.013  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:54:08.379  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:54:08.782  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:54:08.812  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:54:08.823  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:54:09.068  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:54:09.101  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 13.92 seconds (JVM running for 18.71)
2023-02-16 19:54:09.185  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:54:10.566  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:54:10.569  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:54:10.576  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:54:39.456  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:54:39.463  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:54:41.225  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:54:41.745  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:54:42.204  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:54:42.280  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:54:42.329  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.648 seconds (JVM running for 4.895)
2023-02-16 19:54:42.336  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:54:42.429  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:54:43.888  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:54:43.894  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:54:44.278  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 368 ms. Found 14 JPA repository interfaces.
2023-02-16 19:54:44.531  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:54:45.237  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:54:45.253  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:54:45.257  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:54:45.392  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:54:45.394  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2957 ms
2023-02-16 19:54:45.567  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:54:45.725  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:54:46.402  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:54:46.490  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:54:46.659  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:54:47.049  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:54:47.295  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:54:47.428  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:54:48.652  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:54:48.669  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:54:49.731  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:54:49.734  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:54:49.736  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:54:49.737  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:54:49.740  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:54:49.742  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:54:49.743  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:54:49.744  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:54:50.155  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:54:50.159  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:54:50.586  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:54:50.992  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:54:51.263  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:54:51.353 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:54:51.361 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:54:51.569  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:54:51.962  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:54:51.991  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:54:52.002  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:54:52.207  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:54:52.224  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.882 seconds (JVM running for 14.791)
2023-02-16 19:54:52.268  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:54:52.591  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:54:52.593  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:54:52.599  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:55:21.710  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:55:21.716  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:55:23.723  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:55:24.415  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:55:24.978  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:55:25.100  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:55:25.154  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.425 seconds (JVM running for 5.867)
2023-02-16 19:55:25.162  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:55:25.265  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:55:27.136  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:55:27.145  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:55:27.513  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 349 ms. Found 14 JPA repository interfaces.
2023-02-16 19:55:27.762  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:55:28.625  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:55:28.647  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:55:28.651  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:55:28.832  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:55:28.835  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3559 ms
2023-02-16 19:55:29.037  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:55:29.215  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:55:29.866  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:55:30.018  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:55:30.181  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:55:30.509  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:55:30.762  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:55:30.917  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:55:32.589  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:55:32.617  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:55:34.180  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:55:34.183  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:55:34.187  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:55:34.188  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:55:34.192  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:55:34.194  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:55:34.195  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:55:34.197  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:55:34.801  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:55:34.811  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:55:35.414  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:55:35.984  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:55:36.120 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:55:36.125 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:55:36.377  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:55:36.783  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:55:37.226  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:55:37.254  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:55:37.266  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:55:37.387  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:55:37.407  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.238 seconds (JVM running for 18.12)
2023-02-16 19:55:37.464  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:55:39.432  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:55:39.436  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:55:39.440  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 19:56:08.256  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:56:08.264  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:56:10.269  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:56:10.879  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:56:11.463  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:56:11.578  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:56:11.641  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.256 seconds (JVM running for 5.493)
2023-02-16 19:56:11.648  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:56:11.753  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:56:13.271  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:56:13.278  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:56:13.644  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 350 ms. Found 14 JPA repository interfaces.
2023-02-16 19:56:13.870  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:56:14.758  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:56:14.780  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:56:14.783  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:56:14.942  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:56:14.944  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3177 ms
2023-02-16 19:56:15.125  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:56:15.303  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:56:16.026  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:56:16.122  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:56:16.263  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:56:16.623  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:56:16.888  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:56:17.036  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:56:18.603  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:56:18.623  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:56:19.833  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:56:19.836  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:56:19.838  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:56:19.839  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:56:19.842  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:56:19.843  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:56:19.845  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:56:19.846  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:56:20.361  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:56:20.367  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:56:20.896  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:56:21.348  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:56:21.609 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:56:21.612 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:56:21.649  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:56:22.011  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:56:22.415  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:56:22.450  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:56:22.464  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:56:22.643  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:56:22.666  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.009 seconds (JVM running for 16.518)
2023-02-16 19:56:22.734  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:56:26.303  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:56:26.307  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:56:26.315  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:57:00.712  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 246 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:57:00.718  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:57:02.815  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:57:03.474  INFO 246 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:57:04.015  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:57:04.101  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:57:04.164  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.319 seconds (JVM running for 5.854)
2023-02-16 19:57:04.172  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:57:04.303  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:57:05.747  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:57:05.756  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:57:06.163  INFO 246 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 387 ms. Found 14 JPA repository interfaces.
2023-02-16 19:57:06.446  INFO 246 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:57:07.264  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:57:07.283  INFO 246 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:57:07.287  INFO 246 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:57:07.504  INFO 246 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:57:07.506  INFO 246 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3195 ms
2023-02-16 19:57:07.765  INFO 246 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:57:07.980  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:57:09.491  INFO 246 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:57:09.714  INFO 246 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:57:09.959  INFO 246 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:57:10.501  INFO 246 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:57:10.962  INFO 246 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:57:11.156  WARN 246 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:57:12.784  INFO 246 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:57:12.802  INFO 246 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:57:14.156  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:57:14.161  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:57:14.165  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:57:14.167  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:57:14.171  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:57:14.172  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:57:14.177  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:57:14.180  INFO 246 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:57:14.844  INFO 246 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:57:14.867  INFO 246 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:57:15.326  INFO 246 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:57:15.789  WARN 246 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:57:16.076 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:57:16.078 ERROR 246 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:57:16.098  INFO 246 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:57:16.384  INFO 246 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:57:16.755  INFO 246 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:57:16.786  WARN 246 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:57:16.798  INFO 246 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:57:16.918  INFO 246 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:57:16.940  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.758 seconds (JVM running for 18.629)
2023-02-16 19:57:16.990  INFO 246 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:57:18.470  INFO 246 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:57:18.474  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:57:18.482  INFO 246 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 19:57:47.079  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:57:47.087  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:57:48.703  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:57:49.614  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:57:50.128  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:57:50.214  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:57:50.314  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.104 seconds (JVM running for 5.261)
2023-02-16 19:57:50.324  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:57:50.474  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:57:52.112  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:57:52.119  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:57:52.464  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 326 ms. Found 14 JPA repository interfaces.
2023-02-16 19:57:52.675  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:57:53.308  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:57:53.329  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:57:53.332  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:57:53.464  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:57:53.466  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2977 ms
2023-02-16 19:57:53.626  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:57:53.813  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:57:54.453  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:57:54.553  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:57:54.732  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:57:55.069  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:57:55.309  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:57:55.452  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:57:56.828  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:57:56.846  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:57:57.888  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:57:57.891  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:57:57.893  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:57:57.894  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:57:57.896  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:57:57.897  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:57:57.899  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:57:57.900  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:57:58.268  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:57:58.274  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:57:58.667  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:57:59.110  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:57:59.397  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:57:59.471 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:57:59.474 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:57:59.702  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:58:00.051  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:58:00.083  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:58:00.093  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:58:00.210  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:58:00.229  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.896 seconds (JVM running for 15.177)
2023-02-16 19:58:00.277  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:58:05.173  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:58:05.175  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:58:05.180  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:58:33.563  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:58:33.569  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:58:35.282  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:58:35.736  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:58:36.211  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:58:36.288  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:58:36.336  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.6 seconds (JVM running for 4.665)
2023-02-16 19:58:36.342  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:58:36.431  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:58:37.667  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:58:37.674  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:58:38.019  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 327 ms. Found 14 JPA repository interfaces.
2023-02-16 19:58:38.297  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:58:38.950  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:58:38.967  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:58:38.971  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:58:39.098  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:58:39.100  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2660 ms
2023-02-16 19:58:39.294  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:58:39.458  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:58:40.089  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:58:40.173  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:58:40.287  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:58:40.573  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:58:40.800  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:58:40.926  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:58:42.076  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:58:42.093  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:58:43.777  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:58:43.781  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:58:43.787  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:58:43.788  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:58:43.791  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:58:43.792  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:58:43.793  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:58:43.795  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:58:44.377  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:58:44.382  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:58:44.924  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:58:45.387  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:58:45.657  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:58:45.717 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:58:45.720 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:58:45.903  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:58:46.292  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:58:46.314  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:58:46.324  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:58:46.456  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:58:46.479  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.129 seconds (JVM running for 14.807)
2023-02-16 19:58:46.531  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:58:46.808  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:58:46.811  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:58:46.817  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 19:59:15.833  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 19:59:15.839  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:59:17.383  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 19:59:17.923  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 19:59:18.523  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:59:18.626  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:59:18.682  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.733 seconds (JVM running for 5.051)
2023-02-16 19:59:18.692  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 19:59:18.826  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 19:59:20.448  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 19:59:20.455  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 19:59:20.809  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 338 ms. Found 14 JPA repository interfaces.
2023-02-16 19:59:21.132  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 19:59:21.800  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 19:59:21.824  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 19:59:21.829  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 19:59:21.976  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 19:59:21.977  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3137 ms
2023-02-16 19:59:22.171  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 19:59:22.371  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 19:59:22.923  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 19:59:23.003  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 19:59:23.128  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 19:59:23.444  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 19:59:23.668  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 19:59:23.812  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 19:59:25.191  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 19:59:25.210  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 19:59:26.524  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 19:59:26.528  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 19:59:26.531  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 19:59:26.532  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 19:59:26.536  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 19:59:26.538  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 19:59:26.539  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 19:59:26.541  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 19:59:27.007  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 19:59:27.014  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 19:59:27.426  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 19:59:27.806  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 19:59:28.099  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 19:59:28.267 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 19:59:28.271 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 19:59:28.461  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 19:59:28.977  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 19:59:29.032  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 19:59:29.049  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 19:59:29.198  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 19:59:29.218  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.516 seconds (JVM running for 15.587)
2023-02-16 19:59:29.265  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 19:59:33.777  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 19:59:33.780  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 19:59:33.787  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 20:00:02.724  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:00:02.733  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:00:05.459  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:00:06.083  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:00:06.594  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:00:06.678  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:00:06.724  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.976 seconds (JVM running for 6.283)
2023-02-16 20:00:06.732  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:00:06.818  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:00:08.204  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:00:08.212  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:00:08.657  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 425 ms. Found 14 JPA repository interfaces.
2023-02-16 20:00:08.877  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:00:09.592  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:00:09.610  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:00:09.613  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:00:09.740  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:00:09.742  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2915 ms
2023-02-16 20:00:09.896  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:00:10.020  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:00:10.603  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:00:10.695  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:00:10.812  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:00:11.111  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:00:11.356  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:00:11.499  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:00:12.876  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:00:12.897  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:00:14.124  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:00:14.127  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:00:14.130  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:00:14.131  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:00:14.133  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:00:14.134  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:00:14.135  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:00:14.136  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:00:14.564  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:00:14.568  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:00:14.967  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:00:15.328  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:00:15.574  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:00:15.780 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:00:15.785 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:00:15.929  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:00:16.311  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:00:16.337  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:00:16.348  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:00:16.474  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:00:16.493  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.755 seconds (JVM running for 16.052)
2023-02-16 20:00:16.541  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:00:20.655  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:00:20.658  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:00:20.664  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:01:01.882  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 250 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:01:01.891  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:01:10.144  INFO 250 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:02:23.078  INFO 250 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:02:27.010  INFO 250 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:02:27.294  WARN 250 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:02:27.515  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 86.644 seconds (JVM running for 88.442)
2023-02-16 20:02:27.558  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:02:27.900  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:04:02.526  INFO 250 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:04:02.534  INFO 250 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:04:03.077  INFO 250 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 501 ms. Found 14 JPA repository interfaces.
2023-02-16 20:04:03.375  INFO 250 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:04:04.408  INFO 250 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:04:04.432  INFO 250 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:04:04.436  INFO 250 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:04:04.623  INFO 250 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:04:04.624  INFO 250 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 96690 ms
2023-02-16 20:04:04.832  INFO 250 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:04:05.086  INFO 250 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:04:06.040  INFO 250 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:04:06.245  INFO 250 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:04:06.431  INFO 250 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:04:07.286  INFO 250 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:04:07.793  INFO 250 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:04:08.113  WARN 250 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:04:10.313  INFO 250 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:04:10.342  INFO 250 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:04:12.385  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:04:12.388  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:04:12.391  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:04:12.393  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:04:12.396  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:04:12.398  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:04:12.400  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:04:12.401  INFO 250 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:04:13.174  INFO 250 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:04:13.186  INFO 250 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:04:27.846  INFO 250 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:04:27.884 ERROR 250 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:04:27.893 ERROR 250 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:04:28.755  WARN 250 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:04:29.131  INFO 250 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:04:29.520  INFO 250 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:04:29.967  INFO 250 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:04:30.011  WARN 250 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:04:30.026  INFO 250 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:04:30.190  INFO 250 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:04:30.215  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 122.637 seconds (JVM running for 211.138)
2023-02-16 20:04:30.299  INFO 250 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:04:32.575  INFO 250 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:04:32.578  INFO 250 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:04:32.584  INFO 250 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:05:12.359  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 251 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:05:12.366  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:05:14.303  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:05:14.949  INFO 251 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:05:15.438  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:05:15.512  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:05:15.564  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.219 seconds (JVM running for 5.719)
2023-02-16 20:05:15.572  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:05:15.681  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:05:17.315  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:05:17.322  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:05:17.669  INFO 251 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 327 ms. Found 14 JPA repository interfaces.
2023-02-16 20:05:17.934  INFO 251 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:05:18.971  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:05:18.989  INFO 251 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:05:18.993  INFO 251 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:05:19.127  INFO 251 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:05:19.128  INFO 251 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3436 ms
2023-02-16 20:05:19.301  INFO 251 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:05:19.523  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:05:20.170  INFO 251 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:05:20.260  INFO 251 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:05:20.449  INFO 251 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:05:20.768  INFO 251 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:05:21.015  INFO 251 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:05:21.162  WARN 251 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:05:22.781  INFO 251 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:05:22.800  INFO 251 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:05:24.297  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:05:24.300  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:05:24.303  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:05:24.305  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:05:24.307  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:05:24.309  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:05:24.310  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:05:24.312  INFO 251 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:05:25.044  INFO 251 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:05:25.051  INFO 251 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:05:25.620  INFO 251 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:05:26.024  WARN 251 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:05:26.336  INFO 251 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:05:26.397 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:05:26.403 ERROR 251 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:05:26.709  INFO 251 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:05:27.144  INFO 251 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:05:27.177  WARN 251 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:05:27.189  INFO 251 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:05:27.407  INFO 251 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:05:27.449  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 11.874 seconds (JVM running for 17.609)
2023-02-16 20:05:27.559  INFO 251 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:05:30.063  INFO 251 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:05:30.066  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:05:30.072  INFO 251 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:06:14.779  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 256 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:06:14.785  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:06:16.296  INFO 256 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:06:16.806  INFO 256 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:06:17.280  INFO 256 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:06:17.354  WARN 256 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:06:17.406  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.416 seconds (JVM running for 4.515)
2023-02-16 20:06:17.414  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:06:17.511  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:06:18.997  INFO 256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:06:19.003  INFO 256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:06:19.320  INFO 256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 300 ms. Found 14 JPA repository interfaces.
2023-02-16 20:06:19.527  INFO 256 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:06:20.230  INFO 256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:06:20.249  INFO 256 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:06:20.253  INFO 256 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:06:20.387  INFO 256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:06:20.389  INFO 256 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2870 ms
2023-02-16 20:06:20.547  INFO 256 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:06:20.695  INFO 256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:06:21.291  INFO 256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:06:21.712  INFO 256 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:06:21.838  INFO 256 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:06:22.348  INFO 256 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:06:23.089  INFO 256 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:06:23.314  WARN 256 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:06:25.866  INFO 256 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:06:25.890  INFO 256 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:06:27.242  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:06:27.245  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:06:27.248  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:06:27.250  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:06:27.254  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:06:27.258  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:06:27.259  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:06:27.261  INFO 256 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:06:27.661  INFO 256 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:06:27.666  INFO 256 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:06:28.068  INFO 256 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:06:28.439  WARN 256 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:06:28.690  INFO 256 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:06:28.893 ERROR 256 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:06:28.897 ERROR 256 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:06:28.974  INFO 256 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:06:29.308  INFO 256 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:06:29.334  WARN 256 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:06:29.345  INFO 256 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:06:29.485  INFO 256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:06:29.507  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.085 seconds (JVM running for 16.616)
2023-02-16 20:06:29.554  INFO 256 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:06:33.029  INFO 256 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:06:33.032  INFO 256 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:06:33.038  INFO 256 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:07:02.437  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:07:02.442  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:07:04.371  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:07:04.944  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:07:05.412  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:07:05.487  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:07:05.536  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.96 seconds (JVM running for 5.515)
2023-02-16 20:07:05.543  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:07:05.637  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:07:07.413  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:07:07.419  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:07:07.859  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 401 ms. Found 14 JPA repository interfaces.
2023-02-16 20:07:08.106  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:07:08.770  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:07:08.790  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:07:08.793  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:07:08.921  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:07:08.923  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3276 ms
2023-02-16 20:07:09.072  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:07:09.192  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:07:09.841  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:07:09.930  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:07:10.065  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:07:10.404  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:07:10.664  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:07:10.813  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:07:12.172  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:07:12.196  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:07:13.580  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:07:13.583  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:07:13.585  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:07:13.587  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:07:13.589  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:07:13.590  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:07:13.591  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:07:13.592  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:07:13.957  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:07:13.962  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:07:14.381  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:07:14.802  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:07:15.157  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:07:15.183 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:07:15.190 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:07:15.567  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:07:15.965  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:07:15.994  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:07:16.007  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:07:16.128  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:07:16.148  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.597 seconds (JVM running for 16.127)
2023-02-16 20:07:16.207  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:07:20.173  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:07:20.181  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:07:20.187  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 20:07:48.813  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:07:48.821  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:07:50.448  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:07:50.935  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:07:51.397  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:07:51.469  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:07:51.514  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.586 seconds (JVM running for 4.737)
2023-02-16 20:07:51.521  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:07:51.608  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:07:52.920  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:07:52.927  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:07:53.221  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 14 JPA repository interfaces.
2023-02-16 20:07:53.415  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:07:54.205  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:07:54.239  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:07:54.245  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:07:54.459  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:07:54.461  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2845 ms
2023-02-16 20:07:54.686  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:07:54.891  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:07:55.605  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:07:55.684  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:07:55.794  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:07:56.073  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:07:56.307  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:07:56.434  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:07:57.712  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:07:57.730  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:07:58.879  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:07:58.881  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:07:58.884  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:07:58.885  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:07:58.887  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:07:58.888  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:07:58.889  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:07:58.890  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:07:59.289  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:07:59.294  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:07:59.717  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:08:00.186  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:08:00.528 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:08:00.531 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:08:00.578  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:08:00.950  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:08:01.304  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:08:01.332  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:08:01.344  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:08:01.466  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:08:01.487  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.958 seconds (JVM running for 14.71)
2023-02-16 20:08:01.535  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:08:01.907  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:08:01.909  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:08:01.914  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:08:30.735  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 240 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:08:30.743  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:08:32.676  INFO 240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:08:33.163  INFO 240 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:08:33.651  INFO 240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:08:33.733  WARN 240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:08:33.784  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.105 seconds (JVM running for 5.369)
2023-02-16 20:08:33.791  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:08:33.881  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:08:35.122  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:08:35.127  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:08:35.421  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 14 JPA repository interfaces.
2023-02-16 20:08:35.604  INFO 240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:08:36.353  INFO 240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:08:36.372  INFO 240 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:08:36.377  INFO 240 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:08:36.520  INFO 240 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:08:36.523  INFO 240 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2633 ms
2023-02-16 20:08:36.736  INFO 240 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:08:36.855  INFO 240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:08:37.452  INFO 240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:08:37.532  INFO 240 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:08:37.661  INFO 240 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:08:38.001  INFO 240 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:08:38.219  INFO 240 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:08:38.339  WARN 240 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:08:39.499  INFO 240 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:08:39.517  INFO 240 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:08:40.602  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:08:40.605  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:08:40.607  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:08:40.608  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:08:40.611  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:08:40.612  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:08:40.613  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:08:40.615  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:08:41.160  INFO 240 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:08:41.165  INFO 240 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:08:41.568  INFO 240 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:08:41.891  WARN 240 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:08:42.247  INFO 240 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:08:42.406 ERROR 240 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:08:42.412 ERROR 240 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:08:42.654  INFO 240 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:08:43.271  INFO 240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:08:43.325  WARN 240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:08:43.342  INFO 240 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:08:43.524  INFO 240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:08:43.545  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.746 seconds (JVM running for 15.13)
2023-02-16 20:08:43.596  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:08:48.576  INFO 240 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:08:48.579  INFO 240 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:08:48.588  INFO 240 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2023-02-16 20:09:17.053  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:09:17.060  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:09:18.863  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:09:19.483  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:09:19.958  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:09:20.044  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:09:20.097  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.825 seconds (JVM running for 4.943)
2023-02-16 20:09:20.104  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:09:20.202  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:09:21.507  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:09:21.512  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:09:21.838  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 311 ms. Found 14 JPA repository interfaces.
2023-02-16 20:09:22.033  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:09:22.649  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:09:22.666  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:09:22.669  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:09:22.788  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:09:22.790  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2577 ms
2023-02-16 20:09:22.932  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:09:23.086  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:09:23.778  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:09:23.859  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:09:23.991  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:09:24.487  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:09:24.783  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:09:24.920  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:09:26.576  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:09:26.596  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:09:27.843  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:09:27.846  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:09:27.849  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:09:27.850  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:09:27.853  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:09:27.854  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:09:27.856  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:09:27.857  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:09:28.245  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:09:28.251  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:09:28.647  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:09:29.041  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:09:29.300  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:09:29.442 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:09:29.446 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:09:29.581  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:09:29.890  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:09:29.916  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:09:29.926  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:09:30.126  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:09:30.159  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.048 seconds (JVM running for 15.006)
2023-02-16 20:09:30.235  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:09:30.363  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:09:30.364  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:09:30.369  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:09:58.837  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 240 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:09:58.843  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:10:00.453  INFO 240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:10:01.137  INFO 240 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:10:01.578  INFO 240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:10:01.654  WARN 240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:10:01.702  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.645 seconds (JVM running for 4.761)
2023-02-16 20:10:01.708  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:10:01.798  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:10:03.074  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:10:03.081  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:10:03.411  INFO 240 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 315 ms. Found 14 JPA repository interfaces.
2023-02-16 20:10:03.684  INFO 240 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:10:04.435  INFO 240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:10:04.458  INFO 240 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:10:04.460  INFO 240 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:10:04.595  INFO 240 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:10:04.597  INFO 240 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2787 ms
2023-02-16 20:10:04.793  INFO 240 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:10:04.970  INFO 240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:10:05.589  INFO 240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:10:05.678  INFO 240 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:10:05.804  INFO 240 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:10:06.154  INFO 240 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:10:06.395  INFO 240 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:10:06.527  WARN 240 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:10:07.867  INFO 240 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:10:07.884  INFO 240 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:10:08.939  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:10:08.943  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:10:08.946  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:10:08.948  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:10:08.952  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:10:08.953  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:10:08.955  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:10:08.956  INFO 240 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:10:09.508  INFO 240 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:10:09.516  INFO 240 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:10:09.924  INFO 240 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:10:10.331  WARN 240 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:10:10.660  INFO 240 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:10:10.736 ERROR 240 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:10:10.742 ERROR 240 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:10:10.962  INFO 240 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:10:11.312  INFO 240 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:10:11.340  WARN 240 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:10:11.350  INFO 240 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:10:11.474  INFO 240 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:10:11.495  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.779 seconds (JVM running for 14.554)
2023-02-16 20:10:11.549  INFO 240 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:10:12.108  INFO 240 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:10:12.114  INFO 240 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:10:12.120  INFO 240 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:10:40.766  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:10:40.773  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:10:42.474  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:10:43.036  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:10:43.578  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:10:43.663  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:10:43.712  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.803 seconds (JVM running for 4.922)
2023-02-16 20:10:43.719  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:10:43.812  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:10:45.349  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:10:45.355  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:10:45.675  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 298 ms. Found 14 JPA repository interfaces.
2023-02-16 20:10:45.874  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:10:46.789  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:10:46.814  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:10:46.818  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:10:46.954  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:10:46.956  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3135 ms
2023-02-16 20:10:47.094  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:10:47.296  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:10:47.938  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:10:48.080  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:10:48.236  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:10:48.721  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:10:48.974  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:10:49.097  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:10:50.470  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:10:50.493  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:10:51.585  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:10:51.588  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:10:51.590  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:10:51.592  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:10:51.594  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:10:51.595  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:10:51.596  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:10:51.597  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:10:52.002  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:10:52.007  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:10:52.432  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:10:52.833  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:10:53.076  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:10:53.225 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:10:53.230 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:10:53.338  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:10:53.715  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:10:53.744  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:10:53.754  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:10:53.880  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:10:53.906  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.179 seconds (JVM running for 15.115)
2023-02-16 20:10:53.970  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:10:58.917  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:10:58.920  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:10:58.924  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:11:27.401  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:11:27.407  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:11:29.034  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:11:29.534  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:11:30.056  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:11:30.208  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:11:30.273  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.673 seconds (JVM running for 4.899)
2023-02-16 20:11:30.284  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:11:30.411  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:11:31.939  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:11:31.945  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:11:32.300  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 337 ms. Found 14 JPA repository interfaces.
2023-02-16 20:11:32.516  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:11:33.210  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:11:33.230  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:11:33.234  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:11:33.392  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:11:33.394  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2971 ms
2023-02-16 20:11:33.568  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:11:33.744  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:11:34.463  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:11:34.558  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:11:34.693  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:11:35.058  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:11:35.329  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:11:35.460  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:11:37.280  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:11:37.298  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:11:38.336  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:11:38.339  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:11:38.343  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:11:38.344  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:11:38.347  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:11:38.350  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:11:38.351  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:11:38.352  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:11:38.768  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:11:38.774  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:11:39.165  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:11:39.563  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:11:39.815  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:11:39.974 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:11:39.978 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:11:40.101  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:11:40.448  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:11:40.478  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:11:40.490  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:11:40.612  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:11:40.633  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.339 seconds (JVM running for 15.259)
2023-02-16 20:11:40.702  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:11:45.527  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:11:45.530  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:11:45.535  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:12:14.175  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:12:14.181  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:12:15.971  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:12:16.459  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:12:16.945  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:12:17.039  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:12:17.088  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.683 seconds (JVM running for 4.869)
2023-02-16 20:12:17.096  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:12:17.189  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:12:18.702  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:12:18.709  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:12:19.097  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 374 ms. Found 14 JPA repository interfaces.
2023-02-16 20:12:19.404  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:12:20.086  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:12:20.112  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:12:20.115  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:12:20.267  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:12:20.270  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3073 ms
2023-02-16 20:12:20.430  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:12:20.578  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:12:21.242  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:12:21.323  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:12:21.451  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:12:21.736  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:12:21.954  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:12:22.082  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:12:23.377  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:12:23.396  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:12:24.671  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:12:24.674  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:12:24.677  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:12:24.678  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:12:24.681  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:12:24.682  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:12:24.683  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:12:24.684  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:12:25.166  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:12:25.172  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:12:25.733  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:12:26.208  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:12:26.443 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:12:26.446 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:12:26.512  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:12:26.851  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:12:27.245  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:12:27.280  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:12:27.292  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:12:27.423  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:12:27.442  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 10.338 seconds (JVM running for 15.223)
2023-02-16 20:12:27.492  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:12:32.415  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:12:32.418  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:12:32.425  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:13:00.960  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:13:00.966  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:13:02.551  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:13:03.032  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:13:03.495  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:13:03.597  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:13:03.645  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.497 seconds (JVM running for 4.622)
2023-02-16 20:13:03.652  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:13:03.741  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:13:05.073  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:13:05.080  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:13:05.397  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 303 ms. Found 14 JPA repository interfaces.
2023-02-16 20:13:05.606  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:13:06.447  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:13:06.470  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:13:06.473  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:13:06.661  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:13:06.663  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2912 ms
2023-02-16 20:13:06.839  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:13:07.003  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:13:07.667  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:13:07.806  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:13:07.913  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:13:08.190  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:13:08.408  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:13:08.537  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:13:09.849  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:13:09.866  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:13:10.925  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:13:10.930  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:13:10.932  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:13:10.934  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:13:10.936  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:13:10.937  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:13:10.939  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:13:10.940  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:13:11.349  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:13:11.355  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:13:11.795  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:13:12.322  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:13:12.592 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:13:12.594 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:13:12.626  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:13:12.972  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:13:13.430  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:13:13.460  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:13:13.473  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:13:13.596  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:13:13.619  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.959 seconds (JVM running for 14.596)
2023-02-16 20:13:13.670  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:13:14.155  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:13:14.157  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:13:14.163  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:13:42.353  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 242 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:13:42.359  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:13:43.851  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:13:44.312  INFO 242 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:13:44.734  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:13:44.801  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:13:44.842  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.279 seconds (JVM running for 4.307)
2023-02-16 20:13:44.849  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:13:44.927  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:13:46.096  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:13:46.101  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:13:46.374  INFO 242 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 259 ms. Found 14 JPA repository interfaces.
2023-02-16 20:13:46.539  INFO 242 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:13:47.171  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:13:47.186  INFO 242 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:13:47.189  INFO 242 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:13:47.301  INFO 242 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:13:47.303  INFO 242 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2368 ms
2023-02-16 20:13:47.443  INFO 242 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:13:47.590  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:13:48.221  INFO 242 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:13:48.330  INFO 242 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:13:48.480  INFO 242 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:13:48.735  INFO 242 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:13:48.936  INFO 242 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:13:49.096  WARN 242 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:13:50.298  INFO 242 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:13:50.314  INFO 242 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:13:51.247  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:13:51.250  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:13:51.256  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:13:51.258  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:13:51.260  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:13:51.262  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:13:51.263  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:13:51.265  INFO 242 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:13:51.562  INFO 242 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:13:51.567  INFO 242 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:13:51.917  INFO 242 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:13:52.290  WARN 242 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:13:52.529  INFO 242 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:13:52.762 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:13:52.764 ERROR 242 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:13:52.808  INFO 242 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:13:53.128  INFO 242 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:13:53.153  WARN 242 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:13:53.162  INFO 242 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:13:53.267  INFO 242 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:13:53.286  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.429 seconds (JVM running for 12.75)
2023-02-16 20:13:53.334  INFO 242 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:13:55.637  INFO 242 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:13:55.642  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:13:55.648  INFO 242 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:14:19.111  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:14:19.119  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:14:20.520  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:14:20.945  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:14:21.444  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:14:21.513  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:14:21.563  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.28 seconds (JVM running for 4.323)
2023-02-16 20:14:21.571  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:14:21.657  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:14:22.927  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:14:22.933  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:14:23.226  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 14 JPA repository interfaces.
2023-02-16 20:14:23.399  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:14:24.042  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:14:24.069  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:14:24.072  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:14:24.224  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:14:24.225  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2560 ms
2023-02-16 20:14:24.366  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:14:24.534  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:14:25.159  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:14:25.249  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:14:25.392  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:14:25.651  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:14:25.836  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:14:25.961  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:14:27.007  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:14:27.021  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:14:27.996  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:14:27.999  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:14:28.002  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:14:28.003  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:14:28.006  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:14:28.007  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:14:28.008  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:14:28.009  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:14:28.427  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:14:28.431  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:14:28.781  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:14:29.127  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:14:29.352  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:14:29.587  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:14:29.612 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:14:29.614 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:14:29.896  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:14:29.922  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:14:29.930  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:14:30.078  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:14:30.100  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.522 seconds (JVM running for 12.86)
2023-02-16 20:14:30.156  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:14:32.339  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:14:32.342  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:14:32.347  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:14:56.078  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:14:56.088  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:14:57.440  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:14:57.882  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:14:58.309  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:14:58.383  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:14:58.430  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.072 seconds (JVM running for 4.245)
2023-02-16 20:14:58.436  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:14:58.514  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:14:59.710  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:14:59.717  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:14:59.995  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 263 ms. Found 14 JPA repository interfaces.
2023-02-16 20:15:00.227  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:15:00.937  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:15:00.952  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:15:00.955  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:15:01.093  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:15:01.095  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2572 ms
2023-02-16 20:15:01.251  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:15:01.461  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:15:02.084  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:15:02.167  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:15:02.280  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:15:02.562  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:15:02.779  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:15:02.895  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:15:04.049  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:15:04.070  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:15:05.040  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:15:05.042  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:15:05.045  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:15:05.046  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:15:05.049  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:15:05.050  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:15:05.051  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:15:05.053  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:15:05.383  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:15:05.388  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:15:05.742  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:15:06.145  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:15:06.406  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:15:06.586 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:15:06.588 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:15:06.629  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:15:06.962  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:15:06.982  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:15:06.990  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:15:07.077  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:15:07.092  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.65 seconds (JVM running for 12.907)
2023-02-16 20:15:07.132  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:15:09.296  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:15:09.300  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:15:09.305  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:15:32.776  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:15:32.782  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:15:34.081  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:15:34.510  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:15:34.891  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:15:34.954  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:15:34.997  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.928 seconds (JVM running for 3.912)
2023-02-16 20:15:35.004  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:15:35.087  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:15:36.279  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:15:36.285  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:15:36.558  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 259 ms. Found 14 JPA repository interfaces.
2023-02-16 20:15:36.739  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:15:37.352  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:15:37.365  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:15:37.368  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:15:37.469  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:15:37.486  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2390 ms
2023-02-16 20:15:37.619  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:15:37.747  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:15:38.367  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:15:38.451  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:15:38.567  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:15:38.811  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:15:38.998  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:15:39.101  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:15:40.251  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:15:40.268  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:15:41.254  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:15:41.257  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:15:41.260  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:15:41.261  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:15:41.263  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:15:41.264  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:15:41.265  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:15:41.266  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:15:41.610  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:15:41.615  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:15:41.916  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:15:42.363  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:15:42.630  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:15:42.801 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:15:42.803 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:15:42.928  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:15:43.385  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:15:43.413  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:15:43.427  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:15:43.539  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:15:43.562  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.551 seconds (JVM running for 12.477)
2023-02-16 20:15:43.602  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:15:46.197  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:15:46.200  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:15:46.205  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:16:09.171  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:16:09.177  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:16:10.527  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:16:10.988  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:16:11.402  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:16:11.480  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:16:11.526  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.051 seconds (JVM running for 4.034)
2023-02-16 20:16:11.532  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:16:11.620  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:16:12.963  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:16:12.968  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:16:13.313  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 328 ms. Found 14 JPA repository interfaces.
2023-02-16 20:16:13.479  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:16:14.128  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:16:14.142  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:16:14.145  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:16:14.263  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:16:14.265  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2637 ms
2023-02-16 20:16:14.421  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:16:14.590  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:16:15.172  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:16:15.246  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:16:15.353  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:16:15.643  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:16:15.858  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:16:15.991  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:16:17.179  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:16:17.196  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:16:18.242  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:16:18.244  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:16:18.246  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:16:18.247  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:16:18.249  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:16:18.252  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:16:18.253  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:16:18.254  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:16:18.699  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:16:18.704  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:16:19.068  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:16:19.471  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:16:19.680  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:16:19.891 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:16:19.894 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:16:19.925  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:16:20.208  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:16:20.232  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:16:20.240  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:16:20.331  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:16:20.346  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.807 seconds (JVM running for 12.855)
2023-02-16 20:16:20.384  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:16:22.595  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:16:22.598  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:16:22.602  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:16:46.117  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:16:46.122  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:16:47.419  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:16:47.841  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:16:48.345  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:16:48.420  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:16:48.466  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.047 seconds (JVM running for 4.071)
2023-02-16 20:16:48.471  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:16:48.556  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:16:49.826  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:16:49.830  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:16:50.109  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 14 JPA repository interfaces.
2023-02-16 20:16:50.263  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:16:50.826  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:16:50.840  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:16:50.842  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:16:50.933  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:16:50.934  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2370 ms
2023-02-16 20:16:51.056  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:16:51.172  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:16:51.781  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:16:51.856  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:16:51.960  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:16:52.218  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:16:52.461  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:16:52.564  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:16:53.674  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:16:53.704  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:16:54.752  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:16:54.755  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:16:54.758  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:16:54.761  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:16:54.764  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:16:54.766  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:16:54.767  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:16:54.768  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:16:55.138  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:16:55.142  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:16:55.526  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:16:55.850  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:16:56.078  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:16:56.318  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:16:56.372 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:16:56.374 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:16:56.659  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:16:56.686  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:16:56.695  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:16:56.796  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:16:56.811  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.333 seconds (JVM running for 12.417)
2023-02-16 20:16:56.850  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:16:59.504  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:16:59.506  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:16:59.511  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:17:22.685  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:17:22.691  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:17:23.999  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:17:24.527  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:17:25.013  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:17:25.098  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:17:25.149  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.129 seconds (JVM running for 4.107)
2023-02-16 20:17:25.155  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:17:25.236  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:17:26.489  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:17:26.494  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:17:26.748  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 242 ms. Found 14 JPA repository interfaces.
2023-02-16 20:17:26.883  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:17:27.414  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:17:27.429  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:17:27.430  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:17:27.543  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:17:27.545  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2301 ms
2023-02-16 20:17:27.698  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:17:27.873  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:17:28.402  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:17:28.481  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:17:28.585  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:17:28.830  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:17:29.010  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:17:29.111  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:17:30.226  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:17:30.247  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:17:31.327  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:17:31.330  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:17:31.333  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:17:31.334  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:17:31.336  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:17:31.337  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:17:31.338  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:17:31.340  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:17:31.693  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:17:31.697  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:17:31.985  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:17:32.352  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:17:32.575  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:17:32.819  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:17:32.850 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:17:32.852 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:17:33.183  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:17:33.215  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:17:33.227  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:17:33.370  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:17:33.393  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.23 seconds (JVM running for 12.351)
2023-02-16 20:17:33.450  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:17:36.195  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:17:36.198  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:17:36.203  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:17:59.336  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:17:59.342  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:18:00.712  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:18:01.124  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:18:01.591  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:18:01.675  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:18:01.727  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.058 seconds (JVM running for 4.075)
2023-02-16 20:18:01.734  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:18:01.822  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:18:02.877  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:18:02.881  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:18:03.142  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 14 JPA repository interfaces.
2023-02-16 20:18:03.303  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:18:03.872  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:18:03.887  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:18:03.889  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:18:03.992  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:18:03.994  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2164 ms
2023-02-16 20:18:04.133  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:18:04.265  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:18:04.868  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:18:04.944  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:18:05.051  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:18:05.303  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:18:05.494  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:18:05.610  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:18:06.948  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:18:06.963  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:18:07.892  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:18:07.894  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:18:07.896  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:18:07.897  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:18:07.899  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:18:07.900  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:18:07.901  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:18:07.903  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:18:08.226  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:18:08.230  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:18:08.624  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:18:08.988  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:18:09.187  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:18:09.394  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:18:09.468 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:18:09.470 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:18:09.669  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:18:09.687  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:18:09.693  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:18:09.781  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:18:09.797  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.057 seconds (JVM running for 12.146)
2023-02-16 20:18:09.834  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:18:12.752  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:18:12.755  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:18:12.760  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:18:35.999  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 235 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:18:36.009  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:18:37.842  INFO 235 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:18:38.336  INFO 235 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:18:38.776  INFO 235 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:18:38.855  WARN 235 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:18:38.902  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.622 seconds (JVM running for 4.697)
2023-02-16 20:18:38.910  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:18:39.004  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:18:40.245  INFO 235 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:18:40.250  INFO 235 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:18:40.551  INFO 235 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 286 ms. Found 14 JPA repository interfaces.
2023-02-16 20:18:40.735  INFO 235 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:18:41.364  INFO 235 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:18:41.380  INFO 235 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:18:41.383  INFO 235 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:18:41.518  INFO 235 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:18:41.521  INFO 235 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2508 ms
2023-02-16 20:18:41.680  INFO 235 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:18:41.848  INFO 235 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:18:42.636  INFO 235 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:18:42.733  INFO 235 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:18:42.873  INFO 235 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:18:43.250  INFO 235 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:18:43.486  INFO 235 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:18:43.610  WARN 235 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:18:44.851  INFO 235 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:18:44.868  INFO 235 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:18:45.912  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:18:45.915  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:18:45.918  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:18:45.919  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:18:45.921  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:18:45.923  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:18:45.924  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:18:45.925  INFO 235 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:18:46.296  INFO 235 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:18:46.301  INFO 235 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:18:46.627  INFO 235 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:18:46.947  WARN 235 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:18:47.228  INFO 235 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:18:47.477 ERROR 235 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:18:47.480 ERROR 235 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:18:47.541  INFO 235 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:18:47.908  INFO 235 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:18:47.937  WARN 235 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:18:47.947  INFO 235 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:18:48.145  INFO 235 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:18:48.173  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.255 seconds (JVM running for 13.967)
2023-02-16 20:18:48.237  INFO 235 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:18:49.320  INFO 235 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:18:49.323  INFO 235 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:18:49.330  INFO 235 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:19:18.231  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:19:18.241  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:19:20.408  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:19:21.029  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:19:21.617  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:19:21.710  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:19:21.771  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 4.605 seconds (JVM running for 5.888)
2023-02-16 20:19:21.780  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:19:21.894  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:19:23.720  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:19:23.727  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:19:24.224  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 474 ms. Found 14 JPA repository interfaces.
2023-02-16 20:19:24.652  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:19:25.792  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:19:25.819  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:19:25.823  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:19:25.983  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:19:25.985  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4081 ms
2023-02-16 20:19:26.233  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:19:26.526  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:19:27.384  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:19:27.511  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:19:27.676  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:19:28.087  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:19:28.348  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:19:28.503  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:19:29.969  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:19:29.986  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:19:31.448  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:19:31.454  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:19:31.457  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:19:31.459  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:19:31.463  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:19:31.465  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:19:31.467  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:19:31.469  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:19:31.915  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:19:31.921  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:19:32.382  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:19:32.821  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:19:33.145  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:19:33.158 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:19:33.163 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:19:33.463  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:19:33.852  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:19:33.884  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:19:33.897  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:19:34.027  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:19:34.049  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 12.261 seconds (JVM running for 18.166)
2023-02-16 20:19:34.111  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:19:36.028  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:19:36.030  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:19:36.034  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:20:04.197  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 241 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:20:04.203  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:20:05.692  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:20:06.237  INFO 241 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:20:06.796  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:20:06.916  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:20:06.963  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.462 seconds (JVM running for 4.453)
2023-02-16 20:20:06.971  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:20:07.059  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:20:08.307  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:20:08.313  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:20:08.658  INFO 241 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 331 ms. Found 14 JPA repository interfaces.
2023-02-16 20:20:08.948  INFO 241 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:20:09.567  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:20:09.582  INFO 241 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:20:09.585  INFO 241 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:20:09.695  INFO 241 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:20:09.696  INFO 241 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2628 ms
2023-02-16 20:20:09.843  INFO 241 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:20:09.979  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:20:10.534  INFO 241 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:20:10.606  INFO 241 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:20:10.705  INFO 241 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:20:10.950  INFO 241 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:20:11.146  INFO 241 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:20:11.251  WARN 241 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:20:12.428  INFO 241 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:20:12.446  INFO 241 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:20:13.423  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:20:13.426  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:20:13.429  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:20:13.430  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:20:13.433  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:20:13.434  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:20:13.435  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:20:13.435  INFO 241 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:20:13.786  INFO 241 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:20:13.791  INFO 241 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:20:14.223  INFO 241 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:20:14.556  WARN 241 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:20:14.776  INFO 241 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:20:15.023  INFO 241 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:20:15.071 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:20:15.074 ERROR 241 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:20:15.390  INFO 241 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:20:15.423  WARN 241 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:20:15.435  INFO 241 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:20:15.539  INFO 241 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:20:15.556  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.577 seconds (JVM running for 13.046)
2023-02-16 20:20:15.597  INFO 241 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:20:17.622  INFO 241 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:20:17.625  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:20:17.630  INFO 241 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:20:40.899  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 237 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:20:40.905  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:20:42.475  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:20:42.914  INFO 237 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:20:43.452  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:20:43.514  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:20:43.559  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.393 seconds (JVM running for 4.45)
2023-02-16 20:20:43.565  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:20:43.644  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:20:44.811  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:20:44.816  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:20:45.074  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 246 ms. Found 14 JPA repository interfaces.
2023-02-16 20:20:45.228  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:20:45.800  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:20:45.813  INFO 237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:20:45.815  INFO 237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:20:45.928  INFO 237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:20:45.930  INFO 237 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2277 ms
2023-02-16 20:20:46.076  INFO 237 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:20:46.224  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:20:46.777  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:20:46.852  INFO 237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:20:46.947  INFO 237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:20:47.192  INFO 237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:20:47.376  INFO 237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:20:47.481  WARN 237 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:20:48.793  INFO 237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:20:48.815  INFO 237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:20:49.792  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:20:49.794  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:20:49.796  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:20:49.797  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:20:49.799  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:20:49.800  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:20:49.801  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:20:49.802  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:20:50.235  INFO 237 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:20:50.240  INFO 237 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:20:50.581  INFO 237 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:20:50.900  WARN 237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:20:51.115  INFO 237 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:20:51.345  INFO 237 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:20:51.438 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:20:51.439 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:20:51.677  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:20:51.705  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:20:51.716  INFO 237 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:20:51.835  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:20:51.854  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.283 seconds (JVM running for 12.744)
2023-02-16 20:20:51.900  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:20:54.257  INFO 237 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:20:54.260  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:20:54.266  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:21:17.615  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:21:17.621  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:21:19.277  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:21:19.760  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:21:20.166  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:21:20.231  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:21:20.275  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.331 seconds (JVM running for 4.325)
2023-02-16 20:21:20.282  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:21:20.367  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:21:21.491  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:21:21.496  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:21:21.835  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 326 ms. Found 14 JPA repository interfaces.
2023-02-16 20:21:21.992  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:21:22.571  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:21:22.584  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:21:22.585  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:21:22.680  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:21:22.682  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2307 ms
2023-02-16 20:21:22.831  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:21:22.960  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:21:23.531  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:21:23.611  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:21:23.714  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:21:23.975  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:21:24.276  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:21:24.401  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:21:25.678  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:21:25.694  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:21:26.626  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:21:26.629  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:21:26.631  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:21:26.632  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:21:26.634  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:21:26.635  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:21:26.636  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:21:26.636  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:21:26.928  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:21:26.933  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:21:27.281  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:21:27.641  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:21:27.852  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:21:28.060  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:21:28.121 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:21:28.122 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:21:28.361  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:21:28.390  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:21:28.398  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:21:28.507  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:21:28.526  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.238 seconds (JVM running for 12.577)
2023-02-16 20:21:28.571  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:21:31.064  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:21:31.067  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:21:31.071  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:21:54.723  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:21:54.730  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:21:56.262  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:21:56.722  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:21:57.108  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:21:57.173  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:21:57.216  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.386 seconds (JVM running for 4.384)
2023-02-16 20:21:57.222  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:21:57.307  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:21:58.510  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:21:58.516  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:21:58.833  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 303 ms. Found 14 JPA repository interfaces.
2023-02-16 20:21:58.994  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:21:59.589  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:21:59.604  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:21:59.605  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:21:59.725  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:21:59.727  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2413 ms
2023-02-16 20:21:59.880  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:22:00.019  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:22:00.685  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:22:00.816  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:22:00.922  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:22:01.180  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:22:01.381  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:22:01.494  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:22:02.618  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:22:02.634  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:22:03.546  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:22:03.550  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:22:03.552  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:22:03.553  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:22:03.554  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:22:03.555  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:22:03.556  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:22:03.557  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:22:03.916  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:22:03.921  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:22:04.267  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:22:04.641  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:22:04.881  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:22:05.115 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:22:05.117 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:22:05.153  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:22:05.476  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:22:05.501  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:22:05.510  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:22:05.615  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:22:05.633  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.403 seconds (JVM running for 12.8)
2023-02-16 20:22:05.679  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:22:07.951  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:22:07.954  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:22:07.959  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:22:31.490  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:22:31.497  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:22:32.846  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:22:33.281  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:22:33.673  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:22:33.735  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:22:33.774  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.045 seconds (JVM running for 4.145)
2023-02-16 20:22:33.780  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:22:33.864  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:22:35.044  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:22:35.050  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:22:35.323  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 259 ms. Found 14 JPA repository interfaces.
2023-02-16 20:22:35.480  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:22:36.081  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:22:36.100  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:22:36.102  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:22:36.242  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:22:36.248  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2376 ms
2023-02-16 20:22:36.405  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:22:36.546  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:22:37.127  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:22:37.200  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:22:37.342  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:22:37.681  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:22:37.884  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:22:37.993  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:22:39.124  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:22:39.145  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:22:40.279  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:22:40.282  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:22:40.284  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:22:40.285  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:22:40.287  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:22:40.288  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:22:40.289  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:22:40.290  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:22:40.676  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:22:40.680  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:22:41.071  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:22:41.418  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:22:41.655  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:22:41.905 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:22:41.906 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:22:41.912  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:22:42.266  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:22:42.299  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:22:42.310  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:22:42.490  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:22:42.527  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.741 seconds (JVM running for 12.898)
2023-02-16 20:22:42.604  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:22:44.744  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:22:44.747  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:22:44.754  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:23:08.406  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:23:08.412  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:23:09.769  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:23:10.205  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:23:10.605  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:23:10.672  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:23:10.710  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.977 seconds (JVM running for 3.962)
2023-02-16 20:23:10.716  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:23:10.837  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:23:11.922  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:23:11.927  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:23:12.252  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 311 ms. Found 14 JPA repository interfaces.
2023-02-16 20:23:12.420  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:23:13.016  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:23:13.038  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:23:13.040  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:23:13.221  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:23:13.223  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2376 ms
2023-02-16 20:23:13.382  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:23:13.549  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:23:14.058  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:23:14.138  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:23:14.245  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:23:14.484  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:23:14.668  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:23:14.776  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:23:15.840  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:23:15.857  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:23:16.785  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:23:16.788  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:23:16.790  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:23:16.791  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:23:16.793  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:23:16.794  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:23:16.795  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:23:16.795  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:23:17.151  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:23:17.155  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:23:17.501  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:23:17.810  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:23:18.032  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:23:18.360 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:23:18.363 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:23:18.381  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:23:18.715  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:23:18.742  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:23:18.751  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:23:18.855  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:23:18.871  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.129 seconds (JVM running for 12.123)
2023-02-16 20:23:18.911  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:23:21.854  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:23:21.857  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:23:21.861  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:23:45.065  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:23:45.069  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:23:46.463  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:23:46.898  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:23:47.287  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:23:47.352  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:23:47.395  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.027 seconds (JVM running for 4.026)
2023-02-16 20:23:47.402  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:23:47.487  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:23:49.183  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:23:49.190  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:23:49.533  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 329 ms. Found 14 JPA repository interfaces.
2023-02-16 20:23:49.703  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:23:50.255  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:23:50.269  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:23:50.271  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:23:50.377  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:23:50.378  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2882 ms
2023-02-16 20:23:50.518  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:23:50.662  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:23:51.506  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:23:51.597  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:23:51.802  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:23:52.144  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:23:52.347  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:23:52.457  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:23:53.647  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:23:53.664  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:23:54.844  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:23:54.847  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:23:54.852  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:23:54.853  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:23:54.855  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:23:54.856  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:23:54.858  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:23:54.859  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:23:55.273  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:23:55.278  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:23:55.625  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:23:56.027  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:23:56.256  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:23:56.462 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:23:56.463 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:23:56.523  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:23:56.843  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:23:56.871  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:23:56.883  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:23:57.005  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:23:57.024  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.616 seconds (JVM running for 13.655)
2023-02-16 20:23:57.068  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:23:58.494  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:23:58.497  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:23:58.502  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:24:21.788  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:24:21.794  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:24:23.098  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:24:23.578  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:24:24.005  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:24:24.090  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:24:24.144  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.021 seconds (JVM running for 4.002)
2023-02-16 20:24:24.152  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:24:24.277  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:24:25.603  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:24:25.608  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:24:25.913  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 291 ms. Found 14 JPA repository interfaces.
2023-02-16 20:24:26.090  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:24:26.658  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:24:26.671  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:24:26.672  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:24:26.826  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:24:26.828  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2540 ms
2023-02-16 20:24:26.964  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:24:27.119  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:24:27.646  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:24:27.722  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:24:27.827  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:24:28.078  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:24:28.269  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:24:28.378  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:24:29.494  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:24:29.511  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:24:30.625  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:24:30.627  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:24:30.629  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:24:30.630  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:24:30.632  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:24:30.633  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:24:30.635  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:24:30.636  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:24:31.022  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:24:31.028  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:24:31.547  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:24:31.922  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:24:32.157  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:24:32.298 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:24:32.301 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:24:32.410  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:24:32.694  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:24:32.715  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:24:32.724  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:24:32.821  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:24:32.839  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.68 seconds (JVM running for 12.697)
2023-02-16 20:24:32.878  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:24:35.259  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:24:35.262  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:24:35.266  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:24:58.897  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:24:58.903  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:25:00.291  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:25:00.774  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:25:01.196  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:25:01.265  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:25:01.310  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.104 seconds (JVM running for 4.081)
2023-02-16 20:25:01.317  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:25:01.443  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:25:02.650  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:25:02.656  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:25:02.958  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 14 JPA repository interfaces.
2023-02-16 20:25:03.124  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:25:03.739  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:25:03.754  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:25:03.756  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:25:03.865  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:25:03.867  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2415 ms
2023-02-16 20:25:03.983  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:25:04.104  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:25:04.699  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:25:04.773  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:25:04.878  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:25:05.151  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:25:05.336  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:25:05.445  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:25:06.584  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:25:06.601  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:25:07.746  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:25:07.749  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:25:07.751  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:25:07.752  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:25:07.755  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:25:07.756  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:25:07.757  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:25:07.758  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:25:08.174  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:25:08.178  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:25:08.538  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:25:08.889  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:25:09.130  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:25:09.363 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:25:09.365 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:25:09.389  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:25:09.716  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:25:09.743  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:25:09.754  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:25:09.856  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:25:09.873  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.547 seconds (JVM running for 12.644)
2023-02-16 20:25:09.915  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:25:12.345  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:25:12.348  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:25:12.353  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:25:35.458  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:25:35.464  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:25:37.069  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:25:37.482  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:25:37.885  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:25:37.949  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:25:37.990  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.198 seconds (JVM running for 4.224)
2023-02-16 20:25:37.996  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:25:38.082  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:25:39.224  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:25:39.229  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:25:39.495  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 253 ms. Found 14 JPA repository interfaces.
2023-02-16 20:25:39.635  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:25:40.184  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:25:40.198  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:25:40.200  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:25:40.314  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:25:40.316  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2224 ms
2023-02-16 20:25:40.448  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:25:40.571  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:25:41.166  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:25:41.236  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:25:41.339  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:25:41.584  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:25:41.777  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:25:41.886  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:25:43.123  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:25:43.138  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:25:44.130  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:25:44.133  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:25:44.135  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:25:44.137  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:25:44.139  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:25:44.140  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:25:44.141  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:25:44.142  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:25:44.498  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:25:44.502  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:25:44.838  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:25:45.180  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:25:45.403  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:25:45.643  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:25:45.684 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:25:45.685 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:25:45.968  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:25:45.994  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:25:46.005  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:25:46.108  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:25:46.125  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.123 seconds (JVM running for 12.359)
2023-02-16 20:25:46.164  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:25:48.872  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:25:48.875  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:25:48.879  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:26:12.055  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:26:12.061  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:26:13.833  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:26:14.282  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:26:14.703  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:26:14.777  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:26:14.822  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.469 seconds (JVM running for 4.428)
2023-02-16 20:26:14.830  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:26:14.908  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:26:15.971  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:26:15.976  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:26:16.228  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 239 ms. Found 14 JPA repository interfaces.
2023-02-16 20:26:16.387  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:26:16.951  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:26:16.966  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:26:16.968  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:26:17.069  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:26:17.071  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2155 ms
2023-02-16 20:26:17.203  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:26:17.319  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:26:17.924  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:26:17.996  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:26:18.131  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:26:18.451  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:26:18.633  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:26:18.735  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:26:19.903  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:26:19.918  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:26:20.817  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:26:20.819  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:26:20.821  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:26:20.822  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:26:20.824  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:26:20.825  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:26:20.826  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:26:20.826  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:26:21.152  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:26:21.156  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:26:21.477  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:26:21.818  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:26:22.037  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:26:22.281  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:26:22.325 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:26:22.328 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:26:22.610  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:26:22.632  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:26:22.642  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:26:22.738  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:26:22.755  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 7.919 seconds (JVM running for 12.361)
2023-02-16 20:26:22.798  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:26:25.515  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:26:25.518  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:26:25.528  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2023-02-16 20:26:48.707  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:26:48.712  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:26:50.223  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:26:50.651  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:26:51.089  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:26:51.156  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:26:51.202  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.284 seconds (JVM running for 4.257)
2023-02-16 20:26:51.208  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:26:51.289  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:26:52.417  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:26:52.422  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:26:52.711  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 14 JPA repository interfaces.
2023-02-16 20:26:52.872  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:26:53.441  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:26:53.456  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:26:53.458  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:26:53.568  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:26:53.569  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2273 ms
2023-02-16 20:26:53.732  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:26:53.908  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:26:54.666  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:26:54.749  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:26:54.883  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:26:55.129  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:26:55.313  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:26:55.433  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:26:56.577  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:26:56.595  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:26:57.550  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:26:57.553  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:26:57.555  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:26:57.555  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:26:57.557  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:26:57.558  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:26:57.559  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:26:57.560  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:26:57.973  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:26:57.977  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:26:58.299  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:26:58.621  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:26:58.860  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:26:59.129  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:26:59.166 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:26:59.167 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:26:59.486  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:26:59.515  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:26:59.526  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:26:59.640  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:26:59.657  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.442 seconds (JVM running for 12.712)
2023-02-16 20:26:59.703  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:27:02.060  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:27:02.066  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:27:02.073  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:27:25.563  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:27:25.607  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:27:26.883  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:27:27.338  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:27:27.711  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:27:27.775  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:27:27.818  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.023 seconds (JVM running for 4.239)
2023-02-16 20:27:27.826  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:27:27.906  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:27:29.129  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:27:29.134  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:27:29.409  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 262 ms. Found 14 JPA repository interfaces.
2023-02-16 20:27:29.579  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:27:30.143  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:27:30.157  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:27:30.161  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:27:30.287  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:27:30.288  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2374 ms
2023-02-16 20:27:30.427  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:27:30.548  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:27:31.128  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:27:31.199  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:27:31.295  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:27:31.555  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:27:31.763  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:27:31.863  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:27:32.952  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:27:32.972  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:27:33.980  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:27:33.983  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:27:33.986  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:27:33.987  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:27:33.990  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:27:33.991  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:27:33.992  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:27:33.993  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:27:34.345  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:27:34.350  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:27:34.709  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:27:35.052  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:27:35.287  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:27:35.543 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:27:35.546 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:27:35.547  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:27:35.857  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:27:35.884  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:27:35.894  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:27:36.006  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:27:36.026  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.194 seconds (JVM running for 12.447)
2023-02-16 20:27:36.094  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:27:38.694  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:27:38.696  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:27:38.701  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:28:02.042  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:28:02.048  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:28:03.548  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:28:04.057  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:28:04.500  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:28:04.572  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:28:04.620  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.275 seconds (JVM running for 4.321)
2023-02-16 20:28:04.626  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:28:04.704  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:28:05.915  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:28:05.920  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:28:06.238  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 306 ms. Found 14 JPA repository interfaces.
2023-02-16 20:28:06.443  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:28:07.072  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:28:07.092  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:28:07.095  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:28:07.211  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:28:07.212  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2499 ms
2023-02-16 20:28:07.352  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:28:07.478  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:28:08.063  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:28:08.141  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:28:08.244  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:28:08.495  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:28:08.693  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:28:08.797  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:28:09.846  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:28:09.862  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:28:10.792  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:28:10.795  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:28:10.813  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:28:10.832  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:28:10.854  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:28:10.872  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:28:10.874  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:28:10.875  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:28:11.215  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:28:11.220  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:28:11.566  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:28:11.876  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:28:12.117  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:28:12.443 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:28:12.445 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:28:12.451  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:28:12.790  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:28:12.816  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:28:12.826  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:28:12.933  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:28:12.953  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.319 seconds (JVM running for 12.653)
2023-02-16 20:28:12.999  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:28:15.421  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:28:15.424  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:28:15.430  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:28:38.665  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:28:38.670  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:28:40.104  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:28:40.527  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:28:41.002  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:28:41.062  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:28:41.101  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.129 seconds (JVM running for 4.186)
2023-02-16 20:28:41.108  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:28:41.188  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:28:42.543  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:28:42.549  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:28:42.914  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 352 ms. Found 14 JPA repository interfaces.
2023-02-16 20:28:43.137  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:28:43.704  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:28:43.716  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:28:43.718  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:28:43.816  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:28:43.818  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2622 ms
2023-02-16 20:28:43.942  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:28:44.052  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:28:44.618  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:28:44.696  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:28:44.795  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:28:45.065  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:28:45.255  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:28:45.357  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:28:46.329  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:28:46.349  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:28:47.390  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:28:47.394  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:28:47.396  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:28:47.397  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:28:47.399  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:28:47.400  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:28:47.401  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:28:47.402  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:28:47.689  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:28:47.694  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:28:48.010  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:28:48.477  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:28:48.746  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:28:48.859 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:28:48.861 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:28:49.029  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:28:49.385  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:28:49.409  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:28:49.417  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:28:49.526  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:28:49.572  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.457 seconds (JVM running for 12.656)
2023-02-16 20:28:49.616  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:28:52.034  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:28:52.037  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:28:52.042  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:29:15.532  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:29:15.538  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:29:17.177  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:29:17.858  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:29:18.523  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:29:18.620  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:29:18.687  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.832 seconds (JVM running for 4.843)
2023-02-16 20:29:18.697  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:29:18.824  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:29:20.129  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:29:20.135  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:29:20.418  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 270 ms. Found 14 JPA repository interfaces.
2023-02-16 20:29:20.625  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:29:21.231  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:29:21.247  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:29:21.250  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:29:21.374  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:29:21.375  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2539 ms
2023-02-16 20:29:21.526  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:29:21.675  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:29:22.216  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:29:22.287  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:29:22.379  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:29:22.628  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:29:22.815  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:29:22.927  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:29:23.982  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:29:23.998  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:29:25.093  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:29:25.095  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:29:25.097  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:29:25.098  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:29:25.102  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:29:25.103  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:29:25.104  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:29:25.105  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:29:25.480  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:29:25.486  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:29:25.863  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:29:26.198  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:29:26.401  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:29:26.626  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:29:26.713 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:29:26.715 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:29:26.917  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:29:26.936  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:29:26.945  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:29:27.034  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:29:27.051  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.346 seconds (JVM running for 13.207)
2023-02-16 20:29:27.090  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:29:28.981  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:29:28.984  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:29:28.989  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:29:52.188  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:29:52.194  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:29:53.548  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:29:54.030  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:29:54.559  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:29:54.629  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:29:54.672  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.175 seconds (JVM running for 4.165)
2023-02-16 20:29:54.680  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:29:54.783  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:29:56.024  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:29:56.031  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:29:56.319  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 275 ms. Found 14 JPA repository interfaces.
2023-02-16 20:29:56.472  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:29:57.038  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:29:57.053  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:29:57.055  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:29:57.169  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:29:57.172  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2379 ms
2023-02-16 20:29:57.328  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:29:57.491  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:29:58.011  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:29:58.096  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:29:58.205  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:29:58.473  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:29:58.655  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:29:58.759  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:29:59.843  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:29:59.859  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:30:00.939  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:30:00.942  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:30:00.944  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:30:00.946  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:30:00.948  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:30:00.948  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:30:00.950  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:30:00.951  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:30:01.380  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:30:01.389  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:30:01.898  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:30:02.242  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:30:02.475  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:30:02.706 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:30:02.709 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:30:02.776  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:30:03.112  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:30:03.142  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:30:03.150  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:30:03.260  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:30:03.279  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.592 seconds (JVM running for 12.772)
2023-02-16 20:30:03.329  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:30:05.611  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:30:05.613  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:30:05.618  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:30:28.794  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:30:28.800  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:30:30.053  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:30:30.619  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:30:31.003  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:30:31.067  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:30:31.109  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.952 seconds (JVM running for 3.951)
2023-02-16 20:30:31.116  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:30:31.191  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:30:32.380  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:30:32.385  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:30:32.651  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 254 ms. Found 14 JPA repository interfaces.
2023-02-16 20:30:32.821  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:30:33.400  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:30:33.415  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:30:33.417  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:30:33.527  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:30:33.529  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2331 ms
2023-02-16 20:30:33.683  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:30:33.844  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:30:34.349  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:30:34.446  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:30:34.583  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:30:34.842  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:30:35.040  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:30:35.161  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:30:36.250  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:30:36.265  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:30:37.270  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:30:37.273  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:30:37.275  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:30:37.276  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:30:37.279  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:30:37.280  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:30:37.281  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:30:37.282  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:30:37.631  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:30:37.635  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:30:37.985  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:30:38.329  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:30:38.566  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:30:38.829 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:30:38.830 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:30:38.845  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:30:39.166  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:30:39.192  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:30:39.200  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:30:39.303  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:30:39.322  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.2 seconds (JVM running for 12.165)
2023-02-16 20:30:39.366  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:30:42.302  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:30:42.304  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:30:42.308  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:31:05.391  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:31:05.397  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:31:06.996  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:31:07.423  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:31:07.911  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:31:07.988  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:31:08.036  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.306 seconds (JVM running for 4.277)
2023-02-16 20:31:08.042  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:31:08.124  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:31:09.303  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:31:09.308  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:31:09.626  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 302 ms. Found 14 JPA repository interfaces.
2023-02-16 20:31:09.794  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:31:10.480  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:31:10.496  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:31:10.498  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:31:10.597  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:31:10.599  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2467 ms
2023-02-16 20:31:10.728  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:31:10.863  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:31:11.419  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:31:11.506  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:31:11.618  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:31:11.906  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:31:12.189  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:31:12.331  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:31:13.549  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:31:13.566  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:31:14.471  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:31:14.473  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:31:14.475  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:31:14.476  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:31:14.478  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:31:14.480  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:31:14.481  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:31:14.482  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:31:14.818  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:31:14.823  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:31:15.182  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:31:15.491  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:31:15.709  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:31:15.971  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:31:16.022 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:31:16.024 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:31:16.288  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:31:16.312  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:31:16.321  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:31:16.428  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:31:16.448  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.4 seconds (JVM running for 12.689)
2023-02-16 20:31:16.494  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:31:18.868  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:31:18.872  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:31:18.878  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:31:42.449  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:31:42.455  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:31:43.872  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:31:44.305  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:31:44.746  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:31:44.816  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:31:44.861  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.216 seconds (JVM running for 4.21)
2023-02-16 20:31:44.867  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:31:44.944  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:31:46.032  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:31:46.038  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:31:46.375  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 325 ms. Found 14 JPA repository interfaces.
2023-02-16 20:31:46.559  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:31:47.145  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:31:47.159  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:31:47.161  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:31:47.277  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:31:47.279  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2327 ms
2023-02-16 20:31:47.402  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:31:47.505  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:31:48.053  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:31:48.175  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:31:48.323  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:31:48.586  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:31:48.787  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:31:48.920  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:31:50.093  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:31:50.109  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:31:51.014  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:31:51.016  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:31:51.018  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:31:51.020  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:31:51.022  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:31:51.023  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:31:51.024  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:31:51.025  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:31:51.339  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:31:51.344  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:31:51.711  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:31:52.058  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:31:52.293  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:31:52.528 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:31:52.531 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:31:52.549  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:31:52.861  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:31:52.891  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:31:52.900  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:31:53.001  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:31:53.018  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.144 seconds (JVM running for 12.365)
2023-02-16 20:31:53.063  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:31:55.767  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:31:55.770  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:31:55.777  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:32:18.969  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:32:18.976  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:32:20.634  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:32:21.110  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:32:21.562  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:32:21.638  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:32:21.683  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.439 seconds (JVM running for 4.472)
2023-02-16 20:32:21.690  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:32:21.770  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:32:22.965  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:32:22.971  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:32:23.250  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 14 JPA repository interfaces.
2023-02-16 20:32:23.427  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:32:24.043  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:32:24.061  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:32:24.064  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:32:24.272  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:32:24.278  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2499 ms
2023-02-16 20:32:24.544  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:32:24.978  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:32:25.730  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:32:25.810  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:32:25.908  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:32:26.181  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:32:26.393  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:32:26.505  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:32:27.658  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:32:27.674  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:32:28.628  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:32:28.631  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:32:28.633  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:32:28.634  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:32:28.636  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:32:28.638  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:32:28.639  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:32:28.641  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:32:28.975  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:32:28.980  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:32:29.332  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:32:29.699  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:32:29.941  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:32:30.190 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:32:30.192 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:32:30.234  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:32:30.591  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:32:30.628  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:32:30.643  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:32:30.801  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:32:30.854  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.157 seconds (JVM running for 13.642)
2023-02-16 20:32:30.903  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:32:32.321  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:32:32.324  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:32:32.330  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:32:56.329  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:32:56.336  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:32:57.704  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:32:58.152  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:32:58.547  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:32:58.619  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:32:58.661  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.075 seconds (JVM running for 4.349)
2023-02-16 20:32:58.668  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:32:58.755  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:32:59.891  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:32:59.896  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:33:00.244  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 335 ms. Found 14 JPA repository interfaces.
2023-02-16 20:33:00.475  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:33:01.123  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:33:01.140  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:33:01.143  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:33:01.251  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:33:01.252  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2488 ms
2023-02-16 20:33:01.369  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:33:01.490  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:33:02.058  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:33:02.136  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:33:02.239  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:33:02.509  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:33:02.729  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:33:02.841  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:33:03.945  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:33:03.963  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:33:04.904  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:33:04.906  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:33:04.909  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:33:04.910  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:33:04.912  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:33:04.914  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:33:04.915  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:33:04.916  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:33:05.305  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:33:05.310  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:33:05.648  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:33:05.958  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:33:06.234  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:33:06.496 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:33:06.499 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:33:06.629  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:33:06.966  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:33:06.998  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:33:07.009  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:33:07.191  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:33:07.212  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.537 seconds (JVM running for 12.9)
2023-02-16 20:33:07.264  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:33:09.435  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:33:09.438  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:33:09.444  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:33:32.769  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:33:32.776  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:33:34.097  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:33:34.586  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:33:34.979  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:33:35.047  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:33:35.097  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.022 seconds (JVM running for 4.013)
2023-02-16 20:33:35.104  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:33:35.187  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:33:36.397  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:33:36.403  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:33:36.680  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 14 JPA repository interfaces.
2023-02-16 20:33:36.857  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:33:37.468  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:33:37.482  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:33:37.485  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:33:37.588  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:33:37.590  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2395 ms
2023-02-16 20:33:37.732  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:33:37.872  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:33:38.369  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:33:38.442  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:33:38.536  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:33:38.766  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:33:38.952  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:33:39.058  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:33:40.168  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:33:40.183  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:33:41.173  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:33:41.176  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:33:41.177  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:33:41.180  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:33:41.182  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:33:41.183  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:33:41.184  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:33:41.184  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:33:41.535  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:33:41.540  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:33:41.864  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:33:42.250  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:33:42.561  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:33:42.712 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:33:42.715 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:33:42.855  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:33:43.151  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:33:43.182  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:33:43.194  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:33:43.303  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:33:43.320  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.209 seconds (JVM running for 12.236)
2023-02-16 20:33:43.366  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:33:46.195  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:33:46.199  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:33:46.203  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:34:09.597  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:34:09.604  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:34:11.234  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:34:11.721  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:34:12.216  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:34:12.326  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:34:12.393  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.526 seconds (JVM running for 4.527)
2023-02-16 20:34:12.401  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:34:12.512  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:34:13.997  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:34:14.004  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:34:14.385  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 363 ms. Found 14 JPA repository interfaces.
2023-02-16 20:34:14.652  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:34:15.293  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:34:15.312  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:34:15.315  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:34:15.456  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:34:15.459  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2934 ms
2023-02-16 20:34:15.622  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:34:15.753  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:34:16.336  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:34:16.419  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:34:16.530  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:34:16.787  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:34:16.981  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:34:17.092  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:34:18.395  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:34:18.416  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:34:19.470  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:34:19.473  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:34:19.475  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:34:19.476  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:34:19.478  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:34:19.479  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:34:19.481  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:34:19.481  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:34:19.780  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:34:19.784  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:34:20.099  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:34:20.481  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:34:20.703  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:34:20.958 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:34:20.959 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:34:20.973  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:34:21.378  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:34:21.429  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:34:21.443  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:34:21.570  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:34:21.591  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 9.181 seconds (JVM running for 13.724)
2023-02-16 20:34:21.643  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:34:22.982  INFO 236 --- [http-nio-8070-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:34:22.986  INFO 236 --- [http-nio-8070-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:34:22.991  INFO 236 --- [http-nio-8070-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:34:46.143  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:34:46.148  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:34:47.547  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:34:47.963  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:34:48.454  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:34:48.528  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:34:48.572  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.075 seconds (JVM running for 4.013)
2023-02-16 20:34:48.579  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:34:48.656  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:34:49.857  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:34:49.863  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:34:50.138  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 260 ms. Found 14 JPA repository interfaces.
2023-02-16 20:34:50.303  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:34:50.889  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:34:50.905  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:34:50.907  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:34:51.038  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:34:51.039  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2372 ms
2023-02-16 20:34:51.208  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:34:51.360  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:34:52.238  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:34:52.324  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:34:52.445  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:34:52.714  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:34:52.901  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:34:53.009  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:34:54.092  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:34:54.115  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:34:55.269  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:34:55.272  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:34:55.274  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:34:55.276  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:34:55.278  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:34:55.279  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:34:55.280  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:34:55.281  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:34:55.643  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:34:55.648  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:34:55.988  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:34:56.347  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:34:56.576  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:34:56.829 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:34:56.831 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:34:56.834  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:34:57.161  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:34:57.186  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:34:57.196  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:34:57.294  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:34:57.309  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.722 seconds (JVM running for 12.75)
2023-02-16 20:34:57.352  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:34:59.681  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:34:59.683  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:34:59.687  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:35:23.061  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:35:23.067  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:35:24.723  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:35:25.282  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:35:25.740  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:35:25.809  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:35:25.854  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.589 seconds (JVM running for 4.702)
2023-02-16 20:35:25.860  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:35:25.945  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:35:27.329  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:35:27.336  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:35:27.642  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 293 ms. Found 14 JPA repository interfaces.
2023-02-16 20:35:27.857  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:35:28.454  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:35:28.470  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:35:28.472  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:35:28.581  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:35:28.582  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2628 ms
2023-02-16 20:35:28.704  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:35:28.825  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:35:29.352  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:35:29.421  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:35:29.519  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:35:29.758  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:35:29.940  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:35:30.044  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:35:31.209  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:35:31.225  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:35:32.265  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:35:32.269  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:35:32.271  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:35:32.272  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:35:32.274  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:35:32.275  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:35:32.276  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:35:32.278  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:35:32.603  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:35:32.607  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:35:32.925  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:35:33.272  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:35:33.504  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:35:33.756  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:35:33.781 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:35:33.783 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:35:34.075  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:35:34.100  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:35:34.109  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:35:34.224  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:35:34.246  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.379 seconds (JVM running for 13.094)
2023-02-16 20:35:34.297  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:35:36.271  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:35:36.273  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:35:36.279  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:35:59.926  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:35:59.931  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:36:01.491  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:36:01.949  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:36:02.378  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:36:02.449  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:36:02.491  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.275 seconds (JVM running for 4.32)
2023-02-16 20:36:02.499  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:36:02.576  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:36:04.003  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:36:04.009  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:36:04.311  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 290 ms. Found 14 JPA repository interfaces.
2023-02-16 20:36:04.484  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:36:05.077  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:36:05.091  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:36:05.093  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:36:05.201  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:36:05.203  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2618 ms
2023-02-16 20:36:05.324  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:36:05.432  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:36:05.804  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:36:06.074  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:36:06.204  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:36:06.540  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:36:06.728  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:36:06.836  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:36:08.014  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:36:08.031  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:36:09.128  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:36:09.131  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:36:09.133  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:36:09.135  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:36:09.137  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:36:09.138  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:36:09.139  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:36:09.140  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:36:09.517  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:36:09.521  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:36:09.832  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:36:10.147  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:36:10.368  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:36:10.626  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:36:10.679 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:36:10.682 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:36:10.946  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:36:10.972  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:36:10.981  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:36:11.100  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:36:11.119  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.615 seconds (JVM running for 12.948)
2023-02-16 20:36:11.162  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:36:13.287  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:36:13.289  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:36:13.297  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:36:36.678  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:36:36.684  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:36:38.103  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:36:38.556  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:36:38.951  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:36:39.022  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:36:39.065  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.197 seconds (JVM running for 4.211)
2023-02-16 20:36:39.073  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:36:39.155  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:36:40.310  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:36:40.315  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:36:40.607  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 14 JPA repository interfaces.
2023-02-16 20:36:40.825  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:36:41.418  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:36:41.435  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:36:41.438  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:36:41.551  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:36:41.553  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2388 ms
2023-02-16 20:36:41.709  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:36:41.880  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:36:42.631  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:36:42.713  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:36:42.835  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:36:43.112  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:36:43.396  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:36:43.529  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:36:44.674  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:36:44.691  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:36:45.644  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:36:45.647  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:36:45.649  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:36:45.650  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:36:45.652  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:36:45.653  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:36:45.654  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:36:45.655  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:36:46.032  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:36:46.037  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:36:46.396  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:36:46.747  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:36:46.967  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:36:47.194  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:36:47.239 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:36:47.241 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:36:47.469  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:36:47.490  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:36:47.497  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:36:47.591  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:36:47.610  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.529 seconds (JVM running for 12.756)
2023-02-16 20:36:47.651  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:36:49.957  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:36:49.959  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:36:49.964  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:37:13.406  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:37:13.411  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:37:14.784  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:37:15.211  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:37:15.618  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:37:15.684  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:37:15.730  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.054 seconds (JVM running for 4.114)
2023-02-16 20:37:15.736  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:37:15.815  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:37:16.966  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:37:16.971  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:37:17.226  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 242 ms. Found 14 JPA repository interfaces.
2023-02-16 20:37:17.391  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:37:17.949  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:37:17.963  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:37:17.964  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:37:18.067  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:37:18.069  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2247 ms
2023-02-16 20:37:18.205  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:37:18.416  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:37:18.955  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:37:19.076  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:37:19.174  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:37:19.446  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:37:19.650  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:37:19.757  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:37:20.844  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:37:20.860  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:37:21.757  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:37:21.759  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:37:21.761  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:37:21.762  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:37:21.764  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:37:21.765  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:37:21.766  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:37:21.767  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:37:22.106  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:37:22.111  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:37:22.459  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:37:22.784  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:37:23.016  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:37:23.254  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:37:23.295 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:37:23.303 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:37:23.565  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:37:23.587  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:37:23.596  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:37:23.708  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:37:23.728  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 7.984 seconds (JVM running for 12.112)
2023-02-16 20:37:23.778  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:37:26.724  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:37:26.727  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:37:26.731  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:37:50.147  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:37:50.154  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:37:51.511  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:37:51.966  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:37:52.386  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:37:52.457  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:37:52.505  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.088 seconds (JVM running for 4.169)
2023-02-16 20:37:52.512  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:37:52.596  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:37:53.802  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:37:53.808  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:37:54.094  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 271 ms. Found 14 JPA repository interfaces.
2023-02-16 20:37:54.357  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:37:55.147  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:37:55.163  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:37:55.166  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:37:55.270  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:37:55.272  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2668 ms
2023-02-16 20:37:55.406  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:37:55.548  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:37:56.239  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:37:56.315  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:37:56.426  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:37:56.671  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:37:56.872  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:37:56.998  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:37:58.149  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:37:58.166  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:37:59.094  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:37:59.097  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:37:59.099  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:37:59.101  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:37:59.103  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:37:59.105  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:37:59.106  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:37:59.107  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:37:59.433  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:37:59.438  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:37:59.776  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:38:00.133  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:38:00.410  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:38:00.636 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:38:00.638 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:38:00.681  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:38:00.990  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:38:01.019  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:38:01.029  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:38:01.126  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:38:01.145  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.626 seconds (JVM running for 12.809)
2023-02-16 20:38:01.196  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:38:03.441  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:38:03.443  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:38:03.448  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:38:26.544  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:38:26.550  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:38:27.941  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:38:28.365  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:38:28.778  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:38:28.844  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:38:28.889  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.045 seconds (JVM running for 4.129)
2023-02-16 20:38:28.895  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:38:28.977  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:38:30.052  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:38:30.057  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:38:30.447  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 375 ms. Found 14 JPA repository interfaces.
2023-02-16 20:38:30.638  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:38:31.207  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:38:31.221  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:38:31.222  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:38:31.329  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:38:31.332  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2348 ms
2023-02-16 20:38:31.465  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:38:31.632  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:38:32.239  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:38:32.308  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:38:32.404  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:38:32.648  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:38:32.828  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:38:32.930  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:38:34.185  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:38:34.202  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:38:35.215  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:38:35.218  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:38:35.220  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:38:35.221  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:38:35.223  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:38:35.223  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:38:35.224  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:38:35.225  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:38:35.549  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:38:35.553  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:38:35.879  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:38:36.270  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:38:36.563  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:38:36.753 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:38:36.754 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:38:36.827  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:38:37.155  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:38:37.181  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:38:37.191  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:38:37.351  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:38:37.377  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.475 seconds (JVM running for 12.616)
2023-02-16 20:38:37.444  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:38:39.868  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:38:39.870  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:38:39.875  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:39:03.304  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 237 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:39:03.310  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:39:04.605  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:39:05.023  INFO 237 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:39:05.408  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:39:05.481  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:39:05.528  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.948 seconds (JVM running for 4.233)
2023-02-16 20:39:05.535  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:39:05.627  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:39:06.956  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:39:06.960  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:39:07.226  INFO 237 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 250 ms. Found 14 JPA repository interfaces.
2023-02-16 20:39:07.391  INFO 237 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:39:07.951  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:39:07.964  INFO 237 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:39:07.965  INFO 237 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:39:08.077  INFO 237 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:39:08.079  INFO 237 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2440 ms
2023-02-16 20:39:08.222  INFO 237 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:39:08.381  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:39:08.925  INFO 237 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:39:08.997  INFO 237 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:39:09.093  INFO 237 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:39:09.343  INFO 237 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:39:09.551  INFO 237 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:39:09.675  WARN 237 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:39:10.822  INFO 237 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:39:10.839  INFO 237 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:39:11.760  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:39:11.763  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:39:11.765  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:39:11.766  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:39:11.768  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:39:11.768  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:39:11.769  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:39:11.770  INFO 237 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:39:12.122  INFO 237 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:39:12.127  INFO 237 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:39:12.561  INFO 237 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:39:12.898  WARN 237 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:39:13.186  INFO 237 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:39:13.378 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:39:13.382 ERROR 237 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:39:13.478  INFO 237 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:39:13.777  INFO 237 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:39:13.803  WARN 237 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:39:13.813  INFO 237 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:39:13.924  INFO 237 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:39:13.941  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.399 seconds (JVM running for 12.645)
2023-02-16 20:39:13.990  INFO 237 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:39:16.419  INFO 237 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:39:16.421  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:39:16.425  INFO 237 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:39:39.327  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:39:39.333  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:39:40.641  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:39:41.149  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:39:41.547  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:39:41.613  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:39:41.657  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.999 seconds (JVM running for 3.963)
2023-02-16 20:39:41.663  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:39:41.743  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:39:43.036  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:39:43.040  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:39:43.377  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 322 ms. Found 14 JPA repository interfaces.
2023-02-16 20:39:43.546  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:39:44.094  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:39:44.111  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:39:44.112  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:39:44.213  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:39:44.214  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2462 ms
2023-02-16 20:39:44.359  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:39:44.519  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:39:45.020  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:39:45.092  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:39:45.191  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:39:45.423  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:39:45.606  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:39:45.709  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:39:46.860  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:39:46.878  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:39:47.787  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:39:47.789  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:39:47.792  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:39:47.793  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:39:47.795  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:39:47.796  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:39:47.796  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:39:47.797  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:39:48.164  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:39:48.168  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:39:48.623  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:39:48.995  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:39:49.230  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:39:49.427 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:39:49.430 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:39:49.585  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:39:49.912  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:39:49.937  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:39:49.948  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:39:50.072  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:39:50.093  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.423 seconds (JVM running for 12.398)
2023-02-16 20:39:50.140  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:39:52.811  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:39:52.814  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:39:52.821  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:40:15.881  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:40:15.887  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:40:17.299  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:40:17.757  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:40:18.171  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:40:18.253  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:40:18.308  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.096 seconds (JVM running for 4.09)
2023-02-16 20:40:18.317  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:40:18.439  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:40:19.610  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:40:19.615  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:40:19.888  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 14 JPA repository interfaces.
2023-02-16 20:40:20.105  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:40:20.657  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:40:20.670  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:40:20.671  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:40:20.784  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:40:20.786  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2339 ms
2023-02-16 20:40:20.942  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:40:21.081  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:40:21.592  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:40:21.666  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:40:21.782  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:40:22.064  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:40:22.253  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:40:22.357  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:40:23.414  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:40:23.430  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:40:24.393  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:40:24.398  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:40:24.404  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:40:24.406  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:40:24.408  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:40:24.410  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:40:24.411  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:40:24.412  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:40:24.872  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:40:24.876  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:40:25.217  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:40:25.613  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:40:25.818  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:40:26.061  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:40:26.059 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:40:26.066 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:40:26.334  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:40:26.354  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:40:26.361  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:40:26.452  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:40:26.467  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.143 seconds (JVM running for 12.25)
2023-02-16 20:40:26.506  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:40:29.353  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:40:29.355  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:40:29.360  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:40:52.822  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:40:52.828  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:40:54.256  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:40:54.816  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:40:55.257  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:40:55.327  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:40:55.371  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.231 seconds (JVM running for 4.194)
2023-02-16 20:40:55.378  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:40:55.458  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:40:56.752  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:40:56.757  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:40:57.056  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 285 ms. Found 14 JPA repository interfaces.
2023-02-16 20:40:57.229  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:40:57.799  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:40:57.812  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:40:57.814  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:40:57.920  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:40:57.921  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2455 ms
2023-02-16 20:40:58.076  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:40:58.236  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:40:58.754  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:40:58.835  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:40:58.945  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:40:59.203  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:40:59.391  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:40:59.503  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:41:00.673  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:41:00.690  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:41:01.733  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:41:01.736  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:41:01.738  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:41:01.739  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:41:01.741  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:41:01.742  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:41:01.744  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:41:01.744  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:41:02.108  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:41:02.113  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:41:02.472  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:41:02.836  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:41:03.083  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:41:03.304 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:41:03.309 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:41:03.359  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:41:03.690  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:41:03.716  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:41:03.725  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:41:03.829  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:41:03.848  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.462 seconds (JVM running for 12.67)
2023-02-16 20:41:03.895  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:41:06.320  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:41:06.325  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:41:06.331  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-02-16 20:41:29.627  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:41:29.632  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:41:31.188  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:41:31.696  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:41:32.126  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:41:32.195  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:41:32.239  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.293 seconds (JVM running for 4.268)
2023-02-16 20:41:32.246  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:41:32.328  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:41:33.429  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:41:33.435  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:41:33.739  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 289 ms. Found 14 JPA repository interfaces.
2023-02-16 20:41:33.939  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:41:34.625  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:41:34.640  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:41:34.643  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:41:34.741  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:41:34.743  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2406 ms
2023-02-16 20:41:34.884  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:41:34.989  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:41:35.539  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:41:35.613  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:41:35.721  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:41:35.993  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:41:36.201  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:41:36.327  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:41:37.475  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:41:37.497  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:41:38.616  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:41:38.618  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:41:38.620  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:41:38.621  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:41:38.623  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:41:38.624  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:41:38.625  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:41:38.626  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:41:38.935  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:41:38.939  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:41:39.266  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:41:39.642  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:41:39.861  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:41:40.115 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:41:40.117 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:41:40.158  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:41:40.505  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:41:40.531  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:41:40.540  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:41:40.657  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:41:40.677  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.424 seconds (JVM running for 12.706)
2023-02-16 20:41:40.735  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:41:43.090  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:41:43.093  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:41:43.098  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:42:06.463  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:42:06.469  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:42:07.960  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:42:08.495  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:42:08.871  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:42:08.938  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:42:08.987  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.28 seconds (JVM running for 4.268)
2023-02-16 20:42:08.993  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:42:09.080  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:42:10.317  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:42:10.322  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:42:10.577  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 243 ms. Found 14 JPA repository interfaces.
2023-02-16 20:42:10.732  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:42:11.287  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:42:11.302  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:42:11.304  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:42:11.409  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:42:11.410  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2321 ms
2023-02-16 20:42:11.526  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:42:11.634  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:42:12.334  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:42:12.419  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:42:12.522  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:42:12.764  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:42:12.971  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:42:13.075  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:42:14.233  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:42:14.255  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:42:15.180  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:42:15.185  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:42:15.186  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:42:15.188  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:42:15.190  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:42:15.190  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:42:15.192  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:42:15.193  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:42:15.524  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:42:15.528  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:42:15.862  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:42:16.194  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:42:16.418  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:42:16.665  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:42:16.705 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:42:16.707 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:42:16.982  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:42:17.009  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:42:17.019  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:42:17.127  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:42:17.145  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.145 seconds (JVM running for 12.426)
2023-02-16 20:42:17.191  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:42:19.829  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:42:19.832  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:42:19.837  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:42:43.137  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:42:43.143  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:42:44.595  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:42:44.990  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:42:45.446  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:42:45.518  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:42:45.564  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.304 seconds (JVM running for 4.383)
2023-02-16 20:42:45.570  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:42:45.654  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:42:46.845  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:42:46.850  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:42:47.098  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 235 ms. Found 14 JPA repository interfaces.
2023-02-16 20:42:47.257  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:42:47.808  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:42:47.822  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:42:47.824  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:42:47.944  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:42:47.945  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2283 ms
2023-02-16 20:42:48.102  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:42:48.296  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:42:48.837  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:42:48.907  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:42:49.019  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:42:49.254  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:42:49.458  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:42:49.576  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:42:50.674  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:42:50.691  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:42:51.706  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:42:51.709  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:42:51.713  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:42:51.714  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:42:51.716  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:42:51.717  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:42:51.718  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:42:51.719  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:42:52.157  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:42:52.161  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:42:52.521  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:42:52.858  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:42:53.131  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:42:53.367 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:42:53.370 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:42:53.396  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:42:53.707  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:42:53.733  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:42:53.742  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:42:53.848  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:42:53.867  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.29 seconds (JVM running for 12.686)
2023-02-16 20:42:53.912  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:42:56.310  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:42:56.313  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:42:56.318  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:43:19.684  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:43:19.689  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:43:21.028  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:43:21.518  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:43:21.973  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:43:22.041  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:43:22.082  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.141 seconds (JVM running for 4.298)
2023-02-16 20:43:22.090  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:43:22.168  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:43:23.289  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:43:23.294  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:43:23.571  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 264 ms. Found 14 JPA repository interfaces.
2023-02-16 20:43:23.720  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:43:24.325  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:43:24.342  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:43:24.345  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:43:24.498  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:43:24.500  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2325 ms
2023-02-16 20:43:24.635  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:43:24.763  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:43:25.331  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:43:25.416  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:43:25.562  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:43:25.818  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:43:26.023  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:43:26.136  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:43:27.163  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:43:27.180  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:43:28.095  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:43:28.098  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:43:28.101  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:43:28.102  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:43:28.104  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:43:28.105  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:43:28.106  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:43:28.107  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:43:28.497  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:43:28.501  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:43:28.832  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:43:29.152  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:43:29.353  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:43:29.637  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:43:29.687 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:43:29.690 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:43:30.082  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:43:30.116  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:43:30.127  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:43:30.309  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:43:30.330  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.232 seconds (JVM running for 12.546)
2023-02-16 20:43:30.391  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:43:32.888  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:43:32.891  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:43:32.895  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:43:56.356  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:43:56.363  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:43:57.647  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:43:58.106  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:43:58.547  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:43:58.616  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:43:58.662  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.019 seconds (JVM running for 4.092)
2023-02-16 20:43:58.670  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:43:58.752  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:43:59.923  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:43:59.929  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:44:00.265  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 321 ms. Found 14 JPA repository interfaces.
2023-02-16 20:44:00.480  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:44:01.202  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:44:01.218  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:44:01.221  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:44:01.326  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:44:01.327  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2560 ms
2023-02-16 20:44:01.469  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:44:01.599  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:44:02.196  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:44:02.270  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:44:02.381  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:44:02.628  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:44:02.821  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:44:02.928  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:44:04.040  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:44:04.057  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:44:05.017  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:44:05.020  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:44:05.023  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:44:05.024  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:44:05.027  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:44:05.029  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:44:05.030  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:44:05.031  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:44:05.388  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:44:05.392  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:44:05.771  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:44:06.103  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:44:06.360  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:44:06.610 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:44:06.611 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:44:06.637  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:44:06.943  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:44:06.967  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:44:06.977  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:44:07.133  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:44:07.161  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.485 seconds (JVM running for 12.591)
2023-02-16 20:44:07.250  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:44:09.677  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:44:09.681  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:44:09.685  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:44:32.973  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:44:32.978  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:44:34.245  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:44:34.700  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:44:35.112  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:44:35.180  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:44:35.225  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 2.962 seconds (JVM running for 3.96)
2023-02-16 20:44:35.232  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:44:35.314  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:44:36.564  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:44:36.569  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:44:36.891  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 14 JPA repository interfaces.
2023-02-16 20:44:37.100  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:44:37.671  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:44:37.686  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:44:37.688  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:44:37.803  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:44:37.805  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2482 ms
2023-02-16 20:44:37.938  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:44:38.071  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:44:38.579  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:44:38.658  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:44:38.763  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:44:39.041  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:44:39.232  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:44:39.334  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:44:40.471  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:44:40.485  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:44:41.455  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:44:41.458  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:44:41.460  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:44:41.461  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:44:41.463  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:44:41.464  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:44:41.465  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:44:41.466  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:44:41.820  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:44:41.824  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:44:42.189  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:44:42.614  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:44:42.839  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:44:43.018 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:44:43.020 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:44:43.151  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:44:43.512  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:44:43.539  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:44:43.549  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:44:43.654  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:44:43.670  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.431 seconds (JVM running for 12.405)
2023-02-16 20:44:43.713  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:44:46.379  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:44:46.382  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:44:46.387  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:45:09.809  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:45:09.815  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:45:11.153  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:45:11.661  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:45:12.381  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:45:12.484  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:45:12.545  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.424 seconds (JVM running for 4.411)
2023-02-16 20:45:12.555  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:45:12.648  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:45:14.003  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:45:14.009  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:45:14.348  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 14 JPA repository interfaces.
2023-02-16 20:45:14.522  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:45:15.132  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:45:15.148  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:45:15.150  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:45:15.254  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:45:15.256  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2600 ms
2023-02-16 20:45:15.397  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:45:15.564  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:45:16.105  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:45:16.190  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:45:16.304  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:45:16.561  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:45:16.764  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:45:16.886  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:45:18.021  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:45:18.038  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:45:19.094  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:45:19.096  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:45:19.098  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:45:19.099  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:45:19.102  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:45:19.103  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:45:19.105  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:45:19.106  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:45:19.501  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:45:19.508  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:45:19.913  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:45:20.255  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:45:20.492  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:45:20.749 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:45:20.751 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:45:20.763  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:45:21.120  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:45:21.147  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:45:21.157  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:45:21.265  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:45:21.284  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.72 seconds (JVM running for 13.149)
2023-02-16 20:45:21.330  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:45:23.270  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:45:23.273  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:45:23.277  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:45:46.297  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:45:46.303  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:45:47.659  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:45:48.110  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:45:48.591  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:45:48.654  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:45:48.698  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.076 seconds (JVM running for 4.099)
2023-02-16 20:45:48.704  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:45:48.784  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:45:50.025  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:45:50.030  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:45:50.295  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 251 ms. Found 14 JPA repository interfaces.
2023-02-16 20:45:50.441  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:45:50.986  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:45:51.000  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:45:51.002  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:45:51.118  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:45:51.120  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2328 ms
2023-02-16 20:45:51.288  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:45:51.466  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:45:52.021  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:45:52.098  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:45:52.201  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:45:52.481  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:45:52.699  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:45:52.802  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:45:53.869  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:45:53.885  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:45:55.037  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:45:55.040  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:45:55.042  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:45:55.043  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:45:55.046  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:45:55.047  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:45:55.048  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:45:55.049  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:45:55.423  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:45:55.428  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:45:55.822  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:45:56.202  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:45:56.449  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:45:56.617 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:45:56.621 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:45:56.706  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:45:57.010  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:45:57.036  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:45:57.046  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:45:57.149  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:45:57.166  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.455 seconds (JVM running for 12.567)
2023-02-16 20:45:57.209  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:45:59.767  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:45:59.770  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:45:59.774  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:46:22.764  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:46:22.770  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:46:24.117  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:46:24.833  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:46:25.240  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:46:25.314  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:46:25.359  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.262 seconds (JVM running for 4.266)
2023-02-16 20:46:25.365  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:46:25.453  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:46:26.754  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:46:26.760  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:46:27.052  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 14 JPA repository interfaces.
2023-02-16 20:46:27.224  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:46:27.815  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:46:27.832  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:46:27.833  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:46:27.940  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:46:27.942  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2477 ms
2023-02-16 20:46:28.080  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:46:28.263  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:46:28.687  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:46:28.960  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:46:29.061  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:46:29.309  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:46:29.521  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:46:29.650  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:46:30.899  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:46:30.920  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:46:32.038  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:46:32.040  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:46:32.044  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:46:32.045  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:46:32.048  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:46:32.050  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:46:32.052  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:46:32.053  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:46:32.441  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:46:32.446  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:46:32.828  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:46:33.165  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:46:33.385  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:46:33.627  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:46:33.677 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:46:33.678 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:46:33.948  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:46:33.996  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:46:34.008  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:46:34.134  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:46:34.155  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.783 seconds (JVM running for 13.063)
2023-02-16 20:46:34.201  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:46:36.214  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:46:36.217  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:46:36.220  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:46:59.477  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:46:59.483  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:47:01.220  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:47:01.645  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:47:02.043  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:47:02.119  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:47:02.160  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.374 seconds (JVM running for 4.497)
2023-02-16 20:47:02.166  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:47:02.242  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:47:03.378  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:47:03.384  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:47:03.669  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 271 ms. Found 14 JPA repository interfaces.
2023-02-16 20:47:03.835  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:47:04.395  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:47:04.410  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:47:04.411  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:47:04.522  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:47:04.524  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2274 ms
2023-02-16 20:47:04.656  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:47:04.797  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:47:05.338  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:47:05.407  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:47:05.498  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:47:05.738  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:47:05.918  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:47:06.019  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:47:07.252  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:47:07.267  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:47:08.208  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:47:08.211  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:47:08.213  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:47:08.214  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:47:08.216  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:47:08.217  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:47:08.218  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:47:08.219  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:47:08.527  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:47:08.531  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:47:08.851  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:47:09.195  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:47:09.420  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:47:09.655  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:47:09.692 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:47:09.694 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:47:09.940  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:47:09.960  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:47:09.967  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:47:10.061  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:47:10.081  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 7.91 seconds (JVM running for 12.418)
2023-02-16 20:47:10.124  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:47:12.787  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:47:12.790  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:47:12.794  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:47:35.867  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:47:35.874  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:47:37.481  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:47:37.916  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:47:38.336  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:47:38.402  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:47:38.447  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.254 seconds (JVM running for 4.294)
2023-02-16 20:47:38.453  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:47:38.530  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:47:39.680  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:47:39.686  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:47:40.013  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 314 ms. Found 14 JPA repository interfaces.
2023-02-16 20:47:40.290  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:47:40.897  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:47:40.913  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:47:40.915  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:47:41.025  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:47:41.027  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2489 ms
2023-02-16 20:47:41.200  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:47:41.324  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:47:41.875  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:47:41.948  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:47:42.070  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:47:42.376  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:47:42.602  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:47:42.713  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:47:43.855  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:47:43.873  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:47:44.832  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:47:44.835  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:47:44.837  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:47:44.839  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:47:44.841  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:47:44.842  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:47:44.843  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:47:44.844  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:47:45.170  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:47:45.174  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:47:45.552  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:47:45.904  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:47:46.112  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:47:46.319  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:47:46.392 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:47:46.395 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:47:46.626  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:47:46.658  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:47:46.669  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:47:46.783  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:47:46.802  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.342 seconds (JVM running for 12.649)
2023-02-16 20:47:46.846  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:47:49.267  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:47:49.270  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:47:49.275  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:48:12.723  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:48:12.730  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:48:14.290  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:48:14.732  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:48:15.137  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:48:15.204  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:48:15.248  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.277 seconds (JVM running for 4.284)
2023-02-16 20:48:15.254  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:48:15.338  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:48:16.492  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:48:16.498  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:48:16.780  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 268 ms. Found 14 JPA repository interfaces.
2023-02-16 20:48:16.930  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:48:17.474  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:48:17.488  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:48:17.490  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:48:17.588  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:48:17.589  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2243 ms
2023-02-16 20:48:17.706  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:48:17.810  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:48:18.436  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:48:18.513  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:48:18.626  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:48:18.875  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:48:19.060  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:48:19.163  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:48:20.343  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:48:20.359  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:48:21.296  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:48:21.299  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:48:21.302  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:48:21.303  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:48:21.305  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:48:21.306  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:48:21.307  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:48:21.309  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:48:21.721  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:48:21.726  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:48:22.101  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:48:22.382  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:48:22.579  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:48:22.817  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:48:22.931 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:48:22.932 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:48:23.124  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:48:23.147  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:48:23.156  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:48:23.266  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:48:23.287  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.026 seconds (JVM running for 12.322)
2023-02-16 20:48:23.336  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:48:26.107  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:48:26.111  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:48:26.116  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:48:49.364  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:48:49.373  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:48:50.821  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:48:51.233  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:48:51.616  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:48:51.683  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:48:51.729  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.123 seconds (JVM running for 4.183)
2023-02-16 20:48:51.735  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:48:51.815  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:48:52.961  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:48:52.966  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:48:53.230  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 250 ms. Found 14 JPA repository interfaces.
2023-02-16 20:48:53.383  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:48:54.039  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:48:54.057  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:48:54.060  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:48:54.185  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:48:54.188  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2364 ms
2023-02-16 20:48:54.357  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:48:54.547  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:48:55.188  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:48:55.260  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:48:55.354  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:48:55.695  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:48:55.881  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:48:56.003  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:48:57.069  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:48:57.085  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:48:58.024  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:48:58.027  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:48:58.029  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:48:58.030  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:48:58.032  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:48:58.033  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:48:58.033  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:48:58.034  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:48:58.409  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:48:58.414  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:48:58.770  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:48:59.099  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:48:59.321  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:48:59.571  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:48:59.602 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:48:59.604 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:48:59.906  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:48:59.932  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:48:59.941  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:49:00.046  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:49:00.067  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.326 seconds (JVM running for 12.52)
2023-02-16 20:49:00.114  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:49:02.653  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:49:02.655  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:49:02.660  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:49:26.291  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:49:26.297  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:49:27.744  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:49:28.176  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:49:28.586  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:49:28.651  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:49:28.695  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.135 seconds (JVM running for 4.219)
2023-02-16 20:49:28.702  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:49:28.786  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:49:29.959  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:49:29.964  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:49:30.281  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 304 ms. Found 14 JPA repository interfaces.
2023-02-16 20:49:30.535  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:49:31.226  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:49:31.241  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:49:31.244  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:49:31.339  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:49:31.341  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2545 ms
2023-02-16 20:49:31.450  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:49:31.581  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:49:32.159  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:49:32.234  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:49:32.335  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:49:32.585  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:49:32.769  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:49:32.877  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:49:33.990  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:49:34.010  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:49:34.949  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:49:34.951  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:49:34.954  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:49:34.955  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:49:34.957  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:49:34.958  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:49:34.959  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:49:34.960  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:49:35.283  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:49:35.288  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:49:35.620  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:49:35.999  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:49:36.260  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:49:36.465 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:49:36.466 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:49:36.579  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:49:36.897  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:49:36.922  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:49:36.932  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:49:37.054  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:49:37.079  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.371 seconds (JVM running for 12.604)
2023-02-16 20:49:37.141  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:49:39.592  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:49:39.596  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:49:39.601  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:50:02.906  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:50:02.912  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:50:04.549  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:50:05.005  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:50:05.440  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:50:05.507  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:50:05.550  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.326 seconds (JVM running for 4.503)
2023-02-16 20:50:05.556  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:50:05.644  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:50:06.943  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:50:06.948  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:50:07.291  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 329 ms. Found 14 JPA repository interfaces.
2023-02-16 20:50:07.493  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:50:08.048  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:50:08.062  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:50:08.063  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:50:08.164  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:50:08.166  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2514 ms
2023-02-16 20:50:08.297  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:50:08.433  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:50:08.968  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:50:09.044  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:50:09.139  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:50:09.373  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:50:09.562  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:50:09.665  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:50:10.764  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:50:10.801  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:50:11.697  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:50:11.700  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:50:11.703  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:50:11.704  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:50:11.708  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:50:11.710  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:50:11.712  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:50:11.713  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:50:12.067  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:50:12.072  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:50:12.551  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:50:12.911  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:50:13.155  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:50:13.310 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:50:13.316 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:50:13.400  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:50:13.797  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:50:13.823  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:50:13.832  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:50:13.929  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:50:13.944  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.382 seconds (JVM running for 12.897)
2023-02-16 20:50:13.982  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:50:16.152  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:50:16.155  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:50:16.159  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:50:39.297  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:50:39.303  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:50:40.764  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:50:41.222  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:50:41.639  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:50:41.709  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:50:41.753  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.14 seconds (JVM running for 4.169)
2023-02-16 20:50:41.761  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:50:41.841  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:50:43.099  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:50:43.104  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:50:43.457  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 334 ms. Found 14 JPA repository interfaces.
2023-02-16 20:50:43.618  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:50:44.236  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:50:44.250  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:50:44.251  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:50:44.361  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:50:44.363  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2514 ms
2023-02-16 20:50:44.520  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:50:44.671  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:50:45.227  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:50:45.305  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:50:45.398  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:50:45.665  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:50:45.861  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:50:45.977  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:50:47.047  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:50:47.063  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:50:47.949  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:50:47.952  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:50:47.955  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:50:47.956  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:50:47.957  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:50:47.959  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:50:47.959  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:50:47.960  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:50:48.337  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:50:48.342  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:50:48.755  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:50:49.100  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:50:49.346  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:50:49.601 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:50:49.603 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:50:49.638  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:50:49.956  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:50:49.980  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:50:49.989  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:50:50.095  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:50:50.117  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.348 seconds (JVM running for 12.532)
2023-02-16 20:50:50.165  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:50:52.695  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:50:52.698  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:50:52.703  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:51:15.994  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:51:16.000  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:51:17.511  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:51:17.932  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:51:18.390  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:51:18.475  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:51:18.530  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.25 seconds (JVM running for 4.319)
2023-02-16 20:51:18.537  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:51:18.628  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:51:19.831  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:51:19.836  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:51:20.105  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 257 ms. Found 14 JPA repository interfaces.
2023-02-16 20:51:20.253  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:51:20.793  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:51:20.807  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:51:20.810  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:51:20.920  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:51:20.922  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2285 ms
2023-02-16 20:51:21.042  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:51:21.164  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:51:21.718  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:51:21.786  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:51:21.885  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:51:22.125  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:51:22.308  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:51:22.409  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:51:23.421  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:51:23.439  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:51:24.481  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:51:24.491  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:51:24.495  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:51:24.500  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:51:24.503  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:51:24.505  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:51:24.508  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:51:24.511  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:51:24.952  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:51:24.956  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:51:25.273  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:51:25.599  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:51:25.867  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:51:26.123 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:51:26.125 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:51:26.148  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:51:26.448  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:51:26.473  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:51:26.482  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:51:26.584  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:51:26.606  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.059 seconds (JVM running for 12.395)
2023-02-16 20:51:26.651  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:51:29.340  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:51:29.342  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:51:29.347  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-02-16 20:51:52.440  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:51:52.448  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:51:53.765  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:51:54.230  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:51:54.813  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:51:54.892  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:51:54.938  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.23 seconds (JVM running for 4.202)
2023-02-16 20:51:54.945  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:51:55.038  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:51:56.421  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:51:56.426  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:51:56.693  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 253 ms. Found 14 JPA repository interfaces.
2023-02-16 20:51:56.853  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:51:57.450  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:51:57.464  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:51:57.466  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:51:57.584  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:51:57.586  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2539 ms
2023-02-16 20:51:57.729  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:51:57.892  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:51:58.452  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:51:58.529  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:51:58.634  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:51:58.881  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:51:59.101  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:51:59.237  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:52:00.387  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:52:00.405  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:52:01.474  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:52:01.476  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:52:01.477  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:52:01.479  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:52:01.480  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:52:01.481  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:52:01.482  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:52:01.483  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:52:01.837  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:52:01.842  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:52:02.260  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:52:02.591  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:52:02.811  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:52:03.054  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:52:03.070 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:52:03.073 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:52:03.355  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:52:03.381  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:52:03.395  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:52:03.514  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:52:03.534  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.582 seconds (JVM running for 12.798)
2023-02-16 20:52:03.579  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:52:05.852  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:52:05.855  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:52:05.859  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-02-16 20:52:29.158  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Starting ApolloApplication v2.0.0 using Java 1.8.0_212 on apollo with PID 236 (/apollo-quick-start/portal/apollo-portal.jar started by root in /apollo-quick-start/portal)
2023-02-16 20:52:29.164  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:52:30.567  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=6dbb059f-6173-3db9-98bb-6972d5f81e2c
2023-02-16 20:52:31.029  INFO 236 --- [main] o.s.l.c.support.AbstractContextSource    : Property 'userDn' not set - anonymous context will be used for read-write operations
2023-02-16 20:52:31.519  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:52:31.589  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:52:31.636  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 3.184 seconds (JVM running for 4.152)
2023-02-16 20:52:31.644  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application isActive: true
2023-02-16 20:52:31.725  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : The following 2 profiles are active: "github", "auth"
2023-02-16 20:52:32.841  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2023-02-16 20:52:32.846  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-16 20:52:33.119  INFO 236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 260 ms. Found 14 JPA repository interfaces.
2023-02-16 20:52:33.279  INFO 236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8b96f1a3-336c-3cda-8833-ab413edded1a
2023-02-16 20:52:33.846  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8070 (http)
2023-02-16 20:52:33.859  INFO 236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-02-16 20:52:33.860  INFO 236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]
2023-02-16 20:52:33.951  INFO 236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-02-16 20:52:33.952  INFO 236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2219 ms
2023-02-16 20:52:34.108  INFO 236 --- [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2023-02-16 20:52:34.240  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-02-16 20:52:34.778  INFO 236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-02-16 20:52:34.852  INFO 236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-16 20:52:34.953  INFO 236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.7.Final
2023-02-16 20:52:35.201  INFO 236 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-16 20:52:35.388  INFO 236 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-02-16 20:52:35.495  WARN 236 --- [main] org.hibernate.cfg.AnnotationBinder       : HHH000503: A class should not be annotated with both @Inheritance and @MappedSuperclass. @Inheritance will be ignored for: com.ctrip.framework.apollo.common.entity.BaseEntity.
2023-02-16 20:52:36.620  INFO 236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-16 20:52:36.636  INFO 236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-16 20:52:37.598  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.envs = dev
2023-02-16 20:52:37.600  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : organizations = [{"orgId":"TEST1","orgName":"样例部门1"},{"orgId":"TEST2","orgName":"样例部门2"}]. Old value = null
2023-02-16 20:52:37.603  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : superAdmin = apollo. Old value = null
2023-02-16 20:52:37.603  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : api.readTimeout = 10000. Old value = null
2023-02-16 20:52:37.605  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : consumer.token.salt = someSalt. Old value = null
2023-02-16 20:52:37.607  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : admin.createPrivateNamespace.switch = true. Old value = null
2023-02-16 20:52:37.608  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : configView.memberOnly.envs = dev. Old value = null
2023-02-16 20:52:37.609  INFO 236 --- [main] c.c.f.a.p.s.PortalDBPropertySource       : Load config from DB : apollo.portal.meta.servers = {}. Old value = null
2023-02-16 20:52:37.932  INFO 236 --- [main] f.a.p.e.DatabasePortalMetaServerProvider : Loaded meta server addresses from portal config: {}
2023-02-16 20:52:37.937  INFO 236 --- [main] .f.a.p.e.DefaultPortalMetaServerProvider : Loaded meta server addresses from system property, os environment and properties file: {UAT=${uat_meta}, PRO=${pro_meta}, LPT=${lpt_meta}, DEV=http://localhost:8080, FAT=${fat_meta}, LOCAL=http://localhost:8080}
2023-02-16 20:52:38.297  INFO 236 --- [Apollo-ServiceLocator-1] c.c.f.a.p.e.PortalMetaDomainService      : Located meta server address [http://localhost:8080] for env [DEV]
2023-02-16 20:52:38.644  WARN 236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-16 20:52:38.859  INFO 236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request
2023-02-16 20:52:39.143 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed, maybe because of meta server down or configure wrong meta server address. env: DEV, meta server address: http://localhost:8080

com.ctrip.framework.apollo.common.exception.ServiceException: No available admin server. Maybe because of meta server down or all admin server down. Meta server address: http://localhost:8080
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.getAdminServices(RetryableRestTemplate.java:228)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.execute(RetryableRestTemplate.java:132)
	at com.ctrip.framework.apollo.portal.component.RetryableRestTemplate.get(RetryableRestTemplate.java:98)
	at com.ctrip.framework.apollo.portal.api.AdminServiceAPI$HealthAPI.health(AdminServiceAPI.java:43)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.isUp(PortalSettings.java:148)
	at com.ctrip.framework.apollo.portal.component.PortalSettings$HealthCheckTask.run(PortalSettings.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2023-02-16 20:52:39.146 ERROR 236 --- [Apollo-EnvHealthChecker-1] c.c.f.a.portal.component.PortalSettings  : Env health check failed for 1 times which less than down threshold. down threshold:2, env: DEV, meta server address: http://localhost:8080
2023-02-16 20:52:39.157  INFO 236 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2023-02-16 20:52:39.578  INFO 236 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses Jersey
2023-02-16 20:52:39.608  WARN 236 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2023-02-16 20:52:39.617  INFO 236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''
2023-02-16 20:52:39.748  INFO 236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8070 (http) with context path ''
2023-02-16 20:52:39.766  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : Started ApolloApplication in 8.116 seconds (JVM running for 12.282)
2023-02-16 20:52:39.812  INFO 236 --- [main] c.c.f.apollo.assembly.ApolloApplication  : application-1 isActive: true
2023-02-16 20:52:42.637  INFO 236 --- [http-nio-8070-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-16 20:52:42.640  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-02-16 20:52:42.645  INFO 236 --- [http-nio-8070-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
